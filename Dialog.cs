using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using Conquord.Client;
using Conquord.Network;
using Conquord.Interfaces;
using Conquord.Network.GamePackets;
using Conquord.Game.ConquerStructures.Society;
using Conquord.Game.ConquerStructures;
using Conquord.Database;
using System.Text.RegularExpressions;
using System.Drawing;
using Conquord.Game;
using System.Collections.Concurrent;
using Titles = Conquord.Network.GamePackets.TitlePacket.Titles;
using Conquord.ShaDow;

namespace Conquord
{
    public class Npcs
    {
        public static IniFile AvatarLinker = null;
        public GameClient Client;
        public static Game.Features.Tournaments.TeamElitePk[] Tournaments;
        public List<NpcReply> Replies;
        public static Conquord.Game.Features.Tournaments.TeamElitePk.GamePackets ID;
        public Npcs(GameClient client)
        {
            Client = client;
            Replies = new List<NpcReply>();
        }
        public static string WindwalkerSkills(GameClient client, ushort spellid)
        {
            byte level = 0;
            if (spellid == 12830 || spellid == 13070 || spellid == 13080) level = 120;
            if (spellid == 12840 || spellid == 12960 || spellid == 13000) level = 70;
            if (spellid == 12850 || spellid == 12930 || spellid == 12990) level = 40;
            if (spellid == 12860 || spellid == 12870) level = 3;
            if (spellid == 12980) level = 1;
            if (spellid == 12890 || spellid == 12940 || spellid == 12950 || spellid == 13090) level = 15;
            if (spellid == 12970 || spellid == 13020 || spellid == 13030) level = 100;
            var spell = Database.SpellTable.GetSpell(spellid, client);
            if (!client.Spells.ContainsKey(spellid) && client.Entity.Level >= level) return "Available";
            else if (client.Spells.ContainsKey(spellid)) return "Learned";
            else return "N/A";
        }
        public void Text(string text)
        {
            if (text.Length > 100)
            {
                if (text.Length > 1000)
                    text = text.Substring(0, 1000);
                int myLength = text.Length;
                while (myLength > 0)
                {
                    int lastIndex = 100;
                    if (myLength < 100)
                        lastIndex = myLength;
                    string txt = text.Substring(0, lastIndex);
                    text = text.Substring(lastIndex, myLength - lastIndex);
                    myLength -= lastIndex;
                    Replies.Add(new NpcReply(NpcReply.Dialog, txt));
                }
            }
            else
                Replies.Add(new NpcReply(NpcReply.Dialog, text));
        }
        public void Option(string text, byte id)
        {
            Replies.Add(new NpcReply(NpcReply.Option, text) { OptionID = id });
        }
        public void Avatar(uint npcMesh)
        {
            if (Replies.Count == 0)
                Replies.Add(new NpcReply(NpcReply.Avatar, "") { InputMaxLength = (byte)npcMesh });
            else
                Replies[0].InputMaxLength = (byte)npcMesh;
        }
        public void Popup(string text, byte id)
        {
            Replies.Clear();
            Client.Send(new NpcReply(NpcReply.MessageBox, text) { OptionID = id });
        }
        public void Input(string text, byte id, byte maxLength)
        {
            Replies.Add(new NpcReply()
            {
                DontDisplay = true,
                InputMaxLength = maxLength,
                InteractType = NpcReply.Input,
                OptionID = id,
                Text = text
            });
        }
        public void Send()
        {
            foreach (NpcReply nr in Replies)
                Client.Send(nr);
            Client.Send(new NpcReply() { InteractType = 100, DontDisplay = false });
            Replies.Clear();
            Sent = true;
        }
        private bool Sent = false;
        public static ISkill LearnableSpell(ushort spellid)
        {
            ISkill spell = new Spell(true);
            spell.ID = spellid;
            return spell;
        }
        public static ISkill LearnableSpell(ushort spellid, byte level)
        {
            ISkill spell = new Spell(true);
            spell.ID = spellid;
            spell.Level = level;
            return spell;
        }
        public static bool InvalidCharacters(string Name)
        {
            if (Name.Length > 16)
                Name = Name.Substring(0, 16);
            if (Name == "")
                return false;
            foreach (char c in Name)
                if (Conquord.Kernel.InvalidCharacters.Contains(c) || (byte)c < 48)
                    return true;
            return true;
        }
        #region DailyQuest
        public static string CheckIfCompletedDaily(byte type, GameClient client)
        {
            switch (type)
            {
                case 1:
                    {
                        if (client.Quests.HasQuest(QuestID.WorshipLeaders))
                        {
                            if (client.Quests.CheckQuest(QuestID.WorshipLeaders) == QuestPacket.QuestData.QuestStatus.Accepted)
                            {
                                return " (accepted)";
                            }
                            if (client.Quests.CheckQuest(QuestID.WorshipLeaders) == QuestPacket.QuestData.QuestStatus.Finished)
                            {
                                return " (Completed)";
                            }
                            return " (Level 50)";
                        }
                        return " (Level 50)";
                    }
                case 2:
                    {
                        if (client.Quests.HasQuest(QuestID.EveryThingHasAPrice))
                        {
                            if (client.Quests.CheckQuest(QuestID.EveryThingHasAPrice) == QuestPacket.QuestData.QuestStatus.Accepted)
                            {
                                return " (accepted)";
                            }
                            if (client.Quests.CheckQuest(QuestID.EveryThingHasAPrice) == QuestPacket.QuestData.QuestStatus.Finished)
                            {
                                return " (Done)";
                            }
                            return " (L60)";
                        }
                        return " (L60)";
                    }
                case 3:
                    {
                        if (client.Quests.HasQuest(QuestID.Release_the_souls))
                        {
                            if (client.Quests.CheckQuest(QuestID.Release_the_souls) == QuestPacket.QuestData.QuestStatus.Accepted)
                            {
                                return " (accepted)";
                            }
                            if (client.Quests.CheckQuest(QuestID.Release_the_souls) == QuestPacket.QuestData.QuestStatus.Finished)
                            {
                                return " (Done)";
                            }
                            return " (L70)";
                        }
                        return " (L70)";
                    }
                case 4:
                    {
                        if (client.Quests.HasQuest(QuestID.RareMaterials))
                        {
                            if (client.Quests.CheckQuest(QuestID.RareMaterials) == QuestPacket.QuestData.QuestStatus.Accepted)
                            {
                                return " (Underway)";
                            }
                            if (client.Quests.CheckQuest(QuestID.RareMaterials) == QuestPacket.QuestData.QuestStatus.Finished)
                            {
                                return " (Done)";
                            }
                            return " (L75).";
                        }
                        return " (L75).";
                    }
                case 5:
                    {
                        if (client.Quests.HasQuest(QuestID.Magnolias))
                        {
                            if (client.Quests.CheckQuest(QuestID.Magnolias) == QuestPacket.QuestData.QuestStatus.Accepted)
                            {
                                return " (Underway)";
                            }
                            if (client.Quests.CheckQuest(QuestID.Magnolias) == QuestPacket.QuestData.QuestStatus.Finished)
                            {
                                return " (Done)";
                            }
                            return " (L80)";
                        }
                        return " (L80)";
                    }
                case 6:
                    {
                        if (client.Quests.HasQuest(QuestID.TowerOfMystery))
                        {
                            if (client.Quests.CheckQuest(QuestID.TowerOfMystery) == QuestPacket.QuestData.QuestStatus.Accepted)
                            {
                                return " (Underway)";
                            }
                            if (client.Quests.CheckQuest(QuestID.TowerOfMystery) == QuestPacket.QuestData.QuestStatus.Finished)
                            {
                                return " (Done)";
                            }
                            return " (L90).";
                        }
                        return " (L90).";
                    }
                case 7:
                    {
                        if (client.Quests.HasQuest(QuestID.Spirit_Beads))
                        {
                            if (client.Quests.CheckQuest(QuestID.Spirit_Beads) == QuestPacket.QuestData.QuestStatus.Accepted)
                            {
                                return " (In Progress)";
                            }
                            if (client.Quests.CheckQuest(QuestID.Spirit_Beads) == QuestPacket.QuestData.QuestStatus.Finished)
                            {
                                return " (Done)";
                            }
                            return " (L100).";
                        }
                        return " (L100).";
                    }
                case 8:
                    {
                        if (client.Quests.HasQuest(QuestID.HeavenTreasury))
                        {
                            if (client.Quests.CheckQuest(QuestID.HeavenTreasury) == QuestPacket.QuestData.QuestStatus.Accepted)
                            {
                                return " (In Progress)";
                            }
                            if (client.Quests.CheckQuest(QuestID.HeavenTreasury) == QuestPacket.QuestData.QuestStatus.Finished)
                            {
                                return " (Done)";
                            }
                            return " (L110).";
                        }
                        return " (L110).";
                    }
                default: return "";
            }
        }
        public static string GetMonsterNameFromItemID/*DailyQuest*/(uint itemid)
        {
            string Name = "N/A";
            if (itemid == 729088)
                Name = "[Macaque][MacaqueL48]";
            if (itemid == 729089)
                Name = "[SnakeMan]";
            if (itemid == 729090)
                Name = "[SandMonster]";
            if (itemid == 729091)
                Name = "[HillMonster]";
            if (itemid == 729092)
                Name = "[RockMonster]";
            if (itemid == 729093)
                Name = "[BladeGhost]";
            if (itemid == 729094)
                Name = "[BirdMan]";
            if (itemid == 729095)
                Name = "[HawKing]";
            if (itemid == 729096)
                Name = "[Bandit[L97]]";
            if (itemid == 729098)
                Name = "[TombBat]";
            if (itemid == 729099)
                Name = "[BatBlood]";
            if (itemid == 729100)
                Name = "[BullMonster]";
            if (itemid == 729101)
                Name = "[BloodyDevil]";
            if (itemid == 729102)
                Name = "[FrozenGrotto]";
            return Name;
        }
        public static string GetLocationFromItemID/*DailyQuest*/(uint itemid)
        {
            string Name = "N/A";
            if (itemid == 729088)
                Name = "[LoveCanyon]";
            if (itemid == 729089)
                Name = "[LoveCanyon]";
            if (itemid == 729090)
                Name = "[DesertCity]";
            if (itemid == 729091)
                Name = "[DesertCity]";
            if (itemid == 729092)
                Name = "[DesertCity]";
            if (itemid == 729093)
                Name = "[DesertCity]";
            if (itemid == 729094)
                Name = "[BirdIsland]";
            if (itemid == 729095)
                Name = "[BirdIsland]";
            if (itemid == 729096)
                Name = "[BirdIsland]";
            if (itemid == 729098)
                Name = "[MysticCave]";
            if (itemid == 729099)
                Name = "[MysticCave]";
            if (itemid == 729100)
                Name = "[MysticCave]";
            if (itemid == 729101)
                Name = "[MysticCave]";
            if (itemid == 729102)
                Name = "[FrozenGrotto]";
            return Name;
        }
        public static uint MagnoliaID = 729306;
        public static ushort CalculateBeadSpirits(uint id)
        {
            ushort points = 0;
            if (id == 729611)
                points = 2500;
            if (id == 729612)
                points = 2000;
            if (id == 729613)
                points = 1500;
            if (id == 729614)
                points = 1000;
            if (id == 729703)
                points = 500;
            else
                points = ushort.MaxValue;
            return points;
        }
        public static uint GetBeadID(Client.GameClient client, byte type = 0)
        {
            uint id = 0;
            if (type == 0)
                id = 729611;
            if (type == 1)
                id = 729612;
            if (type == 2)
                id = 729613;
            if (type == 3)
                id = 729614;
            if (type == 4)
                id = 729703;
            if (type > 5)
            {
                id = 729611;
                client.Entity.SpiritBeadsType = 0;
            }
            else
                id = 729611;
            return id;
        }
        #endregion
        #region Treasure In The Blue
        public static ushort GoldCoinsCount = 100;
        public static ushort SilverCoinsCount = 200;
        public static ushort CopperCoinsCount = 400;
        #endregion
        public static string KingdomMissionN(uint Num, GameClient client)
        {
            if (Num == 1)
            {
                if (client.Quests.GetQuest(QuestID.BeastsOfLegend) != null && client.Quests.GetQuest(QuestID.BeastsOfLegend).QItem.Status == QuestPacket.QuestData.QuestStatus.Finished)
                {
                    return "Beasts~of~Legend.~(completed)";
                }
                else return "[Realm]~Beasts~of~Legend.";
            }
            if (Num == 2)
            {

                if (client.Quests.GetQuest(QuestID.ThunderStrike) != null && client.Quests.GetQuest(QuestID.ThunderStrike).QItem.Status == QuestPacket.QuestData.QuestStatus.Finished)
                {
                    return "Thunder~Strike.~(completed)";
                }
                else return "[Realm]~Thunder~Strike.";
            }
            if (Num == 3)
            {
                if (client.Quests.GetQuest(QuestID.AshesOfAnger) != null && client.Quests.GetQuest(QuestID.AshesOfAnger).QItem.Status == QuestPacket.QuestData.QuestStatus.Finished)
                {
                    return "Ashes~of~Anger.~(completed)";
                }
                else return "[Realm]~Ashes~of~Anger.";
            }
            if (Num == 4)
            {
                if (client.Quests.GetQuest(QuestID.ScrambleforJustice) != null && client.Quests.GetQuest(QuestID.ScrambleforJustice).QItem.Status == QuestPacket.QuestData.QuestStatus.Finished)
                {
                    return "Scramble~for~Justice.~(completed)";
                }
                else return "[Realm]~Scramble~for~Justice.";
            }
            if (Num == 5)
            {
                if (client.Quests.GetQuest(QuestID.CrystalBounty) != null && client.Quests.GetQuest(QuestID.CrystalBounty).QItem.Status == QuestPacket.QuestData.QuestStatus.Finished)
                {
                    return "Crystal~Bounty.~(completed)";
                }
                else return "[Realm]~Crystal~Bounty.";
            }
            return "";
        }
        public static void GetDialog(NpcRequest npcRequest, GameClient client, bool bypass = false)
        {
            if (!bypass)
            {
                if (AvatarLinker == null)
                    AvatarLinker = new IniFile("\\database\\npc.ini");
                Npcs dialog = new Npcs(client);
                if (!client.Map.Npcs.ContainsKey(client.ActiveNpc) || npcRequest == null || client == null || client.Entity == null || (npcRequest.NpcID == 0 && npcRequest.OptionID == 255))
                    return;
                if (client.Trade != null)
                    if (client.Trade.InTrade)
                        return;
                INpc npcs = null;
                if (client.Map.Npcs.TryGetValue(client.ActiveNpc, out npcs))
                {
                    ushort avatar = (ushort)AvatarLinker.ReadInt16("NpcType" + (npcs.Mesh / 10), "SimpleObjID", 1);

                    dialog.Avatar(avatar);
                }

                switch (client.Entity.MapID)
                {
                    #region TowerOfMystery
                    case 4020:
                        {
                            switch (client.ActiveNpc)
                            {
                                #region FieryDragon
                                case 19166:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Have you been to the Fiery Dragon region? The land was home to the Bright Tribe.");
                                                    dialog.Text("~I wonder what it looks like now.");

                                                    dialog.Option("Send~me~to~Fiery~Dragon.", 1);
                                                    dialog.Option("You`ll~return~home~soon.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    Data datapacket = new Data(true);
                                                    datapacket.UID = client.Entity.UID;
                                                    datapacket.ID = 162;
                                                    datapacket.dwParam = 4020;
                                                    datapacket.Facing = (Game.Enums.ConquerAngle)client.Entity.Facing;
                                                    datapacket.wParam1 = 73;
                                                    datapacket.wParam2 = 98;
                                                    client.Send(datapacket);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Conductress
                                case 19231:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Where do you want to go? I may be able to help you.");

                                                    dialog.Option("Twin~City.", 1);
                                                    dialog.Option("Market.", 2);
                                                    dialog.Option("Nothing.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                client.Entity.Teleport(1002, 252, 234);
                                                break;
                                            case 2:
                                                client.Entity.Teleport(1036, 254, 152);
                                                break;
                                        }
                                        break;
                                    }
                                #endregion
                                #region TowerKeeper
                                case 19127:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Entity.TOM == 0)
                                                    {
                                                        dialog.Text("You must be here to challenge the Tower of Mystery. Since the tower is extremely dangerous, I suggest you to");
                                                        dialog.Text("~make adequate preparations, and team up with your friends for the challenge. If you`re ready, I`ll lead you into the Mystery.");
                                                        dialog.Text("You can unlock Elite mode after completing all floors of the tower at Common mode.");

                                                        dialog.Option("Start~the~challenge.~(Common)", 1);
                                                        dialog.Option("Could~you~tell~me~more~details?", 2);
                                                        dialog.Option("I`ll~talk~to~you~later.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You can challenge any floor of the tower every day, but you can only claim the reward up to 3 times in a day.");
                                                        dialog.Text("    Today`s challenge mode: Common");
                                                        dialog.Text("    Remaining challenge chances: " + client.Entity.TOMRC + "");
                                                        if (client.Entity.TOM == 1)
                                                            dialog.Option("Continue~to~challenge~1F.", 101);
                                                        if (client.Entity.TOM == 2)
                                                            dialog.Option("Continue~to~challenge~2F.", 102);
                                                        if (client.Entity.TOM == 3)
                                                            dialog.Option("Continue~to~challenge~3F.", 103);
                                                        if (client.Entity.TOM == 4)
                                                            dialog.Option("Continue~to~challenge~4F.", 104);
                                                        if (client.Entity.TOM == 5)
                                                            dialog.Option("Continue~to~challenge~5F.", 105);
                                                        if (client.Entity.TOM == 6)
                                                            dialog.Option("Continue~to~challenge~6F.", 106);
                                                        if (client.Entity.TOM == 7)
                                                            dialog.Option("Continue~to~challenge~7F.", 107);
                                                        if (client.Entity.TOM == 8)
                                                            dialog.Option("Continue~to~challenge~8F.", 108);
                                                        if (client.Entity.TOM == 9)
                                                            dialog.Option("Continue~to~challenge~9F.", 109);
                                                        dialog.Option("Choose~a~floor~to~challenge.", 200);
                                                        dialog.Option("I`ll~talk~to~you~later.", 255);
                                                        dialog.Send();



                                                    }
                                                    break;
                                                }
                                            case 200:
                                                {
                                                    dialog.Text("Which floor of the tower would you like to challenge now?");
                                                    if (client.Entity.TOM >= 1)
                                                        dialog.Option("Floor~1.", 201);
                                                    if (client.Entity.TOM >= 2)
                                                        dialog.Option("Floor~2.", 202);
                                                    if (client.Entity.TOM >= 3)
                                                        dialog.Option("Floor~3.", 203);
                                                    if (client.Entity.TOM >= 4)
                                                        dialog.Option("Floor~4.", 204);
                                                    if (client.Entity.TOM >= 5)
                                                        dialog.Option("Floor~5.", 205);
                                                    if (client.Entity.TOM >= 6)
                                                        dialog.Option("Floor~6.", 206);
                                                    if (client.Entity.TOM >= 7)
                                                        dialog.Option("Floor~7.", 207);
                                                    if (client.Entity.TOM >= 8)
                                                        dialog.Option("Floor~8.", 208);
                                                    if (client.Entity.TOM >= 9)
                                                        dialog.Option("Floor~9.", 209);
                                                    dialog.Option("Let~me~think~about~it.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 201:
                                            case 202:
                                            case 203:
                                            case 204:
                                            case 205:
                                            case 206:
                                            case 207:
                                            case 208:
                                            case 209:
                                                {
                                                    dialog.Text("Okay, you`ve selected a floor. If you want to challenge this floor in person,");
                                                    dialog.Text("~I`ll send you there. While if you want to enable `Sweep` function,");
                                                    dialog.Text("~you can directly get the reward without challenging it in person. So, what do you say?");

                                                    dialog.Option("Challenge~it~in~person.", (byte)(npcRequest.OptionID + 10));
                                                    dialog.Option("Enable~`Sweep`.", (byte)(npcRequest.OptionID + 20));
                                                    dialog.Option("I~need~to~think~about~it.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 221:
                                            case 222:
                                            case 223:
                                            case 224:
                                            case 225:
                                            case 226:
                                            case 227:
                                            case 228:
                                            case 229:
                                                {
                                                    if (client.Entity.TOMQ == 0 || client.Entity.TOMQ == 255)
                                                        client.Entity.TOMQ = (byte)Kernel.Random.Next(1, 6);
                                                    dialog.Text("                       Bright Tribe`s Reward         ");
                                                    if (client.Entity.TOMQ == 1)
                                                    {
                                                        dialog.Text("                    **************************************");
                                                        dialog.Text("											<tip color=0xffffffff desc=Item#Reward:#a#Blazing#CP#Fragment,#30-min#EXP#Pack>Normal</tip>");
                                                        dialog.Text("											<tip color=0xffffffff desc=Item#Reward:#a#Blazing#CP#Fragment,#30-min#EXP#Pack>1-Star</tip>");
                                                        dialog.Text("                    **************************************");
                                                    }
                                                    if (client.Entity.TOMQ == 2)
                                                    {
                                                        dialog.Text("                    **************************************");
                                                        dialog.Text("											<tip color=0xff5d86c9 desc=Item#Reward:#a#Blazing#CP#Fragment,#60-min#EXP#Pack>Refined</tip>");
                                                        dialog.Text("											<tip color=0xff5d86c9 desc=Item#Reward:#a#Blazing#CP#Fragment,#60-min#EXP#Pack>2-Stars</tip>");
                                                        dialog.Text("                    **************************************");
                                                    }
                                                    if (client.Entity.TOMQ == 3)
                                                    {
                                                        dialog.Text("                    **************************************");
                                                        dialog.Text("											<tip color=0xff00fa00 desc=Item#Reward:#a#Blazing#CP#Fragment,#90-min#EXP#Pack,#a#Super#Protection#Pill>Unique</tip>");
                                                        dialog.Text("											<tip color=0xff00fa00 desc=Item#Reward:#a#Blazing#CP#Fragment,#90-min#EXP#Pack,#a#Super#Protection#Pill>3-Stars</tip>");
                                                        dialog.Text("                    **************************************");
                                                    }
                                                    if (client.Entity.TOMQ == 4)
                                                    {
                                                        dialog.Text("                    **************************************");
                                                        dialog.Text("											<tip color=0xffc501e7 desc=Item#Reward:#a#Blazing#CP#Fragment,#120-min#EXP#Pack,#2#Super#Protection#Pills>Elite</tip>");
                                                        dialog.Text("											<tip color=0xffc501e7 desc=Item#Reward:#a#Blazing#CP#Fragment,#120-min#EXP#Pack,#2#Super#Protection#Pills>4-Stars</tip>");
                                                        dialog.Text("                    **************************************");

                                                    }
                                                    if (client.Entity.TOMQ >= 5)
                                                    {
                                                        dialog.Text("                    **************************************");
                                                        dialog.Text("											<tip color=0xffffae00 desc=Item#Reward:#a#Blazing#CP#Fragment,#180-min#EXP#Pack,#3#Super#Protection#Pills>Super</tip>");
                                                        dialog.Text("											<tip color=0xffffae00 desc=Item#Reward:#a#Blazing#CP#Fragment,#180-min#EXP#Pack,#3#Super#Protection#Pills>5-Stars</tip>");
                                                        dialog.Text("                    **************************************");

                                                    }

                                                    dialog.Option("Refresh~reward.~(1~CP)", 245);
                                                    dialog.Option("Enable~`Sweep`.~(5~CPs)", 246);
                                                    dialog.Option("Refresh~reward.~(25~Study~Pts)", 247);
                                                    dialog.Option("`Sweep`.~(1~MetorScrolls)", 248);
                                                    dialog.Option("I`ll~think~about~it.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 246:
                                                {
                                                    if (client.Entity.ConquerPoints >= 5)
                                                    {
                                                        client.Entity.ConquerPoints -= 5;
                                                        client.Inventory.Add(3008727, 0, 1);
                                                        if (client.Entity.TOMQ == 1)
                                                        {
                                                            client.Inventory.AddTime(3008956, 1 * 24 * 60 * 60);
                                                            dialog.Text("    You received a Blazing CP Fragment, 30-min EXP Pack!");
                                                        }
                                                        if (client.Entity.TOMQ == 2)
                                                        {
                                                            client.Inventory.AddTime(3008957, 1 * 24 * 60 * 60);
                                                            dialog.Text("    You received a Blazing CP Fragment, 60-min EXP Pack!");
                                                        }
                                                        if (client.Entity.TOMQ == 3)
                                                        {
                                                            client.Inventory.Add(3002030, 0, 1);
                                                            client.Inventory.AddTime(3008958, 1 * 24 * 60 * 60);
                                                            dialog.Text("    You received a Blazing CP Fragment, 90-min EXP Pack, 1 Super Protection Pills!");
                                                        }
                                                        if (client.Entity.TOMQ == 4)
                                                        {
                                                            client.Inventory.Add(3002030, 0, 2);
                                                            client.Inventory.AddTime(3008959, 1 * 24 * 60 * 60);
                                                            dialog.Text("    You received a Blazing CP Fragment, 120-min EXP Pack, 2 Super Protection Pills!");
                                                        }
                                                        if (client.Entity.TOMQ >= 5)
                                                        {
                                                            client.Inventory.Add(3002030, 0, 3);
                                                            client.Inventory.AddTime(3008962, 1 * 24 * 60 * 60);
                                                            dialog.Text("    You received a Blazing CP Fragment, 180-min EXP Pack, 3 Super Protection Pills!");
                                                        }
                                                        dialog.Option("Thanks.", 255);
                                                        dialog.Send();
                                                        client.Entity.TOMRC--;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have enough Conquer Points!");

                                                        dialog.Option("Sorry!", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 245:
                                                {
                                                    if (client.Entity.ConquerPoints >= 1)
                                                    {
                                                        client.Entity.ConquerPoints -= 1;
                                                        client.Entity.TOMQ = (byte)Kernel.Random.Next(1, 5);
                                                        dialog.Text("                       Bright Tribe`s Reward         ");
                                                        if (client.Entity.TOMQ == 1)
                                                        {
                                                            dialog.Text("                    **************************************");
                                                            dialog.Text("											<tip color=0xffffffff desc=Item#Reward:#a#Blazing#CP#Fragment,#30-min#EXP#Pack>Normal</tip>");
                                                            dialog.Text("											<tip color=0xffffffff desc=Item#Reward:#a#Blazing#CP#Fragment,#30-min#EXP#Pack>1-Star</tip>");
                                                            dialog.Text("                    **************************************");
                                                        }
                                                        if (client.Entity.TOMQ == 2)
                                                        {
                                                            dialog.Text("                    **************************************");
                                                            dialog.Text("											<tip color=0xff5d86c9 desc=Item#Reward:#a#Blazing#CP#Fragment,#60-min#EXP#Pack>Refined</tip>");
                                                            dialog.Text("											<tip color=0xff5d86c9 desc=Item#Reward:#a#Blazing#CP#Fragment,#60-min#EXP#Pack>2-Stars</tip>");
                                                            dialog.Text("                    **************************************");
                                                        }
                                                        if (client.Entity.TOMQ == 3)
                                                        {
                                                            dialog.Text("                    **************************************");
                                                            dialog.Text("											<tip color=0xff00fa00 desc=Item#Reward:#a#Blazing#CP#Fragment,#90-min#EXP#Pack,#a#Super#Protection#Pill>Unique</tip>");
                                                            dialog.Text("											<tip color=0xff00fa00 desc=Item#Reward:#a#Blazing#CP#Fragment,#90-min#EXP#Pack,#a#Super#Protection#Pill>3-Stars</tip>");
                                                            dialog.Text("                    **************************************");
                                                        }
                                                        if (client.Entity.TOMQ == 4)
                                                        {
                                                            dialog.Text("                    **************************************");
                                                            dialog.Text("											<tip color=0xffc501e7 desc=Item#Reward:#a#Blazing#CP#Fragment,#120-min#EXP#Pack,#2#Super#Protection#Pills>Elite</tip>");
                                                            dialog.Text("											<tip color=0xffc501e7 desc=Item#Reward:#a#Blazing#CP#Fragment,#120-min#EXP#Pack,#2#Super#Protection#Pills>4-Stars</tip>");
                                                            dialog.Text("                    **************************************");

                                                        }
                                                        if (client.Entity.TOMQ >= 5)
                                                        {
                                                            dialog.Text("                    **************************************");
                                                            dialog.Text("											<tip color=0xffffae00 desc=Item#Reward:#a#Blazing#CP#Fragment,#180-min#EXP#Pack,#3#Super#Protection#Pills>Super</tip>");
                                                            dialog.Text("											<tip color=0xffffae00 desc=Item#Reward:#a#Blazing#CP#Fragment,#180-min#EXP#Pack,#3#Super#Protection#Pills>5-Stars</tip>");
                                                            dialog.Text("                    **************************************");

                                                        }

                                                        dialog.Option("Refresh~reward.~(1~CP)", 225);
                                                        dialog.Option("Enable~`Sweep`.~(5~CPs)", 246);
                                                        dialog.Option("Refresh~reward.~(25~Study~Pts)", 227);
                                                        dialog.Option("`Sweep`.~(1~MetorScrolls)", 248);
                                                        dialog.Option("I`ll~think~about~it.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have enough Conquer Points!");

                                                        dialog.Option("Sorry!", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }

                                            case 248:
                                                {
                                                    if (client.Inventory.Contains(720027, 5))
                                                    {
                                                        client.Entity.TOMRC--;
                                                        client.Inventory.Remove(720027, 5);
                                                        client.Inventory.Add(3008727, 0, 1);
                                                        if (client.Entity.TOMQ == 1)
                                                        {
                                                            client.Inventory.AddTime(3008956, 1 * 24 * 60 * 60);
                                                            dialog.Text("    You received a Blazing CP Fragment, 30-min EXP Pack!");
                                                        }
                                                        if (client.Entity.TOMQ == 2)
                                                        {
                                                            client.Inventory.AddTime(3008957, 1 * 24 * 60 * 60);
                                                            dialog.Text("    You received a Blazing CP Fragment, 60-min EXP Pack!");
                                                        }
                                                        if (client.Entity.TOMQ == 3)
                                                        {
                                                            client.Inventory.Add(3002030, 0, 1);
                                                            client.Inventory.AddTime(3008958, 1 * 24 * 60 * 60);
                                                            dialog.Text("    You received a Blazing CP Fragment, 90-min EXP Pack, 1 Super Protection Pills!");
                                                        }
                                                        if (client.Entity.TOMQ == 4)
                                                        {
                                                            client.Inventory.Add(3002030, 0, 2);
                                                            client.Inventory.AddTime(3008959, 1 * 24 * 60 * 60);
                                                            dialog.Text("    You received a Blazing CP Fragment, 120-min EXP Pack, 2 Super Protection Pills!");
                                                        }
                                                        if (client.Entity.TOMQ >= 5)
                                                        {
                                                            client.Inventory.Add(3002030, 0, 3);
                                                            client.Inventory.AddTime(3008962, 1 * 24 * 60 * 60);
                                                            dialog.Text("    You received a Blazing CP Fragment, 180-min EXP Pack, 3 Super Protection Pills!");
                                                        }
                                                        dialog.Option("Thanks.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have enough Meteor Scrolls!");

                                                        dialog.Option("Sorry!", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 247:
                                                {
                                                    if (client.Entity.SubClasses.StudyPoints >= 25)
                                                    {
                                                        client.Entity.SubClasses.StudyPoints -= 25;
                                                        client.Entity.TOMQ = (byte)Kernel.Random.Next(1, 5);
                                                        dialog.Text("                       Bright Tribe`s Reward         ");
                                                        if (client.Entity.TOMQ == 1)
                                                        {
                                                            dialog.Text("                    **************************************");
                                                            dialog.Text("											<tip color=0xffffffff desc=Item#Reward:#a#Blazing#CP#Fragment,#30-min#EXP#Pack>Normal</tip>");
                                                            dialog.Text("											<tip color=0xffffffff desc=Item#Reward:#a#Blazing#CP#Fragment,#30-min#EXP#Pack>1-Star</tip>");
                                                            dialog.Text("                    **************************************");
                                                        }
                                                        if (client.Entity.TOMQ == 2)
                                                        {
                                                            dialog.Text("                    **************************************");
                                                            dialog.Text("											<tip color=0xff5d86c9 desc=Item#Reward:#a#Blazing#CP#Fragment,#60-min#EXP#Pack>Refined</tip>");
                                                            dialog.Text("											<tip color=0xff5d86c9 desc=Item#Reward:#a#Blazing#CP#Fragment,#60-min#EXP#Pack>2-Stars</tip>");
                                                            dialog.Text("                    **************************************");
                                                        }
                                                        if (client.Entity.TOMQ == 3)
                                                        {
                                                            dialog.Text("                    **************************************");
                                                            dialog.Text("											<tip color=0xff00fa00 desc=Item#Reward:#a#Blazing#CP#Fragment,#90-min#EXP#Pack,#a#Super#Protection#Pill>Unique</tip>");
                                                            dialog.Text("											<tip color=0xff00fa00 desc=Item#Reward:#a#Blazing#CP#Fragment,#90-min#EXP#Pack,#a#Super#Protection#Pill>3-Stars</tip>");
                                                            dialog.Text("                    **************************************");
                                                        }
                                                        if (client.Entity.TOMQ == 4)
                                                        {
                                                            dialog.Text("                    **************************************");
                                                            dialog.Text("											<tip color=0xffc501e7 desc=Item#Reward:#a#Blazing#CP#Fragment,#120-min#EXP#Pack,#2#Super#Protection#Pills>Elite</tip>");
                                                            dialog.Text("											<tip color=0xffc501e7 desc=Item#Reward:#a#Blazing#CP#Fragment,#120-min#EXP#Pack,#2#Super#Protection#Pills>4-Stars</tip>");
                                                            dialog.Text("                    **************************************");

                                                        }
                                                        if (client.Entity.TOMQ >= 5)
                                                        {
                                                            dialog.Text("                    **************************************");
                                                            dialog.Text("											<tip color=0xffffae00 desc=Item#Reward:#a#Blazing#CP#Fragment,#180-min#EXP#Pack,#3#Super#Protection#Pills>Super</tip>");
                                                            dialog.Text("											<tip color=0xffffae00 desc=Item#Reward:#a#Blazing#CP#Fragment,#180-min#EXP#Pack,#3#Super#Protection#Pills>5-Stars</tip>");
                                                            dialog.Text("                    **************************************");

                                                        }

                                                        dialog.Option("Refresh~reward.~(1~CP)", 225);
                                                        dialog.Option("Enable~`Sweep`.~(5~CPs)", 226);
                                                        dialog.Option("Refresh~reward.~(25~Study~Pts)", 227);
                                                        dialog.Option("`Sweep`.~(1~MetorScrolls)", 228);
                                                        dialog.Option("I`ll~think~about~it.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have enough Study Points!");

                                                        dialog.Option("Sorry!", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 211:
                                            case 212:
                                            case 213:
                                            case 214:
                                            case 215:
                                            case 216:
                                            case 217:
                                            case 218:
                                            case 219:
                                                {
                                                    client.Entity.InTOM = true;
                                                    var DM = Kernel.Maps[4000].MakeDynamicMap();
                                                    INpc npc = new Network.GamePackets.NpcSpawn();
                                                    if ((npcRequest.OptionID - 210) == 1)
                                                    {
                                                        npc.UID = 56550;
                                                        npc.Mesh = 40460;
                                                        npc.Name = "GreatPheasant";
                                                        client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 1F where an aggressive devil, GreatPheasant(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                                    }
                                                    if ((npcRequest.OptionID - 210) == 2)
                                                    {
                                                        npc.UID = 56551;
                                                        npc.Mesh = 40470;
                                                        npc.Name = "WingedLord";
                                                        client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 2F where an aggressive devil, WingedLord(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                                    }
                                                    if ((npcRequest.OptionID - 210) == 3)
                                                    {
                                                        npc.UID = 56552;
                                                        npc.Mesh = 40480;
                                                        npc.Name = "WaterTerror";
                                                        client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 3F where an aggressive devil, WaterTerror(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                                    }
                                                    if ((npcRequest.OptionID - 210) == 4)
                                                    {
                                                        npc.UID = 56553;
                                                        npc.Mesh = 40490;
                                                        npc.Name = "RuthlessAsura";
                                                        client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 4F where an aggressive devil, RuthlessAsura(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                                    }
                                                    if ((npcRequest.OptionID - 210) == 5)
                                                    {
                                                        npc.UID = 56554;
                                                        npc.Mesh = 40500;
                                                        npc.Name = "SoulStrangler";
                                                        client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 5F where an aggressive devil, SoulStrangler(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                                    }
                                                    if ((npcRequest.OptionID - 210) == 6)
                                                    {
                                                        npc.UID = 56555;
                                                        npc.Mesh = 40510;
                                                        npc.Name = "InfernalGlutton";
                                                        client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 6F where an aggressive devil, InfernalGlutton(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                                    }
                                                    if ((npcRequest.OptionID - 210) == 7)
                                                    {
                                                        npc.UID = 56556;
                                                        npc.Mesh = 40520;
                                                        npc.Name = "AlienDragon";
                                                        client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 7F where an aggressive devil, AlienDragon(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                                    }
                                                    if ((npcRequest.OptionID - 210) == 8)
                                                    {
                                                        npc.UID = 56557;
                                                        npc.Mesh = 40530;
                                                        npc.Name = "ShadowSpider";
                                                        client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 8F where an aggressive devil, ShadowSpider(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                                    }
                                                    if ((npcRequest.OptionID - 210) == 9)
                                                    {
                                                        npc.UID = 56558;
                                                        npc.Mesh = 40540;
                                                        npc.Name = "FlameGiant";
                                                        client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 9F where an aggressive devil, FlameGiant(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                                    }
                                                    if (client.Entity.TOM > 9) break;
                                                    npc.Type = (Enums.NpcType)2;
                                                    npc.X = 66;
                                                    npc.Y = 66;
                                                    npc.MapID = DM.ID;
                                                    DM.AddNpc(npc);
                                                    client.Entity.TOMM = DM;
                                                    
                                                    client.Entity.Teleport(DM.ID, (ushort)Kernel.Random.Next(49, 79), (ushort)Kernel.Random.Next(49, 79));

                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("There is no limit on the number of times you can challenge the tower, but only 3 chances to claim the reward every day.");
                                                    dialog.Text("~Alternatively, you can use CPs or Meteor Scrolls to start `sweeping` and directly get the reward. If you create a team");
                                                    dialog.Text("~to challenge the tower at Elite mode, you can also claim a Concerted Effort Pack from the Cloud Sweeper after completing it.");

                                                    dialog.Option("Start~the~challenge.", 1);
                                                    dialog.Option("I`ll~talk~to~you~later.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 101:
                                            case 102:
                                            case 103:
                                            case 104:
                                            case 105:
                                            case 106:
                                            case 107:
                                            case 108:
                                            case 109:
                                            case 1:
                                                {

                                                    if (client.Entity.TOM == 0)
                                                        client.Entity.TOM = 1;
                                                    client.Entity.InTOM = true;
                                                    var DM = Kernel.Maps[4000].MakeDynamicMap();
                                                    INpc npc = new Network.GamePackets.NpcSpawn();
                                                    if (client.Entity.TOM == 1)
                                                    {
                                                        npc.UID = 56550;
                                                        npc.Mesh = 40460;
                                                        npc.Name = "GreatPheasant";
                                                        client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 1F where an aggressive devil, GreatPheasant(Common), was sealed. Be careful! ", Color.Red, Message.System));

                                                    }
                                                    if (client.Entity.TOM == 2)
                                                    {
                                                        npc.UID = 56551;
                                                        npc.Mesh = 40470;
                                                        npc.Name = "WingedLord";
                                                        client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 2F where an aggressive devil, WingedLord(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                                    }
                                                    if (client.Entity.TOM == 3)
                                                    {
                                                        npc.UID = 56552;
                                                        npc.Mesh = 40480;
                                                        npc.Name = "WaterTerror";
                                                        client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 3F where an aggressive devil, WaterTerror(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                                    }
                                                    if (client.Entity.TOM == 4)
                                                    {
                                                        npc.UID = 56553;
                                                        npc.Mesh = 40490;
                                                        npc.Name = "RuthlessAsura";
                                                        client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 4F where an aggressive devil, RuthlessAsura(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                                    }
                                                    if (client.Entity.TOM == 5)
                                                    {
                                                        npc.UID = 56554;
                                                        npc.Mesh = 40500;
                                                        npc.Name = "SoulStrangler";
                                                        client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 5F where an aggressive devil, SoulStrangler(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                                    }
                                                    if (client.Entity.TOM == 6)
                                                    {
                                                        npc.UID = 56555;
                                                        npc.Mesh = 40510;
                                                        npc.Name = "InfernalGlutton";
                                                        client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 6F where an aggressive devil, InfernalGlutton(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                                    }
                                                    if (client.Entity.TOM == 7)
                                                    {
                                                        npc.UID = 56556;
                                                        npc.Mesh = 40520;
                                                        npc.Name = "AlienDragon";
                                                        client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 7F where an aggressive devil, AlienDragon(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                                    }
                                                    if (client.Entity.TOM == 8)
                                                    {
                                                        npc.UID = 56557;
                                                        npc.Mesh = 40530;
                                                        npc.Name = "ShadowSpider";
                                                        client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 8F where an aggressive devil, ShadowSpider(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                                    }
                                                    if (client.Entity.TOM == 9)
                                                    {
                                                        npc.UID = 56558;
                                                        npc.Mesh = 40540;
                                                        npc.Name = "FlameGiant";
                                                        client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 9F where an aggressive devil, FlameGiant(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                                    }
                                                    if (client.Entity.TOM > 9) break;
                                                    npc.Type = (Enums.NpcType)2;
                                                    npc.X = 66;
                                                    npc.Y = 66;
                                                    npc.MapID = DM.ID;
                                                    DM.AddNpc(npc);
                                                    client.Entity.TOMM = DM;
                                                    client.Entity.Teleport(DM.ID, (ushort)Kernel.Random.Next(49, 79), (ushort)Kernel.Random.Next(49, 79));

                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region CloudSweeper
                                case 19128:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Every day, when you team up with at least one friend, and conquer the Tower of Mystery at any challenge mode,");
                                                    dialog.Text("~you can claim a reward from me.");

                                                    dialog.Option("Claim~my~team~reward.", 1);
                                                    dialog.Option("I~see.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("To claim a reward from me, you need to team up with your friends and conquere the Tower of Mystery.");

                                                    dialog.Option("I~see.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                            }
                            break;
                        }
                    #endregion
                    #region Twin City
                    case 1002:
                        {
                            switch (client.ActiveNpc)
                            {
                                #region Treasury
                                case 601:
                                    {
                                        if (client.Union == null || !Kernel.PlunderWar) break;
                                        INpc npc = null; if (!client.Map.Npcs.TryGetValue(client.ActiveNpc, out npc)) break;
                                        if (Kernel.GetDistance(client.Entity.X, client.Entity.Y, npc.X, npc.Y) > 8)
                                        {
                                            client.MessageBox("You are too far away!", null, null, 0);
                                            break;
                                        }
                                        client.ProgressBar = new ProgressBar(client, "Looting.", c =>
                                            {
                                                int r = Kernel.Random.Next(1, 6);
                                                if (r == 1)
                                                {
                                                    c.Entity.AddFlag3(Update.Flags3.GoldBrickNormal);
                                                    c.Send(new Message("You successfully looted 1 Normal Gold Brick! You can submit it to the Kingdom Mission Envoy to gain 10 Kingdom Deeds.", Color.Red, Message.System));
                                                }
                                                if (r == 2)
                                                {
                                                    c.Entity.AddFlag3(Update.Flags3.GoldBrickRefined);
                                                    c.Send(new Message("You successfully looted 1 Refined Gold Brick! You can submit it to the Kingdom Mission Envoy to gain 25 Kingdom Deeds.", Color.Red, Message.System));
                                                }
                                                if (r == 3)
                                                {
                                                    c.Entity.AddFlag3(Update.Flags3.GoldBrickUnique);
                                                    c.Send(new Message("You successfully looted 1 Unique Gold Brick! You can submit it to the Kingdom Mission Envoy to gain 50 Kingdom Deeds.", Color.Red, Message.System));
                                                }
                                                if (r ==4)
                                                {
                                                    c.Entity.AddFlag3(Update.Flags3.GoldBrickElite);
                                                    c.Send(new Message("You successfully looted 1 Elite Gold Brick! You can submit it to the Kingdom Mission Envoy to gain 100 Kingdom Deeds.", Color.Red, Message.System));
                                                }
                                                if (r == 5)
                                                {
                                                    c.Entity.AddFlag3(Update.Flags3.GoldBrickSuper);
                                                    c.Send(new Message("You successfully looted 1 Super Gold Brick! You can submit it to the Kingdom Mission Envoy to gain 200 Kingdom Deeds.", Color.Red, Message.System));
                                                }
                                            }, "Looting.", 1);
                                        break;
                                    }
                                #endregion
                                //#region FoxesandHares
                                //case 16515:
                                //case 16519:
                                //case 16520:
                                //case 16508:
                                //case 16518:
                                //case 16512:
                                //case 16517:
                                //case 16521:
                                //    {
                                //        switch (npcRequest.OptionID)
                                //        {
                                //            case 0:
                                //                {
                                //                    dialog.Text("Don`t look at me in that way! I`m not going anywhere!");

                                //                    dialog.Option("I~don`t~need~this~color.", 1);
                                //                    dialog.Send();
                                //                    break;
                                //                }
                                //        }
                                //        break;
                                //    }
                                //#endregion
                                #region FlameTaoist
                                case 4452:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("You must have heard that the Olympic Games. I`ve been waiting for it for my entire life. There are 10 Flame Stones");
                                                    dialog.Text("~that I would like you to light up...You will get some rewards, of course. It really makes sense to us, ah, at least to me.");

                                                    dialog.Option("Rewards?~Tell~me~more!~Come~on!", 1);
                                                    dialog.Option("I~have~a~rune.~Gimme~the~reward!", 2);
                                                    dialog.Option("What`re~the~rewards?", 3);
                                                    dialog.Option("Not~interested.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (GuildWar.IsWar)
                                                    {
                                                        for (int c = 0; c <= 10; c++)
                                                        {
                                                            if (client.Inventory.Contains((uint)(729960 + c), 1))
                                                            {
                                                                dialog.Text("You already have a rune.");
                                                                dialog.Option("Thank you.", 255);
                                                                dialog.Avatar(67);
                                                                dialog.Send();
                                                                return;
                                                            }
                                                        }
                                                        if (client.Inventory.Add(729960, 0, 1))
                                                        {
                                                            dialog.Text("Go, and light up this rune.");
                                                            dialog.Option("Thank you.", 255);
                                                            dialog.Avatar(67);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("There is not enough room in your inventory.");
                                                            dialog.Option("Ah, hold on.", 255);
                                                            dialog.Avatar(67);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Ah, you seem very interested! Good. You are eligible to light up the flame! But, it`s not the right time. You see, the");
                                                        dialog.Text("~ceremony will be held till the last two hours of the Guild War. Come and sign up then.");

                                                        dialog.Option("Would~you~please~give~me~more~information?", 4);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    dialog.Text("Yeah. I`ve prepare 10 Flame Stones in the Wind Plain and Guild Arena. When the time comes, I will give you a Jade Rune. You");
                                                    dialog.Text("~just take it to light up all the Flame Stones in sequence.");

                                                    dialog.Option("Sure.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (!GuildWar.IsWar)
                                                    {
                                                        for (int c = 0; c <= 10; c++)
                                                        {
                                                            if (client.Inventory.Contains((uint)(729960 + c), 1))
                                                            {
                                                                int expballs = 1;
                                                                if (729960 + c == 729962)
                                                                    expballs = 1;
                                                                if (729960 + c == 729963)
                                                                    expballs = 2;
                                                                if (729960 + c == 729964)
                                                                    expballs = 3;
                                                                if (729960 + c == 729965)
                                                                    expballs = 4;
                                                                if (729960 + c == 729966)
                                                                    expballs = 5;
                                                                if (729960 + c == 729967)
                                                                    expballs = 6;
                                                                if (729960 + c == 729968)
                                                                    expballs = 7;
                                                                if (729960 + c == 729969)
                                                                    expballs = 9;
                                                                if (729960 + c == 729970)
                                                                {
                                                                    expballs = 40;
                                                                    int r = Kernel.Random.Next(1, 3);
                                                                    if (r == 1) client.Entity.SubClasses.StudyPoints += 2000;
                                                                    else client.ChiPoints += 1000;

                                                                }

                                                                for (int ex = 0; ex < expballs; ex++)
                                                                    client.IncreaseExperience(client.ExpBall, false);
                                                                client.Inventory.Remove((uint)(729960 + c), 1);
                                                                return;
                                                            }
                                                        }
                                                        dialog.Text("You cannot claim experience if you don't have a rune.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Avatar(67);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You cannot claim experience while guild war.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Avatar(67);
                                                        dialog.Send();
                                                    }

                                                    break;
                                                }
                                            case 3:
                                                {
                                                    dialog.Text("               Rune Exchange Rules");
                                                    dialog.Text("Gold Rune                             30-min EXP");
                                                    dialog.Text("Gold Rune                             60-min EXP");
                                                    dialog.Text("Gold Rune                           120-min EXP");
                                                    dialog.Text("Spirit Rune                          180-min EXP");
                                                    dialog.Text("Spirit Rune                          240-min EXP");
                                                    dialog.Text("Spirit Rune                          300-min EXP");
                                                    dialog.Text("Heaven Rune                     360-min EXP");
                                                    dialog.Text("Heaven Rune                     420-min EXP");
                                                    dialog.Text("Heaven Rune                     540-min EXP");
                                                    dialog.Text("Dragon Rune              3000-min EXP, 2000 Study Points or 1000 Chi Points");

                                                    dialog.Option("I~see.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region CashRainForecaster
                                case 9135:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("The Cash Rain is over. Did you manage to collect those strange boxes? You must be a rich man now! Make good use of the CPs you collected.");
                                                    dialog.Option("I~will!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region KongfuKing
                                case 19313:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I started learning Kungfu when I was very young. Now, I have learned to master my Chi very well! Wanna have a try?");
                                                    dialog.Option("Nah.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region GuardLi
                                case 4490:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I will ward off any danger away from General Zhao.");
                                                    dialog.Option("Good~for~you.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Gouda
                                case 15140:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Have you heard of the holy Kylin? A marvelous and magnificent creature that lives in the Jokul, rumored to have"); dialog.Text("~a body covered in sparkling squamas! People say it flies overhead every night, and some of its glowing squamas fall to"); dialog.Text("~the earth. I`ve seen them, but never found them myself.");
                                                    dialog.Option("What~else~do~you~know?", 1);
                                                    dialog.Option("I`ve~business~elsewhere.~Goodbye.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("Every night, after 8 o`clock, the beast flies overhead, dropping twinkling spots to the ground. They are squamas!"); dialog.Text("~Those who can collect the squamas can find secret treasures... meteors, gold and maybe even more!");
                                                    dialog.Option("Interesting...~Thank~you.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region ThiefWong
                                case 4436:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("The poor have always been squeezed by those devious land owners. I can`t just stand by and let it happen!"); dialog.Text("Letter? Chen`s letter? I don`t see it!");
                                                    dialog.Option("Good.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region JerkWang
                                case 4504:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Impossible is nothing. Nothing is impossible.");
                                                    dialog.Option("Just~do~it.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region BianQing
                                case 4484:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Oh... look who`s coming? I have anything you want. Just name it.");
                                                    dialog.Option("You~bet!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region TCWarder
                                case 8615:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I served the DC Captain before I got promoted in Twin City. He is such a great officer that I can`t praise him too much."); dialog.Text("~Hey, I`ll introduce you to the captain and his brilliant son, Nezha, when you reach Level 137 of your 2nd reborn!");
                                                    dialog.Option("Hope~to~meet~them~someday.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region GuildChief
                                case 4362:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("The Final Round is over and a winner has emerged!"); dialog.Text("~If you like it, please wait and come back to participate in The 5th Super Guild War Contest!");
                                                    dialog.Option("Ok,~I~see.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion                             
                                #region PharmacistDong
                                case 4470:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Herbs have a variety of uses, including culinary, medicinal, or in some cases even spiritual meditation."); dialog.Text("~Nobody can truly master them, even after years of cultivation. Nature`s secrets are even more obscure than I could possibly imagine.");
                                                    dialog.Option("You~bet.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region TaoistShine
                                case 4505:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Reverence for nature and ancestor spirits is important. Never fool around with celestials.");
                                                    dialog.Option("What?!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region IronsmithChou
                                case 4434:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I`m actually a dead man. Hey, don`t be afraid. Before I died, I had made numerous helmets"); dialog.Text("~for the emperor and his generals. But one day, I made a big mistake and were killed. After that, I"); dialog.Text("~decided to make helmets for anyone who is honest and diligent.");
                                                    dialog.Option("That`s~good.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region ApprenticeLuo
                                case 4466:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Ever wonder who makes the best arrows in the world? It`s my dad!"); dialog.Text("~Those arrows... So delicate, but they can fly so steadily...");
                                                    dialog.Option("You~are~adorable.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region ArsenalGuard
                                case 4432:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("A suited weapon is a thing that you can`t do without nowadays. I keep faith in it.");
                                                    dialog.Option("Attractive.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region OldBeggar
                                case 4704:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("You must have heard of me. I am the master of all martial arts. All OF THEM!"); dialog.Text("~My power excites fear from all who dare to challenge me.");
                                                    dialog.Option("Who~are~you?", 1);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("What? You don`t know me? I`m Old Beggar, and I`m the greatest Martial Arts Master in the world!");
                                                    dialog.Option("Crazy.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region GeneralJudd
                                case 1611:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Don`t forget your country and people when you have established your name. This is what a responsible person should do. Your"); dialog.Text("~country needs you.");
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region GeneralZhao
                                case 4488:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I`m telling you! Don`t you ever put all your eggs in one basket. Life is so unpredictable...");
                                                    dialog.Option("C`est~la~vie.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region DragonballSales
                                case 19312:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("The Dragon Ball Sales event will last from June 2nd to June 16th! Don`t miss out the chance!");
                                                    dialog.Option("Buy~a~Dragon~Ball~(7~million~Silver).", 1);
                                                    dialog.Option("Buy~a~DB~Scroll~(65~million~Silver).", 2);
                                                    dialog.Option("Cool.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("Are you sure you want to pay 7 million Silver to buy 1 Dragon Ball?");
                                                    dialog.Option("Yes.", 3);
                                                    dialog.Option("No.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("Are you sure you want to pay 65 million Silver to buy 1 DB Scroll?");
                                                    dialog.Option("Yes.", 4);
                                                    dialog.Option("No.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Entity.Money >= 7000000)
                                                    {
                                                        client.Entity.Money -= 7000000;
                                                        client.Inventory.Add("DragonBall");
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don`t have enough Silver.");
                                                        dialog.Option("My~bad.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    if (client.Entity.Money >= 65000000)
                                                    {
                                                        client.Entity.Money -= 65000000;
                                                        client.Inventory.Add("DBScroll");
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don`t have enough Silver.");
                                                        dialog.Option("My~bad.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region MailManager
                                case 9360:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    Data data = new Data(true);
                                                    data.UID = client.Entity.UID;
                                                    data.dwParam = 576;
                                                    data.ID = 126;
                                                    data.Facing = (Game.Enums.ConquerAngle)client.Entity.Facing;
                                                    data.Data28_Uint = 9437486;
                                                    data.Send(client);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region PrizeOfficer
                                case 10223:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("All your rewards have been sent to your mail. Don`t forget to check and see whether you have any reward not claimed.");
                                                    dialog.Option("Okay.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region SkillTeacher
                                case 5600:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Ready to learn some great skills? Their prices are as good as they are.");
                                                    dialog.Option("Riding - 50000 gold.", 1);
                                                    dialog.Option("Spook - 100000 gold.", 2);
                                                    dialog.Option("WarCry - 500000 gold.", 3);
                                                    dialog.Option("Nothing.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Entity.Money >= 50000)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(7001)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            client.Entity.Money -= 50000;
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't meet the requierments.");
                                                        dialog.Option("Ahh sorry.", 255);
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Entity.Money >= 100000)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(7002)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            client.Entity.Money -= 100000;
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't meet the requierments.");
                                                        dialog.Option("Ahh sorry.", 255);
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Entity.Money >= 500000)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(7003)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            client.Entity.Money -= 500000;
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't meet the requierments.");
                                                        dialog.Option("Ahh sorry.", 255);
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Lune(Enter Moon Platform)
                                case 12116:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Would you like to enter the Moon Platform ?");
                                                    dialog.Option("Yes.", 1);
                                                    dialog.Option("No.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Entity.Teleport(1100, 184, 164);
                                                    dialog.Text("Welcome in Moon Platform!");
                                                    dialog.Option("Thanks.", 1);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Enter Guild Arena
                                case 120036:
                                    {
                                        switch (npcRequest.OptionID)
                                        {

                                            case 0:
                                                {
                                                    dialog.Text("What can I do for you? Enter the guild area or buy a statue?\n (Tip: You can collect 100 Champion Points by participating in [Capture the Flag] or [Guild PK Tournament].)");
                                                    if (CaptureTheFlag.IsWar)
                                                        dialog.Option("Sign me up.", 9);
                                                    dialog.Option("Enter~the~guild~area.", 1);
                                                    dialog.Option("Buy~statue.", 100);
                                                    dialog.Option("Just~passing~by.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 9:
                                                {
                                                    dialog.Text("The Capture the Flag Contest is held on every Saturday night, Euro Server from 20:00 to 21:00, US Server from 21:00 to 22:00. You will find 3 unoccupied flag bases in the Capture the Flag arena. Attack the flag base to occupy it for your guild. There are ");
                                                    dialog.Text("flag base your guild occupies within 60 seconds, to gain points for your guild. The guild with the highest points will win the CTF contest! The Top 3 Guilds will be qualified to enter the Cross-server Capture the Flag Contest. The Top 8 guilds");
                                                    dialog.Text("will also be rewarded.");
                                                    dialog.Option("Sign~me~up", 11);
                                                    dialog.Option("Anything~else?", 10);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 10:
                                                {
                                                    dialog.Text("When Capture the Flag begins, attack the flag base to occupy it for your guild. After your guild occupies a flag base, the location of the flag base will be marked with a yellow icon on the mini map. Seize a flag, then carry and plant it in the flag");
                                                    dialog.Text("base your guild occupies within 60 seconds, to gain points for your guild. Every 15 minutes during the Cross-server Capture the Flag Contest, a random flag base will receive a bonus effect, which will double the points gain by the occupying guild.");
                                                    dialog.Text("The members of the occupying guilds will also receive double exploits.");
                                                    dialog.Option("Thank~you~for~your~advice.", 255);
                                                    dialog.Option("Sign~me~up", 11);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 11:
                                                {
                                                    if (client.Guild != null)
                                                    {
                                                        Program.World.CTF.SignUp(client);
                                                    }
                                                    else
                                                    {
                                                        client.MessageBox("You haven't joined any guild now.", null, null, 0);
                                                    }
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (GuildWar.IsWar)
                                                    {
                                                        Random R = new Random();
                                                        int G = R.Next(1, 10);
                                                        if (G == 1) client.Entity.Teleport(1038, 351, 341);
                                                        if (G == 2) client.Entity.Teleport(1038, 335, 345);
                                                        if (G == 3) client.Entity.Teleport(1038, 309, 369);
                                                        if (G == 4) client.Entity.Teleport(1038, 283, 340);
                                                        if (G == 5) client.Entity.Teleport(1038, 310, 327);
                                                        if (G == 6) client.Entity.Teleport(1038, 318, 297);
                                                        if (G == 7) client.Entity.Teleport(1038, 347, 309);
                                                        if (G == 8) client.Entity.Teleport(1038, 337, 320);
                                                        if (G == 9) client.Entity.Teleport(1038, 309, 293);
                                                        if (G == 10) client.Entity.Teleport(1038, 371, 300);
                                                    }
                                                    else
                                                        client.Entity.Teleport(1038, 351, 341);
                                                    break;
                                                }
                                            case 100:
                                                {
                                                    dialog.Text("A~statue~costs~50,000~silver.~Are~you~sure~that~you~want~to~buy?");
                                                    dialog.Option("Yeah.", 101);
                                                    dialog.Option("No,~thanks.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 101:
                                                {
                                                    if (client.Entity.Money >= 50000)
                                                    {
                                                        client.Entity.Money -= 50000;
                                                        client.Inventory.Add("StatueScroll");
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry,~you~do~not~have~50000~silver.");
                                                        dialog.Option("I~see.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }

                                        } break;
                                    }
                                #endregion
                                #region Pak'sGhost
                                case 10579:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Entity.Level >= 70 && client.Entity.Reborn == 2 && client.Entity.Class >= 10 && client.Entity.Class <= 15)
                                                    {
                                                        dialog.Text("Need trojan's epic weapon? you can pay 10,000 cps and get it with it's skills!.");
                                                        dialog.Option("Pay.", 1);

                                                        dialog.Option("it's expensive.", 255);
                                                        dialog.Avatar(245);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("No... No... You`re not the Trojan I`m looking for. It`s been 300 years, however, I still can`t find that chosen man.");
                                                        dialog.Text("\n\n    (Level 120+ or reborn Trojans will receive a Trojan Epic Weapon for free by completing a specified Trojan Epic Quest .)");

                                                        dialog.Option("Um...", 255);
                                                        dialog.Avatar(245);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Entity.ConquerPoints >= 10000)
                                                    {
                                                        if (client.Inventory.Count <= 37)
                                                        {
                                                            client.Inventory.Add(3003340, 0, 1);
                                                            client.AddSpell(LearnableSpell(11970));
                                                            client.AddSpell(LearnableSpell(11960));
                                                            client.AddSpell(LearnableSpell(11980));
                                                            client.AddSpell(LearnableSpell(11990));
                                                            client.Entity.ConquerPoints -= 10000;
                                                        }
                                                        else
                                                            client.Send(Constants.FullInventory);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? you don't have enough cps!.");

                                                        dialog.Option("Oops...", 255);
                                                        dialog.Avatar(245);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Twin City
                                case 10080:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hey there " + client.Entity.Name + "! I can send you on your way for just 100 silvers.");
                                                    dialog.Option("Phoenix Castle.", 1);
                                                    dialog.Option("Ape City.", 2);
                                                    dialog.Option("Desert City.", 3);
                                                    dialog.Option("Bird Island.", 4);
                                                    dialog.Option("Mine Cave.", 5);
                                                    dialog.Option("Market.", 6);
                                                    dialog.Option("I don't care.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                            case 2:
                                            case 3:
                                            case 4:
                                            case 5:
                                            case 6:
                                                {
                                                    if (client.Entity.Money >= 100)
                                                    {
                                                        ushort Map = 1002, X, Y;
                                                        if (npcRequest.OptionID == 1)
                                                        {
                                                            X = 807;
                                                            Y = 524;
                                                        }
                                                        else if (npcRequest.OptionID == 2)
                                                        {
                                                            X = 523;
                                                            Y = 806;
                                                        }
                                                        else if (npcRequest.OptionID == 3)
                                                        {
                                                            X = 69;
                                                            Y = 346;
                                                        }
                                                        else if (npcRequest.OptionID == 4)
                                                        {
                                                            X = 523;
                                                            Y = 332;
                                                        }
                                                        else if (npcRequest.OptionID == 5)
                                                        {
                                                            X = 95;
                                                            Y = 364;
                                                        }
                                                        else
                                                        {
                                                            X = 211;
                                                            Y = 196;
                                                            Map = 1036;
                                                        }
                                                        client.Entity.Money -= 100;
                                                        client.Entity.Teleport(Map, X, Y);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Hey! You don't have 100 gold do you?\nDon't you dare try to cheat me or I'll call the guards!");
                                                        dialog.Option("Crazy!", 255);
                                                        dialog.Send();
                                                    }
                                                    break;

                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Celestine
                                case 20005:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("People~are~pursuing~greater~achievement~during~their~lives,~but~none~can~make~it~due~to~the~limit~of~human~constitution.");
                                                    dialog.Option("What~does~it~mean?", 1);
                                                    dialog.Option("I~don`t~believe~it.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("Mortals~are~mundane.~Only~getting~rid~of~it~can~help~them~accomplish~their~aims."); dialog.Text("If~you~are~high~level~enough,~you~can~get~reborn~to~learn~more~and~stronger~skills.");
                                                    dialog.Option("I~am~satisfied.", 255);
                                                    dialog.Option("How~to~get~reborn?", 2);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("Mortals~are~mundane.~Only~getting~rid~of~it~can~help~them~accomplish~their~aims."); dialog.Text("If~you~are~high~level~enough,~you~can~get~reborn~to~learn~more~and~stronger~skills.");
                                                    dialog.Option("I~am~satisfied.", 255);
                                                    dialog.Option("How~to~get~reborn?", 3);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    dialog.Text("It~is~difficult.~First,~you~should~reach~certain~level.~Second,~you~need~a~Celestial~Stone.");
                                                    dialog.Option("How~to~get~CelestialStone?", 4);
                                                    dialog.Option("Forget~it.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    dialog.Text("CelestialStone~is~made~of~7~gems:~VioletGem,~KylinGem,~RainbowGem,~MoonGem,~PhoenixGem,~FuryGem,~DragonGem,~and~CleanWater.");
                                                    dialog.Option("What~is~Clean~Water?", 1);
                                                    dialog.Option("It~is~difficult.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    dialog.Text("It~is~used~to~get~rid~of~your~mundaneness,~and~then~you~won`t~be~affected~by~the~environment."); dialog.Text("By~the~way,~Clean~Water~comes~from~celestial~rinsing.");
                                                    dialog.Option("What~are~gems~used~for?", 6);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    dialog.Text("Only~the~seven~gems~can~protect~you~during~the~rebirth.");
                                                    dialog.Option("I~will~collect~them~now.", 7);
                                                    dialog.Option("I~changed~my~mind.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 7:
                                                {
                                                    dialog.Text("It~is~easy~to~get~the~gems.~But~CleanWater،­");
                                                    dialog.Option("But~what?", 8);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    dialog.Text("The~Adventure~island~is~the~headstream~of~CleanWater.~But~it~is~occupied~by~WaterEvil~and~he~uses~spell~to~hide~the~stream.");
                                                    dialog.Option("What~can~I~do?", 9);
                                                    dialog.Option("I~will~give~up.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 9:
                                                {
                                                    dialog.Text("WaterEvilElder~will~go~to~get~the~water~every~certain~time.~If~you~defeat~him,~you~may~get~the~water."); dialog.Text("But~he~is~very~hard~to~deal~with.");
                                                    dialog.Option("I~see.~Thank~you.", 255);
                                                    dialog.Option("Anything~else?", 10);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 10:
                                                {
                                                    dialog.Text("Come~here~to~refine~Celestial~Stone~when~you~get~the~seven~gems~and~Clean~Water.");
                                                    dialog.Option("That`s~ok.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region SuperMok
                                case 10580:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Alas... Father always forces me to recite formulas of forging. They`re useless. You don`t know what I`m talking about, right?");
                                                    dialog.Option("No~idea.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region KungfuBoy
                                case 5673:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I started learning Kungfu when I was very young. Now, I have learned to master my Chi very well! Wanna have a try?");
                                                    dialog.Option("Nah.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region KungfuGirl
                                case 5674:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I am so boring! Will you play with me?");
                                                    dialog.Option("Naughty~girl!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region RoyalDoctorLi
                                case 4486:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {

                                                    dialog.Text("What are you doing here? Don`t you ever mess around with me... I`m old, but not foolish...");
                                                    dialog.Option("I`ll~leave~you~alone.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region TaoistYun
                                case 10047:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hello, there! I`m here recruiting heroes, to help those people in need."); dialog.Text("~I can teleport you to them, if you wish. But first of all, you must tell me the reason why you want to help them.");
                                                    dialog.Option("To~earn~some~treasures.", 1);
                                                    dialog.Option("For~rebirth.", 2);
                                                    dialog.Option("I`ll~leave~you~alone.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("Good. I will charge you some silver and teleport you to accept some quests. Once you complete, you will gain rewards.");
                                                    dialog.Option("Monster~Hunter", 5);
                                                    dialog.Option("Equipment~Bonus:~Pathfinding", 6);
                                                    dialog.Option("Orchid:~Pathfinding", 7);
                                                    dialog.Option("Moon~Box:~200~Silver", 8);
                                                    dialog.Option("Sky~Pass:~200~Silver", 9);
                                                    dialog.Option("Snake~Islands:~200~Silver", 10);
                                                    dialog.Option("Dis~City:~200~Silver", 11);
                                                    dialog.Option("I~have~other~questions.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    dialog.Text("Each zone has monsters need to be hunted. Where would you like to go?");
                                                    dialog.Option("Twin~City:~Pathfinding", 12);
                                                    dialog.Option("Phoenix~Castle:~200~Silver", 13);
                                                    dialog.Option("Ape~City:~200~Silver", 14);
                                                    dialog.Option("Bird~Island:~200~Silver", 15);
                                                    dialog.Option("Desert~City:~200~Silver", 16);
                                                    dialog.Option("Mystic~Cave:~200~Silver", 17);
                                                    dialog.Option("Frozen~Grotto:~200~Silver", 18);
                                                    dialog.Option("Previous.", 1);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    Data datapacket = new Data(true);
                                                    datapacket.UID = client.Entity.UID;
                                                    datapacket.ID = 162;
                                                    datapacket.dwParam = 1004;//JobCenterMapID
                                                    datapacket.wParam1 = 51;
                                                    datapacket.wParam2 = 49;
                                                    client.Send(datapacket);
                                                    break;
                                                }
                                            case 7:
                                                {
                                                    Data datapacket = new Data(true);
                                                    datapacket.UID = client.Entity.UID;
                                                    datapacket.ID = 162;
                                                    datapacket.TimeStamp2 = 0;
                                                    datapacket.wParam1 = 295;
                                                    datapacket.wParam2 = 295;
                                                    client.Send(datapacket);
                                                    break;
                                                }
                                            case 10:
                                            case 9:
                                            case 8:
                                            case 11:
                                            case 12:
                                            case 13:
                                            case 14:
                                            case 15:
                                            case 16:
                                            case 17:
                                            case 18:
                                                {
                                                    if (client.Entity.Money >= 200)
                                                    {
                                                        ushort MapID = 1002;
                                                        ushort X = 0;
                                                        ushort Y = 0;
                                                        if (npcRequest.OptionID == 9)
                                                        {
                                                            MapID = 1012;
                                                            X = 155;
                                                            Y = 166;
                                                        }
                                                        if (npcRequest.OptionID == 10)
                                                        {
                                                            MapID = 1015;
                                                            X = 466;
                                                            Y = 206;
                                                        }
                                                        if (npcRequest.OptionID == 8)
                                                        {
                                                            X = 411;
                                                            Y = 514;
                                                        }
                                                        if (npcRequest.OptionID == 11)
                                                        {
                                                            X = 299;
                                                            Y = 149;
                                                        }
                                                        if (npcRequest.OptionID == 12)
                                                        {
                                                            X = 309;
                                                            Y = 338;
                                                        }
                                                        if (npcRequest.OptionID == 13)
                                                        {
                                                            MapID = 1011;
                                                            X = 227;
                                                            Y = 258;
                                                        }
                                                        if (npcRequest.OptionID == 14)
                                                        {
                                                            MapID = 1020;
                                                            X = 568;
                                                            Y = 620;
                                                        }
                                                        if (npcRequest.OptionID == 15)
                                                        {
                                                            MapID = 1015;
                                                            X = 791;
                                                            Y = 567;
                                                        }
                                                        if (npcRequest.OptionID == 16)
                                                        {
                                                            MapID = 1000;
                                                            X = 476;
                                                            Y = 633;
                                                        }
                                                        if (npcRequest.OptionID == 17)
                                                        {
                                                            MapID = 1000;
                                                            X = 80;
                                                            Y = 320;
                                                        }
                                                        if (npcRequest.OptionID == 18)
                                                        {
                                                            MapID = 1000;
                                                            X = 469;
                                                            Y = 648;
                                                        }
                                                        client.Entity.Money -= 200;
                                                        client.Entity.Teleport(MapID, X, Y);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don`t have enough money!");
                                                        dialog.Option("Sorry.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("Good! I will send you to get reborn soon!");
                                                    dialog.Option("1st~Rebirth:~200~Silver", 3);
                                                    dialog.Option("2nd~Rebirth:~200~Silver", 4);
                                                    dialog.Option("I~have~other~questions.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 3:
                                            case 4:
                                                {
                                                    if (client.Entity.Money >= 200)
                                                    {
                                                        client.Entity.Money -= 200;
                                                        client.Entity.Teleport(1036, 210, 214);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don`t have enough money!");
                                                        dialog.Option("Sorry.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region GuildDirector
                                case 10003:
                                    {
                                        dialog.Avatar(7);
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hello, I`m in charge of Guild and Union affairs. As you see, heroes are squaring up for the Kingdom War. If you have a Level 9+ Guild ranking Top 8 in Capture the Flag of your server,"); dialog.Text("~you can pay me 3,000 Guild CPs to create a Union. It`s time to picture a world in your hands. I can also help in creating or disbanding guilds and posting up guild recruitment ads.");
                                                    dialog.Option("Create~a~guild", 1);
                                                    dialog.Option("Disband~my~guild", 6);
                                                    dialog.Option("Inquire~about~a~guild", 4);
                                                    dialog.Option("Guild~Recruitment", 3);
                                                    dialog.Option("Change~my~Guild`s~name.", 8);
                                                    dialog.Option("Union~Operation.", 51);
                                                    dialog.Option("Close.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 51:
                                                {

                                                    dialog.Text("A great war which involves millions of heroes is about to fire. If you have a Level 9+ Guild ranking Top 8 in Capture the Flag of your server,"); dialog.Text("~you can pay me 3,000 Guild CPs to create a Union. It`s time to gather the elites and picture a new world in your hands.");

                                                    dialog.Option("Create~a~Union.", 66);
                                                    dialog.Option("Change~my~Union`s~name.", 67);
                                                    dialog.Option("It`s~time~to~strike!", 255);
                                                    dialog.Avatar(7);
                                                    dialog.Send();

                                                    break;
                                                }
                                            case 67:
                                                {
                                                    if (client.Union != null)
                                                    {
                                                        if (client.Union.LeaderUID == client.Entity.UID)
                                                        {
                                                            client.Union.SendGui(client, 6);
                                                        }
                                                        else
                                                        {
                                                            client.Send(new Message("Failed to change Union's name. You're not the Union Leader.", Color.Red, Message.System));
                                                        }
                                                    }
                                                    else
                                                    {
                                                        client.MessageBox("You haven't Union to change its name!");
                                                    }
                                                    break;
                                                }
                                            case 66:
                                                {
                                                    if (client.Union == null)
                                                    {
                                                        if (client.Guild != null && client.Guild.ConquerPointFund >= 3000 && client.AsMember.Rank == Enums.GuildMemberRank.GuildLeader && client.Guild.Level >= 9)
                                                        {
                                                            client.Send(new Data(true)
                                                            {
                                                                UID = client.Entity.UID,
                                                                ID = 126,
                                                                dwParam = 693,
                                                                X2 = client.Entity.X,
                                                                Y2 = client.Entity.Y
                                                            });
                                                        }
                                                        else
                                                        {
                                                            client.MessageBox("You must be the Guild Leader and your guild reached level 9 with 3,000 Conquer Points Fund.");
                                                        }
                                                    }
                                                    else
                                                    {
                                                        client.MessageBox("You already have a union.");
                                                    }
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Entity.Level < 90)
                                                    {
                                                        dialog.Text("Sorry,~you~cannot~create~a~guild~before~you~reach~level~90.~Please~train~harder.");
                                                        dialog.Option("I~see.", 255);
                                                        dialog.Send();
                                                    }
                                                    else if (client.Entity.Money < 1000000)
                                                    {
                                                        dialog.Text("To~create~a~guild,~1,000,000~silver~will~be~charged.~You~do~not~have~the~required~money.");
                                                        dialog.Option("I~see.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("What~would~you~like~to~name~your~guild?~A~good~name~is~better~than~great~riches.");
                                                        dialog.Input("I name my guild...", 2, 16);
                                                        dialog.Option("Let~me~think~it~over.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Guild != null) return;
                                                    if (client.Guild == null && client.Entity.Level >= 90 && client.Entity.Money >= 1000000)
                                                    {
                                                        if (npcRequest.Input != "" && npcRequest.Input.Length > 3 && npcRequest.Input.Length < 16)
                                                        {
                                                            if (!Guild.CheckNameExist(npcRequest.Input))
                                                            {
                                                                client.Entity.Money -= 1000000;
                                                                Guild guild = new Guild(client.Entity.Name);
                                                                guild.ID = Guild.GuildCounter.Next;
                                                                guild.SilverFund = 1000000;
                                                                client.AsMember = new Conquord.Game.ConquerStructures.Society.Guild.Member(guild.ID)
                                                                {
                                                                    SilverDonation = 1000000,
                                                                    ID = client.Entity.UID,
                                                                    Level = client.Entity.Level,
                                                                    Name = client.Entity.Name,
                                                                    Class = client.Entity.Class,
                                                                    Rank = Conquord.Game.Enums.GuildMemberRank.GuildLeader,
                                                                };
                                                                if (client.NobilityInformation != null)
                                                                {
                                                                    client.AsMember.Gender = client.NobilityInformation.Gender;
                                                                    client.AsMember.NobilityRank = client.NobilityInformation.Rank;
                                                                }

                                                                client.Entity.GuildID = (ushort)guild.ID;
                                                                client.Entity.GuildRank = (ushort)Conquord.Game.Enums.GuildMemberRank.GuildLeader;
                                                                guild.Leader = client.AsMember;
                                                                client.Guild = guild;
                                                                guild.Create(npcRequest.Input);
                                                                guild.Name = npcRequest.Input;
                                                                guild.MemberCount++;
                                                                guild.SendGuild(client);
                                                                guild.SendName(client);
                                                                Database.GuildArsenalTable.Insert(guild.ID);
                                                                client.Screen.FullWipe();
                                                                client.Screen.Reload(null);
                                                                new Database.MySqlCommand(Database.MySqlCommandType.UPDATE).Update("configuration").Set("GuildID", Game.ConquerStructures.Society.Guild.GuildCounter.Now).Where("ShaDowPort", 0, true).Execute();
                                                            }
                                                            else
                                                            {
                                                                client.Send(new Message("This Guild name cannot be used.", System.Drawing.Color.Red, Message.System));
                                                            }
                                                        }
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    Data data = new Data(true);
                                                    data.UID = client.Entity.UID;
                                                    data.ID = Data.OpenCustom;
                                                    data.dwParam = 3274;
                                                    client.Send(data);
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    dialog.Text("Which~guild~would~you~like~to~inquire~about?");
                                                    dialog.Input("I wnat to inquire about  -", 5, 16);
                                                    dialog.Option("Let~me~think~it~over.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    if (!Guild.CheckNameExist(npcRequest.Input))
                                                    {
                                                        dialog.Text("This~guild~does~not~exist.");
                                                        dialog.Option("Thanks.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        var selectedguild = Kernel.Guilds.Values.Where(p => p.Name == npcRequest.Input).FirstOrDefault();
                                                        if (selectedguild != null)
                                                        {
                                                            dialog.Text(" Guild~Name: " + selectedguild.Name + ";");
                                                            dialog.Text(" Guild~Leader: " + selectedguild.LeaderName + ";");
                                                            dialog.Text(" Guild~Members: " + selectedguild.MemberCount + ";");
                                                            dialog.Text(" Guild~Fund: " + selectedguild.SilverFund + ";");
                                                            dialog.Option("I see.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    dialog.Text("Disbanding your guild is a decision not to be taken lightly. When armies fall apart, a period of chaos ensues?");
                                                    dialog.Option("I~decide~to~disband..", 7);
                                                    dialog.Option("I~changed~my~mind.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 7:
                                                {
                                                    if (client.Guild != null && client.AsMember.Rank == Game.Enums.GuildMemberRank.GuildLeader)
                                                    {
                                                        client.Guild.Disband();
                                                    }
                                                    else if (client.Guild == null)
                                                    {
                                                        client.MessageBox("You haven't joined any guild now.", null, null, 0);
                                                    }
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    dialog.Text("Only the Guild Leader can change the Guild`s name, which will take effect after the server maintenance on the second day. It`ll cost you 1075 CPs. Deal?");
                                                    dialog.Option("Deal!", 9);
                                                    dialog.Option("Wait~a~minute.", 255);
                                                    break;
                                                }
                                            case 9:
                                                {
                                                    dialog.Text("Please enter a new name for your Guild.");
                                                    dialog.Input("Name:", 10, 16);
                                                    dialog.Option("Cancel.", 255);
                                                    break;
                                                }
                                            case 10:
                                                {
                                                    if (client.Guild == null || client.AsMember.Rank != Enums.GuildMemberRank.GuildLeader)
                                                    {
                                                        dialog.Text("Sorry, you`re not the Guild Leader.");
                                                        dialog.Option("My~bad.", 255);
                                                    }
                                                    else if (client.Entity.ConquerPoints < 1075)
                                                    {
                                                        dialog.Text("Sorry, you don`t have enough CPs.");
                                                        dialog.Option("My~bad.", 255);
                                                    }
                                                    else if (client.Guild != null && client.AsMember.Rank == Enums.GuildMemberRank.GuildLeader && client.Entity.ConquerPoints >= 1075)
                                                    {
                                                        if (npcRequest.Input != "" && npcRequest.Input.Length > 3 && npcRequest.Input.Length < 16)
                                                        {
                                                            if (!Guild.CheckNameExist(npcRequest.Input))
                                                            {
                                                                Database.GuildTable.ChangeName(client, npcRequest.Input);
                                                                client.Guild.Name = npcRequest.Input;
                                                                client.Guild.SendGuild(client);
                                                                client.Guild.SendName(client);
                                                                client.Entity.ConquerPoints -= 1075;
                                                                client.Screen.FullWipe();
                                                                client.Screen.Reload(null);
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("There is a Guild Already with this Name i'm sorry.");
                                                                dialog.Option("Choose another Name", 9);
                                                                dialog.Option("Ok Sorry.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("There is a Guild bad Name i'm sorry.");
                                                            dialog.Option("Try Again", 9);
                                                            dialog.Option("Ok Sorry.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region ClanManager
                                case 5533:
                                    {
                                        dialog.Avatar(39);
                                        var clan = client.Entity.GetClan;
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (clan == null)
                                                    {
                                                        dialog.Text("The Clan is not only a group, but also a bond between its members! You can have a maximum of 12 members in a clan at one time,");
                                                        dialog.Text("~this means 6 members and their Spouses. After you create and upgrade the Clan, you can gain the BP Bonus Level, which can be");
                                                        dialog.Text("~shared by Clan members.");
                                                        dialog.Option("How~to~create~a~Clan?", 6);
                                                        dialog.Option("I~have~no~interest.", 255);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Your current Clan Level is Level 1: ");
                                                        dialog.Text("~Gain the BP Bonus Level at Clan Level 2 to increase the Battle Power shared by the members. The members will share 40 percent");
                                                        dialog.Text("~of the Battle Power margin between themselves and the highest Battle Power team member in the same map at BP Bonus Level 1.");
                                                        if (clan != null)
                                                        {
                                                            if (client.Entity.ClanRank == Clan.Ranks.ClanLeader)
                                                            {
                                                                //dialog.Option("Move leadership", 20);
                                                                dialog.Option("Upgrade~the~Clan~Level.", 100);
                                                                //dialog.Option("Upgrade Clan BP", 10);
                                                                dialog.Option("Disband~my~Clan.", 9);
                                                            }
                                                        }
                                                        dialog.Option("Leave", 255);
                                                    }
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 100:
                                                {
                                                    uint[] MoneyClanLevel = new uint[6]
                                                    {
                                                        300000,
                                                        1000000,
                                                        2000000,
                                                        3000000,
                                                        4000000,
                                                        5000000
                                                    };
                                                    if (client.Entity.GetClan.Level < 5)
                                                    {
                                                        dialog.Text(" Your current Clan Level is Level " + client.Entity.GetClan.Level + ". Do you want to spend " + MoneyClanLevel[client.Entity.GetClan.Level] + " in Clan Fund to upgrade the Clan?");
                                                        //dialog.Text("You need " + MoneyClanLevel[client.Entity.GetClan.Level] + " Silvers to upgrade ClandLevel! You are sure?");
                                                        dialog.Option("Yes.", 4);
                                                        dialog.Option("Not~right~now.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry, you clan name is level max");
                                                        dialog.Option("Ah, ok", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 10:
                                                {
                                                    uint[] MoneyClanLevel = new uint[6]
                                                    {
                                                        1000000,
                                                        2000000,
                                                        3000000,
                                                        4000000,
                                                        5000000,
                                                        6000000
                                                    };
                                                    if (client.Entity.GetClan.BPTower < 4)
                                                    {
                                                        dialog.Text("You need " + MoneyClanLevel[client.Entity.GetClan.BPTower] + " Silvers to upgrade Clan BPTower You are sure?");
                                                        dialog.Option("Yes upgrad.", 55);
                                                        dialog.Option("No thanks.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry, you clan name is BPTower max");
                                                        dialog.Option("Ah, ok", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    uint[] MoneyClanLevel = new uint[6]
                                                    {
                                                        300000,
                                                        1000000,
                                                        2000000,
                                                        3000000,
                                                        4000000,
                                                        5000000
                                                    };
                                                    if (client.Entity.Money >= MoneyClanLevel[client.Entity.GetClan.Level])
                                                    {
                                                        client.Entity.Money -= MoneyClanLevel[client.Entity.GetClan.Level];
                                                        var varr = Kernel.GamePool.Values.GetEnumerator();
                                                        varr.MoveNext();
                                                        int COunt = Kernel.GamePool.Count;
                                                        for (uint c = 0; c < COunt; c++)
                                                        {
                                                            if (c >= COunt) break;

                                                            Client.GameClient clien = (varr.Current as Client.GameClient);
                                                            if (clien.Entity.GetClan != null)
                                                            {
                                                                if (clien.Entity.UID != client.Entity.UID)
                                                                {
                                                                    if (clien.Entity.GetClan.ID == client.Entity.GetClan.ID)
                                                                    {
                                                                        clien.Entity.GetClan.ID += 1;
                                                                    }
                                                                }
                                                            }
                                                            varr.MoveNext();
                                                        }
                                                        dialog.Text("Done");
                                                        dialog.Send();
                                                        try
                                                        {
                                                            client.Entity.GetClan.Level += 1;
                                                            MySqlCommand cmd = new MySqlCommand(MySqlCommandType.UPDATE);
                                                            cmd.Update("Clans").Set("Level", clan.Level).Where("Identifier", clan.ID).Execute();
                                                            Clan cl = new Clan();
                                                            cl.Build(client, Clan.Types.Info);
                                                            client.Send(cl.ToArray());
                                                        }
                                                        catch
                                                        {

                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don`t have enough money in the Clan Fund to upgrade the Clan. Please try again when you have the money.");
                                                        //dialog.Text("Sorry, you need " + MoneyClanLevel[client.Entity.GetClan.Level] + " Silvers");
                                                        dialog.Option("Okay.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 55:
                                                {
                                                    uint[] MoneyClanBPTower = new uint[6] { 300000, 600000, 1300000, 300000, 5000000, 10000000 };
                                                    if (client.Entity.Money >= MoneyClanBPTower[client.Entity.GetClan.BPTower])
                                                    {
                                                        client.Entity.Money -= MoneyClanBPTower[client.Entity.GetClan.BPTower];
                                                        var varr = Kernel.GamePool.Values.GetEnumerator();
                                                        varr.MoveNext();
                                                        int COunt = Kernel.GamePool.Count;
                                                        for (uint c = 0; c < COunt; c++)
                                                        {
                                                            if (c >= COunt) break;

                                                            Client.GameClient clien = (varr.Current as Client.GameClient);
                                                            if (clien.Entity.GetClan != null)
                                                            {
                                                                if (clien.Entity.UID != client.Entity.UID)
                                                                {
                                                                    if (clien.Entity.GetClan.ID == client.Entity.GetClan.ID)
                                                                    {
                                                                        clien.Entity.GetClan.ID += 1;
                                                                    }
                                                                }
                                                            }
                                                            varr.MoveNext();
                                                        }
                                                        dialog.Text("Done");
                                                        dialog.Send();
                                                        try
                                                        {
                                                            client.Entity.GetClan.BPTower += 1;
                                                            MySqlCommand cmd = new MySqlCommand(MySqlCommandType.UPDATE);
                                                            cmd.Update("Clans").Set("BPTower", clan.BPTower).Where("Identifier", clan.ID).Execute();
                                                            Clan cl = new Clan();
                                                            cl.Build(client, Clan.Types.Info);
                                                            client.Send(cl.ToArray());
                                                        }
                                                        catch
                                                        {

                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry, you need " + MoneyClanBPTower[client.Entity.GetClan.BPTower] + " Silvers");
                                                        dialog.Option("Ah, Ok", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    dialog.Text("After you reach Level 50, you can create a Clan with 500,000 silver, half of which will be the Clan Fund. You can recruit your");
                                                    dialog.Text("~members and build your elite group! Of course, you can only be in one Clan at a time. What do you think? Are you ready to");
                                                    dialog.Text("~start your new group?");
                                                    dialog.Option("Create~a~Clan~now.", 2);
                                                    dialog.Option("I`m~busy.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            #region dialog create
                                            case 2:
                                                {
                                                    if (client.Entity.Level < 50)
                                                    {
                                                        dialog.Text("You haven`t reached Level 50 and are unable to create a Clan. You should be strong enough to lead your Clan!");
                                                        dialog.Option("Got~it.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }
                                                    else if (client.Entity.Money < 500000)
                                                    {
                                                        dialog.Text("You don`t have enough money to create a Clan. Creating a Clan needs");
                                                        dialog.Text("~500,000 silver. Half of which will be the Clan Fund. A Clan has to have money");
                                                        dialog.Text("~if you want to survive, you know. Can`t have a war without money!");
                                                        dialog.Option("I see.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }
                                                    dialog.Text("Remember i will charge the cost of 500.000 Silvers, to Create this Clan.");
                                                    dialog.Input("My Clan name will be...", 8, 16);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 9:
                                                {
                                                    dialog.Text("Only the Clan Leader has the right to disband the Clan. Do you really want to disband your Clan?");
                                                    dialog.Option("Yes.", 19);
                                                    dialog.Option("Of~course~not.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 19:
                                                {
                                                    foreach (var client2 in Kernel.GamePool.Values)
                                                    {
                                                        client2.Send(new Message(String.Format("{0} has succesfully Disband his Clan {1}!", client.Entity.Name, client.Entity.ClanName), Color.Yellow, Message.World));
                                                    }
                                                    Conquord.Clan.DisbandClan(client);
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    if (client.Entity.Money < 500000)
                                                    {
                                                        dialog.Text("You don't have 500.000 silvers, i can't create your clan!");
                                                        dialog.Option("I'll be right back!", 255);
                                                        goto Jump;
                                                    }
                                                    string _name = npcRequest.Input;
                                                    if (_name == "" || _name.Contains(" "))
                                                    {
                                                        dialog.Text("You don't give me a name...");
                                                        dialog.Option("I see.", 255);
                                                        goto Jump;
                                                    }
                                                    else if (_name != "")
                                                    {
                                                        if (Kernel.ValidClanName(_name))
                                                        {
                                                            if (client.Entity.Money >= 500000)
                                                            {
                                                                client.Entity.Money -= 500000;

                                                                Clan.CreateClan(client, _name);
                                                                dialog.Text("Congratulation You Have Created your clan!");
                                                                dialog.Option("Alright,", 255);
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't have 500.000 silvers, i can't create your clan!");
                                                                dialog.Option("Alright,", 255);
                                                                goto Jump;
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("The Clan name exist");
                                                            dialog.Option("Alright i`ll try again", 255);
                                                            goto Jump;
                                                        }
                                                    }
                                                Jump:
                                                    dialog.Avatar(60);
                                                    dialog.Send();
                                                    break;
                                                }
                                            #endregion
                                            case 20:
                                                {
                                                    if (clan != null && client.Entity.ClanRank == Clan.Ranks.ClanLeader)
                                                    {
                                                        dialog.Text("Input here the member name you want to promote as clan leader.");
                                                        dialog.Input("Here:", 21, 16);
                                                        dialog.Option("Ah, nevermind.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't meet the requierments.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 21:
                                                {
                                                    if (clan != null && client.Entity.ClanRank == Clan.Ranks.ClanLeader)
                                                    {
                                                        if (npcRequest.Input != "")
                                                        {
                                                            string lookingFor = npcRequest.Input.Replace(" ", "");
                                                            var member = clan.Members.Values.FirstOrDefault((p) => p.Name.Replace(" ", "").Replace("~", "") == lookingFor);

                                                            if (member == null)
                                                            {
                                                                dialog.Text("There is no such member in your Clan.");
                                                                dialog.Option("Ah, nevermind.", 255);
                                                                dialog.Send();
                                                                return;
                                                            }
                                                            else
                                                            {
                                                                if (member.Rank == Clan.Ranks.ClanLeader)
                                                                {
                                                                    dialog.Text("You cannot promote this member anymore.");
                                                                    dialog.Option("Ah, nevermind.", 255);
                                                                    dialog.Send();
                                                                    return;
                                                                }
                                                                else
                                                                {
                                                                    clan.LeaderId = member.Identifier;
                                                                    clan.LeaderName = member.Name;
                                                                    Clan.SaveClan(clan);

                                                                    if (member.IsOnline)
                                                                    {
                                                                        var rank = member.Rank;
                                                                        var mClient = member.Client;
                                                                        member.Rank = mClient.Entity.ClanRank = client.Entity.ClanRank;
                                                                        client.Entity.ClanRank = clan.Members[client.Entity.UID].Rank = rank;
                                                                        Database.EntityTable.UpdateClanRank(mClient);
                                                                        Database.EntityTable.UpdateClanRank(client);
                                                                        clan.Build(client, Clan.Types.Info);
                                                                        client.Send(clan);
                                                                        client.SendScreen(client.Entity.SpawnPacket, false);
                                                                        clan.Build(mClient, Clan.Types.Info);
                                                                        mClient.Send(clan);
                                                                        mClient.SendScreen(mClient.Entity.SpawnPacket, false);
                                                                    }
                                                                    else
                                                                    {
                                                                        var rank = member.Rank;
                                                                        member.Rank = client.Entity.ClanRank;
                                                                        client.Entity.ClanRank = clan.Members[client.Entity.UID].Rank = rank;
                                                                        Database.EntityTable.UpdateClanRank(member.UID, (uint)member.Rank);
                                                                        Database.EntityTable.UpdateClanRank(client);
                                                                        clan.Build(client, Clan.Types.Info);
                                                                        client.Send(clan);
                                                                        client.SendScreen(client.Entity.SpawnPacket, false);
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                                break;
                                        }
                                        break;
                                    }
                                #endregion
                                #region Barber
                                case 10002:
                                    {
                                        dialog.Avatar(241);
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I`m capable of doing more hairstyles now! A New Dynasty Hairstyle is worth 10000 silvers. Previous hairstyles cost 500 silvers.");

                                                    dialog.Option("New~Dynasty~Hairstyles.", 3);
                                                    dialog.Option("New~styles.", 1);
                                                    dialog.Option("Nostalgic~styles.", 2);
                                                    dialog.Option("(Level~4+)~VIP~Hairstyles.", 4);
                                                    dialog.Option("Keep~my~current~style.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            #region New Hair Styles
                                            #region Options
                                            case 1:
                                                {

                                                    dialog.Text("Which~style~would~you~like~to~select~from?");

                                                    dialog.Option("New~HairStyle01", 10);
                                                    dialog.Option("New~HairStyle02", 11);
                                                    dialog.Option("New~HairStyle03", 12);
                                                    dialog.Option("New~HairStyle04", 13);
                                                    dialog.Option("New~HairStyle05", 14);
                                                    dialog.Option("New~HairStyle06", 15);
                                                    dialog.Option("New~HairStyle07", 16);
                                                    dialog.Option("Next.", 102);
                                                    dialog.Send();
                                                    break;

                                                }
                                            case 102:
                                                {

                                                    dialog.Text("Which~style~would~you~like~to~select~from?");

                                                    dialog.Option("New~HairStyle08", 17);
                                                    dialog.Option("New~HairStyle09", 18);
                                                    dialog.Option("Previous.", 1);
                                                    dialog.Send();
                                                    break;

                                                }
                                            #endregion
                                            #region ...
                                            case 10:
                                            case 11:
                                            case 12:
                                            case 13:
                                            case 14:
                                            case 15:
                                            case 16:
                                            case 17:
                                            case 18:
                                            case 19:
                                            case 20:
                                            case 21:
                                                {
                                                    client.Entity.HairStyle = ushort.Parse(Convert.ToString(client.Entity.HairStyle)[0] + (20 + npcRequest.OptionID).ToString());
                                                    dialog.Text("Done!");
                                                    dialog.Option("Thanks.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            #endregion
                                            #endregion
                                            #region Nostalgic Hair Styles
                                            #region Options
                                            case 2:
                                                {

                                                    dialog.Text("Which~style~would~you~like~to~select~from?");

                                                    dialog.Option("Nostalgic01", 30);
                                                    dialog.Option("Nostalgic02", 31);
                                                    dialog.Option("Nostalgic03", 32);
                                                    dialog.Option("Nostalgic04", 33);
                                                    dialog.Option("Nostalgic05", 34);
                                                    dialog.Option("Nostalgic06", 35);
                                                    dialog.Option("Bald~head", 36);
                                                    dialog.Option("I~chanded~my~mind.", 255);
                                                    dialog.Send();
                                                    break;

                                                }
                                            #endregion
                                            #region ...
                                            case 30:
                                            case 31:
                                            case 32:
                                            case 33:
                                            case 34:
                                            case 35:
                                            case 36:
                                                {
                                                    client.Entity.HairStyle = ushort.Parse(Convert.ToString(client.Entity.HairStyle)[0] + (npcRequest.OptionID - 20).ToString());
                                                    dialog.Text("Done!");
                                                    dialog.Option("Thanks.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            #endregion
                                            #endregion
                                            #region Special Hair Styles
                                            #region Options
                                            case 3:
                                                {

                                                    dialog.Text("Which new style do you want?");
                                                    dialog.Option("New Hairstyle 1", 40);
                                                    dialog.Option("New Hairstyle 2", 41);
                                                    dialog.Option("New Hairstyle 3", 42);
                                                    dialog.Option("New Hairstyle 4", 43);
                                                    dialog.Option("New Hairstyle 5", 44);
                                                    dialog.Option("Nevermind.", 255);
                                                    dialog.Send();
                                                    break;

                                                }
                                            #endregion
                                            #region ...
                                            case 40:
                                            case 41:
                                            case 42:
                                            case 43:
                                            case 44:
                                                {
                                                    client.Entity.HairStyle = ushort.Parse(Convert.ToString(client.Entity.HairStyle)[0] + (npcRequest.OptionID - 19).ToString());
                                                    dialog.Text("Done!");
                                                    dialog.Option("Thanks.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            #endregion
                                            #endregion
                                            #region VIP Hair Styles
                                            #region Options
                                            case 4:
                                                {
                                                    if (client.Entity.VIPLevel <= 3)
                                                    {
                                                        dialog.Text("Sorry, your VIP Level has to be at least Level 4 to purchase this hairstyle.");

                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    dialog.Text("Which new style do you want?");
                                                    dialog.Option("VIP Hairstyle 1", 70);
                                                    dialog.Option("VIP Hairstyle 2", 71);
                                                    dialog.Option("VIP Hairstyle 3", 72);
                                                    dialog.Option("VIP Hairstyle 4", 73);
                                                    dialog.Option("VIP Hairstyle 5", 74);
                                                    dialog.Option("Nevermind.", 255);
                                                    dialog.Send();
                                                    break;

                                                }
                                            #endregion
                                            #region ...
                                            case 70:
                                            case 71:
                                            case 72:
                                            case 73:
                                            case 74:
                                                {
                                                    client.Entity.HairStyle = (ushort)(client.Entity.HairColor * 100 + npcRequest.OptionID);
                                                    dialog.Text("Done!");
                                                    dialog.Option("Thanks.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            #endregion
                                            #endregion
                                        }
                                        break;
                                    }
                                #endregion
                                #region Assistant
                                case 4293:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Do you want to visit the mine?");
                                                    dialog.Option("Yes.", 1);
                                                    dialog.Option("No.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Entity.Teleport(1028, 155, 95);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region HonorableBonze
                                case 3180:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I am the Honor level admin, would you like some extra levels?");
                                                    dialog.Option("Yes", 1);
                                                    dialog.Option("No.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("Alright, it'll cost you 2 million cps, each level, and you will need to be a vip 6!");
                                                    dialog.Option("Fine Level-Up me!", 2);
                                                    dialog.Option("No.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Entity.VIPLevel == 6 && (client.Entity.Level >= 140 && client.Entity.Level < 145))
                                                    {
                                                        if (client.Entity.ConquerPoints >= 2000000)
                                                        {
                                                            client.Entity.ConquerPoints -= 2000000;
                                                            client.Entity.Level++;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("I am sorry you don't have enough cps.");
                                                            dialog.Option("Uh!", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you trying to fuck with me? you are not a VIP Lev6 or not Lev140+ player..fuck off!");
                                                        dialog.Option("Uh!", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Furniture Store NPC
                                case 30161:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Welcome!~This~is~the~Twin~City~Furniture~Store.~Take~a~look~around.~I~have~the~best~furniture~in~Twin~City.");

                                                    dialog.Option("Show~me~your~wares.", 1);
                                                    dialog.Option("Not~my~concern.", 255);
                                                    dialog.Avatar(188);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Entity.Teleport(1511, 52, 70);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region General Peace
                                case 10054:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Stop!\nThe path ahead of you is dangerous.\nI don't recommend you continue on this path.\n");
                                                    if (client.Entity.Level <= 70)
                                                    {
                                                        dialog.Text("If you are looking from stronger monsters you should look in the Canyon first.\n");
                                                        dialog.Text("You can find your way there in the south-west part of the wind plain.\n");
                                                    }
                                                    dialog.Option("Leave me alone General.", 1);
                                                    dialog.Option("Okay, thanks for the warning.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Entity.Teleport(1000, 973, 668);
                                                    break;
                                                }
                                        }
                                        break;
                                    }

                                #endregion
                                #region WarehouseGuardian
                                case 1061:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text(
                                                        "Hello. To add new secondary password or to modify the current one, check the secondary password button in the options menu.");
                                                    dialog.Option("Okay.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }

                                #endregion
                                #region PrizeOfficer
                                case 1001:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("All your rewards have been sent to your mail. Don`t forget to check and see whether you have any reward not claimed.");

                                                    dialog.Option("Okay.", 255);
                                                    dialog.Avatar(10);
                                                    dialog.Send();
                                                    break;

                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Jail npc
                                case 43: //Jail npc
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("What~can~I~do~for~you?");

                                                    dialog.Option("Visit~the~jail.", 2);
                                                    dialog.Option("Just~passing~by.", 255);
                                                    dialog.Avatar(37);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("Give~me~1000~silver,~I~will~teleport~you~there.");

                                                    dialog.Option("Here~are~1000~silver.", 1);
                                                    dialog.Option("If~so,~I~will~stay~here.", 255);
                                                    dialog.Avatar(37);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Entity.Money >= 1000)
                                                    {
                                                        client.Entity.Money -= 1000;
                                                        client.Entity.Teleport(6000, 32, 72);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need 1000 silvers to be able to enter the jail.");
                                                        dialog.Option("Alright.", 255);
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Arena npc
                                case 10021: //Arena npc
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hello there. I can teleport you in jail for the amount of 50 silvers. Do you want to proceed?");
                                                    dialog.Option("Sure.", 1);
                                                    dialog.Option("I'm standing by.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Entity.Money >= 50)
                                                    {
                                                        client.Entity.Money -= 50;
                                                        client.Entity.Teleport(1005, 51, 71);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need 50 silvers to be able to enter the jail.");
                                                        dialog.Option("Alright.", 255);
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region ShopBoy
                                case 10063: //ShopBoy
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hello there. I can teleport you in our shop, but I can also dye your armor black for the price of one DragonBall. What do you say?");
                                                    dialog.Option("Teleport me in the shop.", 1);
                                                    dialog.Option("Dye my armor black.", 2);
                                                    dialog.Option("I'm standing by.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Entity.Teleport(1008, 22, 26);
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Inventory.Contains(1088000, 1))
                                                    {
                                                        ConquerItem armor = client.Equipment.TryGetItem(3);
                                                        if (armor != null && armor.ID != 0)
                                                        {
                                                            client.Inventory.Remove(1088000, 1);
                                                            armor.Color = Conquord.Game.Enums.Color.Black;
                                                            Conquord.Database.ConquerItemTable.UpdateColor(armor);
                                                            armor.Mode = Conquord.Game.Enums.ItemMode.Update;
                                                            armor.Send(client);
                                                            client.Equipment.UpdateEntityPacket();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You don't wear an armor right now so I can't do anything.");
                                                            dialog.Option("Ah alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Hmm...You don't have one DragonBall so I can't dye your armor.");
                                                        dialog.Option("Ah alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Kungfu Boy
                                case 100229:
                                    {
                                        // If inv contains jade glyph
                                        // npcRequest.OptionID = 5
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    //#warning (Kungfu Boy) Check for begenniers quest, check for the note. Echo this text.
                                                    dialog.Text("I started learning Kungfu when I was very young.\nNow I have learn to master my Chi very well! Wanna have a try?");
                                                    dialog.Option("Yeah!", 1);
                                                    dialog.Option("I don't care...", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("Oh, a message from the Village Gateman? I see.\nHe wants me to teach you how to master your Chi.");
                                                    dialog.Option("I'm listening.", 2);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("Press the Ctrl button, move the mouse arrow to the place you want to jump to and left click.");
                                                    dialog.Text("You should know, you can't jump to a place you can't just normally walk to sometimes.");
                                                    dialog.Option("Gotcha.", 3);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    dialog.Text("Good! It seems that you have mastered this skill. One more thing!\n");
                                                    dialog.Text("My sister, Kungfu Girl, has stolen my Jade Glyph and taken it up onto the roof behind me. Can you go get it for me?");
                                                    dialog.Option("No problem.", 4);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    //#warning (Kungfu boy) Add quest progress
                                                    client.Send(new Message("Jump to the roof behind Kungfu Boy and catch his mischievous sister!", System.Drawing.Color.Green, Message.PopUP));
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    dialog.Text("Hey you got it! Thank you. I see you've mastered your Chi.");
                                                    dialog.Option("I have.", 6);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    dialog.Text("Well, thats good. I storngly recommend you go visit the Armorer in Twin City.");
                                                    dialog.Text(" You need to pick out some armor. It will save your life!");
                                                    dialog.Option("I'll think about it.", 255);
                                                    dialog.Send();
                                                    break;
                                                }

                                        }
                                        break;
                                    }

                                #endregion
                                #region Kungfu Girl
                                case 127271:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Haha! I wanted to play a trick on my brother! Don't tell him.");
                                                    dialog.Option("He knows already.", 2);
                                                    dialog.Option("You are very naughty.", 1);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("Teehee!");
                                                    dialog.Option("He knows about this, you know.", 2);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("Oh, well you got me.... Alright. Here's his Jade Glyph. Take it.");
                                                    dialog.Option("Good!", 3);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    //#warning (Kungfu boy) Add quest progress
                                                    client.Send(new Message("You got Kungfu Boy's Jade Glyph back from Kungfu Girl! Take it back to Kungfu Boy.", System.Drawing.Color.Green, Message.PopUP));
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region KingDomQuiz
                                case 18740:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {

                                                    dialog.Text("The Realm which connects each server has been unlocked, and the threat from foreign servers is getting fierce. At the right moment,");
                                                    dialog.Text("~the Unions come into being where heroes are bound by a common hatred for enemies. If you know the system well, take a quiz to win a nice reward.");

                                                    dialog.Option("Start~the~quiz.", 1);
                                                    dialog.Option("Learn~about~Union~and~Kingdom.", 2);
                                                    dialog.Option("I`m~not~ready,~yet.", 255);
                                                    dialog.Avatar(43);
                                                    dialog.Send();

                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (!client.Entity.AnsweredKingdomQuiz)
                                                    {
                                                        dialog.Text("Union Leader can issue a Loot Token and start a Plunder War against the reigning hostile Kingdom to loot its Treasury.");
                                                        dialog.Text("~What should this Union rank the top in the server to upgrade to be a Kingdom after the war?");

                                                        dialog.Option("Gold~Bricks~reserve.~(Correct)", 3);
                                                        dialog.Option("Kills.", 254);
                                                        dialog.Avatar(43);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        client.MessageBox("Congratulations! You`ve answered all the questions correctly! Wish you a splendid exploit in the Kingdom War!");
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    client.IncreaseExperience(client.ExpBall / 6, false);
                                                    dialog.Text("Correct! Here`s 10 minutes of EXP for you! Pay attention to the next question.");

                                                    dialog.Option("I`m~ready.", 4);
                                                    dialog.Avatar(43);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    dialog.Text("Tempest Wings are an attractive talisman equipped on the back to greatly enhance the wearer`s Attributes and Battle Power.");
                                                    dialog.Text("~By upgrading, Tempest Wings have its appearance to evolve. What do the Emperor`s wings look like?");

                                                    dialog.Option("Exclusive~wings.(Correct)", 5);
                                                    dialog.Option("Normal~wings.", 254);
                                                    dialog.Avatar(43);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    client.IncreaseExperience(client.ExpBall / 6, false);
                                                    dialog.Text("Correct! Here`s 10 minutes of EXP for you! Pay attention to the next question.");

                                                    dialog.Option("I`m~ready.", 6);
                                                    dialog.Avatar(43);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    dialog.Text("Heroes gather for the Kingdom Mission to jointly resist foreign enemies. Except the benefit for Jiang Hu fighters,");
                                                    dialog.Text("~heroes who complete the Kingdom Mission will also receive rewards. What do you think of these rewards?");

                                                    dialog.Option("Wonderful~rewards.~(Correct)", 7);
                                                    dialog.Option("Normal~rewards.", 254);
                                                    dialog.Avatar(43);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 7:
                                                {
                                                    client.IncreaseExperience(client.ExpBall / 6, false);
                                                    dialog.Text("Correct! Here`s 10 minutes of EXP for you! Pay attention to the next question.");

                                                    dialog.Option("I`m~ready.", 8);
                                                    dialog.Avatar(43);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    dialog.Text("The mission accumulation function is coming soon. How many times can you accumulate the mission rewards?");

                                                    dialog.Option("Up~to~7~times.~(Correct)", 9);
                                                    dialog.Option("Only~1~time.", 254);
                                                    dialog.Avatar(43);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 9:
                                                {
                                                    client.IncreaseExperience(client.ExpBall / 6, false);
                                                    dialog.Text("Correct! Here`s 10 minutes of EXP for you! Pay attention to the next question.");

                                                    dialog.Option("I`m~ready.", 10);
                                                    dialog.Avatar(43);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 10:
                                                {
                                                    dialog.Text("The Potency Points earned in the Kingdom Mission can be used to acquire the Inner Power. Is there anything else needed to acquire the Inner Power?");

                                                    dialog.Option("Nothing~else.~It`s~free.", 11);
                                                    dialog.Option("Chi~Points.", 254);
                                                    dialog.Avatar(43);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 11:
                                                {
                                                    client.IncreaseExperience(client.ExpBall / 6, false);
                                                    dialog.Text("Correct! Here`s 10 minutes of EXP for you! Pay attention to the next question.");

                                                    dialog.Option("I`m~ready.", 12);
                                                    dialog.Avatar(43);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 12:
                                                {
                                                    dialog.Text("If your Inner Power is not Perfect, you can reshape it. What should the bonus Attribute become after the reshape?");

                                                    dialog.Option("Better.", 13);
                                                    dialog.Option("Worse.", 254);
                                                    dialog.Avatar(43);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 13:
                                                {
                                                    client.IncreaseExperience(client.ExpBall / 6, false);
                                                    dialog.Text("Correct! Here`s 10 minutes of EXP for you! Pay attention to the next question.");

                                                    dialog.Option("I`m~ready.", 14);
                                                    dialog.Avatar(43);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 14:
                                                {
                                                    dialog.Text("What can you do with the bonus Attribute of your Inner Power?");

                                                    dialog.Option("Transfer~attributes~to~others.", 15);
                                                    dialog.Option("Adjust~the~attributes.", 254);
                                                    dialog.Avatar(43);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 15:
                                                {
                                                    dialog.Text("You`ve answered all the questions correctly. If you`re still interested, come and find me tomorrow. I`ll give you 10 minutes of EXP for every correct answer.");

                                                    dialog.Option("Okay. ", 255);
                                                    dialog.Avatar(43);
                                                    dialog.Send();
                                                    client.Entity.AnsweredKingdomQuiz = true;
                                                    client.Send(new Conquord.Network.GamePackets.Message("Congratulations! You`ve completed the Kingdom War Quiz. Wish you an overwhelming victory in the Kingdom", System.Drawing.Color.Red, 0x7d0));
                                                    break;
                                                }
                                            case 254:
                                                {
                                                    client.MessageBox("Sorry, wrong answer. Please think it over, and give me your anwer again.");
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("Union Leader can issue a Loot Token to start a Plunder War against the reigning hostile Kingdom and loot its Treasury.");
                                                    dialog.Text("~After the war, if this Union has the most Gold Bricks in the server, it can overthrow the old regime and upgrade to be a Kingdom.");

                                                    dialog.Option("What`re~Tempest~Wings?", 16);
                                                    dialog.Avatar(43);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 16:
                                                {
                                                    dialog.Text("Tempest Wings are an attractive talisman equipped on the back to enhances the wearer`s Attributes and Battle Power.");
                                                    dialog.Text("~By upgrading, Tempest Wings have its appearance to evolve. The wings for the Emperor are exclusive which delivers");
                                                    dialog.Text("~a sense of supremacy.");

                                                    dialog.Option("What`s~Kingdom~Mission?", 17);
                                                    dialog.Avatar(43);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 17:
                                                {
                                                    dialog.Text("Heroes gather for the Kingdom Mission to jointly resist foreign enemies and win wonderful rewards.");
                                                    dialog.Text("~For Jiang Hu fighters, completing the mission will also reduce their training time. Additionally, mission accumulation function");
                                                    dialog.Text("~is coming soon, which allows heroes to accumulate the mission rewards up to 7 days. When they complete the mission, the rewards are given altogether.");

                                                    dialog.Option("What`s~Inner~Power?", 18);
                                                    dialog.Avatar(43);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 18:
                                                {
                                                    dialog.Text("The Potency Points that heroes have attained in Kingdom Mission can be used to acquire the Inner Power for bonus Attributes.");
                                                    dialog.Text("~If your Inner Power is not Perfect, you can reshape it to get better Attributes. It`s free, and only requires Potency Points.");
                                                    dialog.Text("~In the near future, you`ll be able to transfer the bonus Attributes of your Inner Power to others. It`s amazing, isn`t it?");

                                                    dialog.Option("Indeed.", 255);
                                                    dialog.Avatar(43);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                            }
                            break;
                        }
                    #endregion
                    #region SecondQuest
                    case 1700:
                        {
                            if (client.Quests.GetQuest(QuestID.SecondQuestStageFour) != null && client.Quests.CheckQuest(QuestID.SecondQuestStageFour) == QuestPacket.QuestData.QuestStatus.Finished)
                                break;
                            switch (client.ActiveNpc)
                            {
                                #region SatanSeal
                                case 3608:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Inventory.Contains(722727) && client.Entity.Reborn == 1 && client.Quests.HasQuest(QuestID.SecondQuestStageFour) && client.Entity.Level >= 120)
                                                    {
                                                        dialog.Text("A Satan will be released. You want to continue?");
                                                        dialog.Option("Yes.", 1);
                                                        dialog.Option("No.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        client.Send(new Message("Sorry, you're ineligble to use the SatanSeal or you have no the SquamaBead", Color.Red, Message.System));
                                                    }
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Inventory.Remove(722727, 1);
                                                    Database.MonsterInformation mt;
                                                    Database.MonsterInformation.MonsterInformations.TryGetValue(3644, out mt);
                                                    client.map.SpawnMonsterNearToHero(mt, client);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Bryan
                                case 3602:
                                    {
                                        if (client.Entity.Reborn == 2)
                                        {
                                            dialog.Text("Wow!~You~have~completed~your~second~rebirth.~You~look~so~cool.~I~couldn`t~recognize~you~at~the~first~sight.");
                                            dialog.Option("Glad~to~hear~that.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Quests.GetQuest(QuestID.SecondQuestStageTwo) != null && client.Quests.GetQuest(QuestID.SecondQuestStageTwo).QItem.Status == QuestPacket.QuestData.QuestStatus.Accepted && client.Quests.GetQuest(QuestID.SecondQuestStageTwo).Kills >= 40000)
                                                    {
                                                        dialog.Text("Well~done! You've~completed~your~quest~with~good~merts.");
                                                        dialog.Text("You've~a~chance~to~get~reborn~soon~Angela~will~guide~you~throw~the~next~tests.");
                                                        dialog.Option("Thank~you.", 2);
                                                        dialog.Send();
                                                    }
                                                    else if (client.Quests.CheckQuest(QuestID.SecondQuestStageOne) == QuestPacket.QuestData.QuestStatus.Finished && client.Quests.GetQuest(QuestID.SecondQuestStageTwo) == null)
                                                    {
                                                        dialog.Text("The~grievance~of~the~dead~souls~here~has~earned~a~mountain~of~40000.");
                                                        dialog.Text("metres~high. That~mountain~will~sink~for~a~few~metres~for~dierly~monster~here");
                                                        dialog.Text("you~kill~What~that~mountain~is~razed~to~the~ground. You'll~release~made");
                                                        dialog.Text("souls~from~suffering. Your~good~merts~will~be~infinite~and~boundless");
                                                        dialog.Option("Okay.", 1);
                                                        dialog.Option("Too~difficult.", 255);
                                                        dialog.Send();
                                                    }
                                                    else if (client.Quests.CheckQuest(QuestID.SecondQuestStageOne) == QuestPacket.QuestData.QuestStatus.Finished && client.Quests.CheckQuest(QuestID.SecondQuestStageTwo) == QuestPacket.QuestData.QuestStatus.Accepted)
                                                    {
                                                        dialog.Text("Your metres are " + client.Quests.GetQuest(QuestID.SecondQuestStageTwo).Kills + " you still need " + (40000 - client.Quests.GetQuest(QuestID.SecondQuestStageTwo).Kills).ToString() + " metres. Go Hunt Monsters!");
                                                        dialog.Option("Okay.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("I~will~record~your~scores. if~you~want~to~check~how~high~the~mountain~of.");
                                                    dialog.Text("grievance~remains. You~may~return~to~check~at~any~time.");
                                                    dialog.Option("Okay.", 255);
                                                    dialog.Send();
                                                    client.Quests.Accept(QuestID.SecondQuestStageTwo);
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    client.Quests.FinishQuest(QuestID.SecondQuestStageTwo);
                                                    _String str = new _String(true);
                                                    str.UID = client.Entity.UID;
                                                    str.TextsCount = 1;
                                                    str.Type = _String.Effect;
                                                    str.Texts.Add("end_task");
                                                    client.SendScreen(str, true);
                                                    Data datapacket = new Data(true);
                                                    datapacket.UID = client.Entity.UID;
                                                    datapacket.ID = 162;
                                                    datapacket.TimeStamp2 = 3603;
                                                    datapacket.wParam1 = 612;
                                                    datapacket.wParam2 = 638;
                                                    client.Send(datapacket);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Angela
                                case 3603:
                                    {
                                        if (client.Entity.Reborn == 2)
                                        {
                                            dialog.Text("Wow!~You`ve~completed~your~second~rebirth.~Congratulations!");
                                            dialog.Option("Thanks!", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Quests.CheckQuest(QuestID.SecondQuestStageTwo) == QuestPacket.QuestData.QuestStatus.Finished && client.Quests.GetQuest(QuestID.SecondQuestStageThree) != null && client.Quests.GetQuest(QuestID.SecondQuestStageThree).Kills >= 72)
                                                    {
                                                        dialog.Text("The BindingCurse has ahead at of its blood. but its avil force is not weakened");
                                                        dialog.Text("at all. My fatlows can't be released until Satan is killed. I lost SquamaBead");
                                                        dialog.Text("the key to open SatanSeal. That seal protects Satan from being hurt. The");
                                                        dialog.Text("SquamaBead has fal io into hands of evil spirits. Can you find it for me?");
                                                        dialog.Option("Ok.", 2);
                                                        dialog.Option("Sorry, I'm busy.", 255);
                                                        dialog.Send();
                                                    }
                                                    else if (client.Quests.CheckQuest(QuestID.SecondQuestStageTwo) == QuestPacket.QuestData.QuestStatus.Finished && client.Quests.GetQuest(QuestID.SecondQuestStageThree) == null)
                                                    {
                                                        dialog.Text("I~heared~about~your~marts. Satan~is~imperosond~in~the~depth~of~this~place. I");
                                                        dialog.Text("am~the~wardin. I~have~8~guards.Andrew, Peter, Phlip, Timothy, Daphne");
                                                        dialog.Text(", Victorya, Wayne, Theodore. They are killed and cursed by Satan. Thier souls");
                                                        dialog.Text("can't be released from Suffering. Please be kind by help thiem.");
                                                        dialog.Option("Ok.", 1);
                                                        dialog.Option("I have no time.", 255);
                                                        dialog.Send();
                                                    }
                                                    else if (client.Quests.CheckQuest(QuestID.SecondQuestStageTwo) == QuestPacket.QuestData.QuestStatus.Finished && client.Quests.CheckQuest(QuestID.SecondQuestStageThree) == QuestPacket.QuestData.QuestStatus.Accepted)
                                                    {
                                                        dialog.Text("Why you are here?! Go Kill Andrew, Peter, Phlip, Timothy, Daphne");
                                                        dialog.Text(", Victorya, Wayne, Theodore Then come to me!");
                                                        dialog.Option("Okay.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Quests.Accept(QuestID.SecondQuestStageThree);
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("The SquamaBead is probably in the hands of SerpentSpirit, HadesLord,");
                                                    dialog.Text("DemonLord, FiendLord, FuryApe, DemonBat, FurySkeleton, FearlessBeast!");
                                                    dialog.Text("Please try to get it for me!");
                                                    dialog.Option("Okay.", 3);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    client.Quests.FinishQuest(QuestID.SecondQuestStageThree);
                                                    _String str = new _String(true);
                                                    str.UID = client.Entity.UID;
                                                    str.TextsCount = 1;
                                                    str.Type = _String.Effect;
                                                    str.Texts.Add("end_task");
                                                    client.SendScreen(str, true);
                                                    client.Quests.Accept(QuestID.SecondQuestStageFour);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Bruce
                                case 3604:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Another~wronged~person!~What~a~poor~guy!~You~should~have~been~in~the~Heaven,~unfortunately,~you`ve~been~driven~to~"); dialog.Text("this~terrible~place~where~nobody~will~take~care.");
                                                    dialog.Option("Where~am~I~now?", 1);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("Here~is~not~the~fairyland~or~hell.~This~place~is~called~Evil~Abyss.~If~you~want~to~get~reborn~and~start~a~fresh~"); dialog.Text("life,~you~need~to~go~through~a~lot~of~tests.");
                                                    dialog.Option("What~tests?", 2);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("The~journey~to~second~rebirth~is~very~long~and~dangerous.~There~are~many~vicious~demons~and~fiends~roaming~around.~"); dialog.Text("I~advise~you~think~it~over.~If~you~have~made~up~your~mind,~you~may~have~a~talk~with~my~fellows.~They~will~tell~you~what~to~do.");
                                                    dialog.Option("I~see.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region PropShopkeeper
                                case 15693:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    Conquord.Network.GamePackets.Data Data = new Conquord.Network.GamePackets.Data(true);
                                                    Data.UID = client.Entity.UID;
                                                    Data.ID = 160;
                                                    Data.dwParam = 32;
                                                    Data.TimeStamp2 = client.ActiveNpc;
                                                    Data.wParam1 = client.Entity.X;
                                                    Data.wParam2 = client.Entity.Y;
                                                    client.Send(Data);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Arthur
                                case 3601:
                                    {
                                        if (client.Entity.Reborn == 2)
                                        {
                                            dialog.Text("Wow!~You`ve~completed~your~second~rebirth.~Glad~to~see~you~again.");
                                            dialog.Option("Nice~to~meet~you.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Inventory.Contains(722731, 3) && client.Quests.HasQuest(QuestID.SecondQuestStageOne) && client.Quests.CheckQuest(QuestID.SecondQuestStageOne) == QuestPacket.QuestData.QuestStatus.Accepted && client.Entity.Level >= 120)
                                                    {
                                                        dialog.Text("Ooh! You have 3 Pure Vigors! Aren't you?");
                                                        dialog.Option("Yes, I'm!", 10);
                                                        dialog.Send();
                                                    }
                                                    else if (client.Entity.Reborn == 1 && !client.Quests.HasQuest(QuestID.SecondQuestStageOne) && client.Entity.Level >= 120)
                                                    {
                                                        dialog.Text("Attention! It`s a place filled with dangers. Are you sure you want to move forward?");
                                                        dialog.Option("Yes!", 1);
                                                        dialog.Option("Too~terrible.", 255);
                                                        dialog.Send();
                                                    }
                                                    else if (client.Entity.Reborn == 1 && client.Quests.HasQuest(QuestID.SecondQuestStageOne) && client.Entity.Level >= 120)
                                                    {
                                                        dialog.Text("You can get Feather Stones from the Swift Devils. When you gather 3 stones, I can make an Immortal Stone for you.");
                                                        dialog.Option("I~want~Evil~Tooth!", 7);
                                                        dialog.Option("I~want~Immortal~Stone!", 8);
                                                        dialog.Option("Make~an~ImpureVigor", 9);
                                                        dialog.Option("I~see.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                    }
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("Well, you will have to go through pains and dangers before you get reborn."); dialog.Text("~You may even lose your life any any time!"); dialog.Text("~Are you ready to get started?");
                                                    dialog.Option("Yes!", 2);
                                                    dialog.Option("Not~yet.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("The ferocious monsters here are controlled by some devils, which are hiding in the seals."); dialog.Text("~Only when the minions summon them, will they come out. Now, I want you to make the devils show up"); dialog.Text("~and then kill them!");
                                                    dialog.Option("What~exactly~shall~I~do?", 3);
                                                    dialog.Option("I~changed~my~mind.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    dialog.Text("They have a strictly hierarchical system. Kill Hill Spirit`s minions to get a Moss, Dream Grass and Soul Aroma. And then go to the west and click on the Earth Seal to summon a Hill Spirit."); dialog.Text("~Kill it to get a Ghost Horn. When you gather 3 horns, bring them to me, and I will make an Evil Tooth for you. After that, bring the tooth, as well as a Moss, Dream Grass and Soul Aroma"); dialog.Text("~to the Water Seal in the east. Click on the seal to summon a Swift Devil.");
                                                    dialog.Option("So,~is~it~their~boss?", 4);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    dialog.Text("Not really. You`re going to kill Swift Devils to collect 3 Feather Stones. And then bring them to me and I`ll make an Immortal Stone for you."); dialog.Text("~After that, take this stone, as well as a Moss, Dream Grass and Soul Arom to the Fire Seal."); dialog.Text("~Click on the seal to release the Banshee. When it shows up, kill it to get a Vigor Fragment.");
                                                    dialog.Option("I`ve~got~to~kill~them.", 5);
                                                    dialog.Option("Too~dangerous.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    dialog.Text("Wait! You haven`t killed the Banshee? She will make a lot of troubles!"); dialog.Text("~Go kill her to get a Vigor Fragment. Remember that you need 3 fragments.");
                                                    dialog.Option("I~see.", 6);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    if (client.Entity.Reborn == 1 && client.Entity.Level >= 120)
                                                    {
                                                        client.Quests.Accept(QuestID.SecondQuestStageOne);
                                                    }
                                                    break;
                                                }
                                            case 7:
                                                {
                                                    if (client.Inventory.Contains(722722, 3))
                                                    {
                                                        client.Inventory.Remove(722722, 3);
                                                        client.Inventory.Add(722721, 0, 1);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Well then, give me 3 Ghost Horns! If you don`t have enough horns, go hunt for them from the Hill Spirits.");
                                                        dialog.Option("I~will~bring~them~soon.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    if (client.Inventory.Contains(722726, 3))
                                                    {
                                                        client.Inventory.Remove(722726, 3);
                                                        client.Inventory.Add(722728, 0, 1);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Well then, give me 3 Feather Stones! If you don`t have enough stones, go hunt for them from the Swift Devils.");
                                                        dialog.Option("I~will~bring~them~soon.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 9:
                                                {
                                                    if (client.Inventory.Contains(722729, 3))
                                                    {
                                                        client.Inventory.Remove(722729, 3);
                                                        client.Inventory.Add(722730, 0, 1);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Well then, give me 3 Vigor Fragments! If you don`t have enough fragments, go hunt for them from the Banshees.");
                                                        dialog.Option("I~will~bring~them~soon.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 10:
                                                {
                                                    client.Inventory.Remove(722731, 3);
                                                    client.Quests.FinishQuest(QuestID.SecondQuestStageOne);
                                                    _String str = new _String(true);
                                                    str.UID = client.Entity.UID;
                                                    str.TextsCount = 1;
                                                    str.Type = _String.Effect;
                                                    str.Texts.Add("end_task");
                                                    client.SendScreen(str, true);
                                                    Data datapacket = new Data(true);
                                                    datapacket.UID = client.Entity.UID;
                                                    datapacket.ID = 162;
                                                    datapacket.TimeStamp2 = 3602;
                                                    datapacket.wParam1 = 606;
                                                    datapacket.wParam2 = 633;
                                                    client.Send(datapacket);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region EarthSeal
                                case 3605:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Inventory.Contains(722723) && client.Inventory.Contains(722724) && client.Inventory.Contains(722725))
                                                    {
                                                        dialog.Text("A Hill Spirit will be released. You want to continue?");
                                                        dialog.Option("Yes.", 1);
                                                        dialog.Option("No.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        client.Send(new Message("You can't open EarthSeal. Please bring a Moss, DreamGrass and a SoulAroma to open it.", Color.Red, Message.System));
                                                    }
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Inventory.Remove(722723, 1);
                                                    client.Inventory.Remove(722724, 1);
                                                    client.Inventory.Remove(722725, 1);
                                                    Database.MonsterInformation mt;
                                                    Database.MonsterInformation.MonsterInformations.TryGetValue(3632, out mt);
                                                    client.map.SpawnMonsterNearToHero(mt, client);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region WaterSeal
                                case 3606:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Inventory.Contains(722721) && client.Inventory.Contains(722723) && client.Inventory.Contains(722724) && client.Inventory.Contains(722725))
                                                    {
                                                        dialog.Text("A Swift Devil will be released. You want to continue?");
                                                        dialog.Option("Yes.", 1);
                                                        dialog.Option("No.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        client.Send(new Message("You can't open WaterSeal. Please bring a EvilTooth, Moss, DreamGrass and a SoulAroma to open it.", Color.Red, Message.System));
                                                    }
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Inventory.Remove(722721, 1);
                                                    client.Inventory.Remove(722723, 1);
                                                    client.Inventory.Remove(722724, 1);
                                                    client.Inventory.Remove(722725, 1);
                                                    Database.MonsterInformation mt;
                                                    Database.MonsterInformation.MonsterInformations.TryGetValue(3633, out mt);
                                                    client.map.SpawnMonsterNearToHero(mt, client);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region FireSeal
                                case 3607:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Inventory.Contains(722728) && client.Inventory.Contains(722723) && client.Inventory.Contains(722724) && client.Inventory.Contains(722725))
                                                    {
                                                        dialog.Text("A Banshee will be released. You want to continue?");
                                                        dialog.Option("Yes.", 1);
                                                        dialog.Option("No.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        client.Send(new Message("You can't open FireSeal. Please bring a ImmortalStone, Moss, DreamGrass and a SoulAroma to open it.", Color.Red, Message.System));
                                                    }
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Inventory.Remove(722728, 1);
                                                    client.Inventory.Remove(722723, 1);
                                                    client.Inventory.Remove(722724, 1);
                                                    client.Inventory.Remove(722725, 1);
                                                    Database.MonsterInformation mt;
                                                    Database.MonsterInformation.MonsterInformations.TryGetValue(3634, out mt);
                                                    client.map.SpawnMonsterNearToHero(mt, client);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region CleansingStove
                                case 3609:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Inventory.Contains(722730))
                                                    {
                                                        dialog.Text("A CleansingDevil will be released. You want to continue?");
                                                        dialog.Option("Yes.", 1);
                                                        dialog.Option("No.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        client.Send(new Message("You can't open CleansingStove. Please bring a PureVigor to open it.", Color.Red, Message.System));
                                                    }
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Inventory.Remove(722730, 1);
                                                    Database.MonsterInformation mt;
                                                    Database.MonsterInformation.MonsterInformations.TryGetValue(3635, out mt);
                                                    client.map.SpawnMonsterNearToHero(mt, client);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                            }
                            break;
                        }
                    #endregion
                    #region Poker Gold

                    case 8880:
                        {

                            switch (client.ActiveNpc)
                            {

                                #region Poker1

                                case 269857:
                                    {

                                        switch (npcRequest.OptionID)
                                        {

                                            case 0:
                                                {

                                                    dialog.Text("Greeting, I`m glad to be at your service. Win or lose is not that important. To win is not the ultimate aim of the game, happiness is what we have been pursuing. Here, I even more like to wish you a good health than a good luck!");

                                                    dialog.Option("I~have~no~interest~in~it.", 1);

                                                    dialog.Option("Enter~VIP~Hall.", 2);

                                                    dialog.Option("I~still~want~to~play.", 255);

                                                    dialog.Avatar(175);

                                                    dialog.Send();

                                                    break;

                                                }

                                            case 1:
                                                {

                                                    client.Entity.Teleport(1002, 300, 278);

                                                    break;

                                                }

                                            case 2:
                                                {

                                                    client.Entity.Teleport(8881, 55, 62);

                                                    Entity.SendReload(client);

                                                    break;

                                                }

                                        }

                                        break;

                                    }

                                #endregion

                            }

                            break;

                        }

                    #endregion

                    #region Poker Cps

                    case 8881:
                        {

                            switch (client.ActiveNpc)
                            {

                                #region Poker2 [TRADUCIDO]

                                case 369857:
                                    {

                                        switch (npcRequest.OptionID)
                                        {

                                            case 0:
                                                {

                                                    dialog.Text("Greeting, I`m glad to be at your service. Win or lose is not that important. To win is not the ultimate aim of the game, happiness is what we have been pursuing. Here, I even more like to wish you a good health than a good luck!");

                                                    dialog.Option("I~have~no~interest~in~it.", 1);

                                                    dialog.Option("Enter~Poker~Room.", 2);

                                                    dialog.Option("I~still~want~to~play.", 255);

                                                    dialog.Avatar(175);

                                                    dialog.Send();

                                                    break;

                                                }

                                            case 1:
                                                {

                                                    client.Entity.Teleport(1002, 300, 278);

                                                    break;

                                                }

                                            case 2:
                                                {

                                                    client.Entity.Teleport(8880, 79, 75);

                                                    Entity.SendReload(client);

                                                    break;

                                                }

                                        }

                                        break;

                                    }

                                #endregion

                            }

                            break;

                        }

                    #endregion 
                    #region  Quest Epic Monk
                    case 3983:
                        {
                            switch (client.ActiveNpc)
                            {                                
                               #region GoldenCicada
                                case 10912:
                                    {//NpcMesh: 50976 NpcX: 85 NpcY: 70 Avatar: 225 MapID: 3983
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Devils are rampant again, and people are living in misery. That`s the reason why I came here with my disciples.");
                                                    dialog.Text("~We need Monks and Saints who have reached Level 70 of 2nd-reborn to repeat the journey to the Western Fairyland.");
                                                    dialog.Text("~Perhaps, the power of sacred sutras in the Fairyland can alleviate the miseries.");
                                                    dialog.Option("What~can~I~do?", 2);
                                                    dialog.Option("I~want~to~leave~here.", 1);
                                                    dialog.Option("Nothing~is~real.", 255);
                                                    dialog.Avatar(225);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Entity.Teleport(1004, 40, 39);
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("Trial 1: Submit 3 Red Flowers and 3 White Flowers to Fortune Arhat, and complete this trial to get a [Spiritual Gem].\n");
                                                    dialog.Text("Trial 2: Submit the [Spiritual Gem] to the Altar Cleanser, and remove distracting thoughts to get [Buddha`s Necklace].\n");
                                                    dialog.Text("Trial 3: Submit the [Buddha`s Necklace] to the Victory Buddha, and complete this trial to get a [Boundless Heart].\n\n");
                                                    dialog.Text("Use the [Boundless Heart] to reshape your Prayer Beads into an Epic Weapon.\nEquipping 2 Epic Weapons on your hands will inflict ranged damage while attacking.");
                                                    dialog.Option("Head~to~see~Fortune~Arhat.", 3);
                                                    dialog.Option("I~see.", 255);
                                                    dialog.Avatar(225);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    Data datapacket = new Data(true);
                                                    datapacket.UID = client.Entity.UID;
                                                    datapacket.ID = 162;
                                                    datapacket.TimeStamp2 = 10913;
                                                    datapacket.wParam1 = 82;
                                                    datapacket.wParam2 = 83;
                                                    client.Send(datapacket);
                                                    break;
                                                }

                                        }
                                        break;
                                    }
                                #endregion
                                #region FortuneArhat
                                case 10913:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Entity.EpicMonk())
                                                    {
                                                        dialog.Text("Hell is so close to Heaven. If you commit a sin, you could easily on your way to Hell, but you can always be saved.");
                                                        dialog.Text("~Give me 3 Red Flowers and 3 White Flowers, and get ready for a trial to clear your sin.");
                                                        dialog.Option("Here`re~the~flowers.", 3);
                                                        dialog.Option("Pay~49~CPs~to~start~the~trial.", 1);
                                                        dialog.Option("Human~beings~are~complicated.", 255);
                                                        dialog.Avatar(224);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("This is the first time you tried to clear your sin. Though it failed, I still want to reward you with 3 Protection Pills.");
                                                        dialog.Text("~Each time you try, you have 10%chance to receive a [Spiritual Gem]. Try again?");
                                                        dialog.Option("Pay~49~CPs~to~clear~my~sin.", 1);
                                                        dialog.Option("Pay~490~CPs~to~clear~10~times.", 5);
                                                        dialog.Option("I`ll~think~about~it.", 255);
                                                        dialog.Avatar(224);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 1:
                                            case 5:
                                                {
                                                    if (npcRequest.OptionID == 1)
                                                    {
                                                        dialog.Text("Are you sure you want to start this trial with the power of 49 CPs?");
                                                        dialog.Option("Yes.", 2);
                                                        dialog.Option("No.", 255);
                                                        dialog.Avatar(224);
                                                        dialog.Send();
                                                    }
                                                    if (npcRequest.OptionID == 5)
                                                    {
                                                        dialog.Text("Are you sure you want to start this trial with the power of 490 CPs?");
                                                        dialog.Option("Yes.", 6);
                                                        dialog.Option("No.", 255);
                                                        dialog.Avatar(224);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Entity.ConquerPoints >= 49)
                                                    {
                                                        client.Entity.ConquerPoints -= 49;
                                                        System.Random r = new System.Random();
                                                        int i = r.Next(100);
                                                        if (i > 0 && i <= 10)
                                                        {
                                                            client.Inventory.Add(3002029, 0, 3);
                                                            client.Inventory.Add(3007565, 0, 1);
                                                            client.MessageBox("You~received~3~Protection~Pills~1~Rosewood~Incense!");
                                                        }
                                                        if (i > 10 && i <= 20)
                                                        {
                                                            client.Inventory.Add(3002029, 0, 3);
                                                            client.MessageBox("You~received~3~Protection~Pills!");
                                                        }
                                                        if (i > 20 && i <= 30)
                                                        {
                                                            client.Inventory.Add(3002029, 0, 3);
                                                            client.MessageBox("You~received~3~Protection~Pills!");
                                                        }
                                                        if (i > 30 && i <= 40)
                                                        {
                                                            client.Inventory.Add(3002029, 0, 3);
                                                            client.Inventory.Add(3007565, 0, 1);
                                                            client.MessageBox("You~received~3~Protection~Pills~1~Rosewood~Incense!");
                                                        }
                                                        if (i > 40 && i <= 80)
                                                        {
                                                            client.Inventory.Add(3002029, 0, 3);
                                                            client.MessageBox("You~received~3~Protection~Pills!");
                                                        }
                                                        if (i > 80 && i <= 100)
                                                        {
                                                            client.Inventory.Add(3007562, 0, 1);
                                                            client.MessageBox("You~received~Spiritual~Gem!");
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don`t have enough CPs. I`m afraid I can`t help you.");
                                                        dialog.Option("I`ll~bring~more.", 255);
                                                        dialog.Avatar(224);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Inventory.Contains(722732, 3) && client.Inventory.Contains(722736, 3))//RedFlower
                                                    {
                                                        client.Inventory.Remove(722732, 3);
                                                        client.Inventory.Remove(722736, 3);
                                                        client.Entity.SubClasses.StudyPoints += 100;
                                                        if (client.Entity.MyJiang != null)
                                                        {
                                                            client.Entity.MyJiang.FreeCourse += 40000;
                                                            client.Entity.MyJiang.Talent += 2;
                                                            client.Entity.MyJiang.SendInfo(client, Network.GamePackets.JiangHu.UpdateTime, client.Entity.MyJiang.FreeCourse.ToString(), client.Entity.MyJiang.Time.ToString());
                                                            client.Entity.MyJiang.SendInfo(client, Network.GamePackets.JiangHu.UpdateTalent, client.Entity.UID.ToString(), client.Entity.MyJiang.Talent.ToString());
                                                        }
                                                        client.MessageBox("You~received~100~Study~Points,~4~Free~Courses~and~2~Talents~for~Jiang~Hu~training.");
                                                        dialog.Text("Mortal beings are always entangled with their sins. I`ve ever been there before. Each time when you try,");
                                                        dialog.Text("~you have 10%chance to alleviate your sin, and win a Spiritual Gem from me.");
                                                        dialog.Option("Clear~my~sin.", 4);
                                                        dialog.Option("I`ll~think~about~it.", 255);
                                                        dialog.Avatar(224);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        client.MessageBox("You~don't~have~requird~flowers!");
                                                    }
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    System.Random r = new System.Random();
                                                    int i = r.Next(100);
                                                    if (i > 0 && i <= 10)
                                                    {
                                                        client.Inventory.Add(3002029, 0, 3);
                                                        client.MessageBox("You~received~3~Protection~Pills!");
                                                    }
                                                    if (i > 10 && i <= 20)
                                                    {
                                                        client.Inventory.Add(3002029, 0, 2);
                                                        client.MessageBox("You~received~2~Protection~Pills!");
                                                    }
                                                    if (i > 20 && i <= 30)
                                                    {
                                                        client.Inventory.Add(3002029, 0, 3);
                                                        client.Inventory.Add(3007565, 0, 1);
                                                        client.MessageBox("You~received~3~Protection~Pills~1~Rosewood~Incense!");
                                                    }
                                                    if (i > 30 && i <= 40)
                                                    {
                                                        client.Inventory.Add(3002029, 0, 1);
                                                        client.MessageBox("You~received~1~Protection~Pills!");
                                                    }
                                                    if (i > 40 && i <= 80)
                                                    {
                                                        client.Inventory.Add(3002029, 0, 10);
                                                        client.MessageBox("You~received~10~Protection~Pills!");
                                                    }
                                                    if (i > 90 && i <= 100)
                                                    {
                                                        client.Inventory.Add(3007562, 0, 1);
                                                        client.MessageBox("You~received~Spiritual~Gem!");
                                                    }
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    if (client.Entity.ConquerPoints >= 490)
                                                    {
                                                        client.Entity.ConquerPoints -= 490;
                                                        for (int x = 0; x < 10; x++)
                                                        {
                                                            System.Random r = new System.Random();
                                                            int i = r.Next(100);
                                                            if (i > 0 && i <= 10)
                                                            {
                                                                client.Inventory.Add(3002029, 0, 3);
                                                                client.MessageBox("You~received~3~Protection~Pills!");
                                                            }
                                                            if (i > 10 && i <= 20)
                                                            {
                                                                client.Inventory.Add(3002029, 0, 2);
                                                                client.MessageBox("You~received~2~Protection~Pills!");
                                                            }
                                                            if (i > 20 && i <= 30)
                                                            {
                                                                client.Inventory.Add(3002029, 0, 3);
                                                                client.Inventory.Add(3007565, 0, 1);
                                                                client.MessageBox("You~received~3~Protection~Pills~1~Rosewood~Incense!");
                                                            }
                                                            if (i > 30 && i <= 40)
                                                            {
                                                                client.Inventory.Add(3002029, 0, 1);
                                                                client.MessageBox("You~received~1~Protection~Pills!");
                                                            }
                                                            if (i > 40 && i <= 80)
                                                            {
                                                                client.Inventory.Add(3002029, 0, 10);
                                                                client.MessageBox("You~received~10~Protection~Pills!");
                                                            }
                                                            if (i > 90 && i <= 100)
                                                            {
                                                                client.Inventory.Add(3007562, 0, 1);
                                                                client.MessageBox("You~received~Spiritual~Gem!");
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don`t have enough CPs. I`m afraid I can`t help you.");
                                                        dialog.Option("I`ll~bring~more.", 255);
                                                        dialog.Avatar(224);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }

                                        }
                                        break;
                                    }
                                #endregion
                                #region AltarCleanser
                                case 10914:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Why did you keep me waiting so long? Well, I`m not wordy. Too many Emotions and desires will affect your study of Buddhism.");
                                                    dialog.Text("~You have 1/10 chance to remove a distracting thought with a [Spiritual Gem] each time. If you succeed, I`ll make a [Buddha`s Necklace] for you.");
                                                    dialog.Option("Remove~distractions~(1~gem)", 1);
                                                    dialog.Option("Try~5~times.~(5~gems)", 3);
                                                    dialog.Option("I~prefer~to~keep~them.", 255);
                                                    dialog.Avatar(299);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Inventory.Contains(3007562, 1))
                                                    {
                                                        dialog.Text("Are you sure you want to start this trial with the power of [Spiritual Gem]?");
                                                        dialog.Option("Yes.", 4);
                                                        dialog.Option("No.", 255);
                                                        dialog.Avatar(224);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Ah, you don`t have a [Spiritual Gem] with you. You`d better collect one from Fortune Arhat.");
                                                        dialog.Option("Head~to~see~Fortune~Arhat.", 2);
                                                        dialog.Avatar(299);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    client.Entity.Teleport(3983, 77, 85);
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Inventory.Contains(3007562, 5))
                                                    {
                                                        dialog.Text("Are you sure you want to start this trial with the power of 5 [Spiritual Gem]?");
                                                        dialog.Option("Yes.", 5);
                                                        dialog.Option("No.", 255);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don`t have 5 [Spiritual Gems] to continue. Why not try it one by one?");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Option("Head~to~see~Fortune~Arhat.", 2);
                                                        dialog.Avatar(299);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    if (client.Inventory.Contains(3007562, 1))
                                                    {
                                                        client.Inventory.Remove(3007562, 1);
                                                        System.Random r = new System.Random();
                                                        int i = r.Next(100);
                                                        if (i > 0 && i <= 10)
                                                        {
                                                            client.Inventory.Add(3002029, 0, 3);
                                                            client.Inventory.Add(3007565, 0, 1);
                                                            client.MessageBox("You~received~3~Protection~Pills~1~Rosewood~Incense!");
                                                        }
                                                        if (i > 10 && i <= 20)
                                                        {
                                                            client.Inventory.Add(3002029, 0, 2);
                                                            client.Inventory.Add(3007565, 0, 1);
                                                            client.MessageBox("You~received~2~Protection~Pills~1~Rosewood~Incense!");
                                                        }
                                                        if (i > 20 && i <= 30)
                                                        {
                                                            client.Inventory.Add(3002029, 0, 3);
                                                            client.MessageBox("You~received~3~Protection~Pills!");
                                                        }
                                                        if (i > 30 && i <= 40)
                                                        {
                                                            client.Inventory.Add(3002029, 0, 5);
                                                            client.Inventory.Add(3007565, 0, 1);
                                                            client.MessageBox("You~received~5~Protection~Pills~1~Rosewood~Incense!");
                                                        }
                                                        if (i > 40 && i <= 80)
                                                        {
                                                            client.Inventory.Add(3002029, 0, 10);
                                                            client.MessageBox("You~received~10~Protection~Pills!");
                                                        }
                                                        if (i > 80 && i <= 100)
                                                        {
                                                            client.Inventory.Add(3007563, 0, 1);
                                                            client.MessageBox("You~received~Buddha`s~Necklace!");
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Ah, you don`t have a [Spiritual Gem] with you. You`d better collect one from Fortune Arhat.");
                                                        dialog.Option("Head~to~see~Fortune~Arhat.", 2);
                                                        dialog.Avatar(299);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    if (client.Inventory.Contains(3007562, 5))
                                                    {
                                                        client.Inventory.Remove(3007562, 5);
                                                        for (int x = 0; x < 5; x++)
                                                        {
                                                            System.Random r = new System.Random();
                                                            int i = r.Next(100);
                                                            if (i > 0 && i <= 10)
                                                            {
                                                                client.Inventory.Add(3002029, 0, 3);
                                                                client.Inventory.Add(3007565, 0, 1);
                                                                client.MessageBox("You~received~3~Protection~Pills~1~Rosewood~Incense!");
                                                            }
                                                            if (i > 10 && i <= 20)
                                                            {
                                                                client.Inventory.Add(3002029, 0, 2);
                                                                client.Inventory.Add(3007565, 0, 1);
                                                                client.MessageBox("You~received~2~Protection~Pills~1~Rosewood~Incense!");
                                                            }
                                                            if (i > 20 && i <= 30)
                                                            {
                                                                client.Inventory.Add(3002029, 0, 3);
                                                                client.MessageBox("You~received~3~Protection~Pills!");
                                                            }
                                                            if (i > 30 && i <= 40)
                                                            {
                                                                client.Inventory.Add(3002029, 0, 5);
                                                                client.Inventory.Add(3007565, 0, 1);
                                                                client.MessageBox("You~received~5~Protection~Pills~1~Rosewood~Incense!");
                                                            }
                                                            if (i > 40 && i <= 80)
                                                            {
                                                                client.Inventory.Add(3002029, 0, 10);
                                                                client.MessageBox("You~received~10~Protection~Pills!");
                                                            }
                                                            if (i > 80 && i <= 100)
                                                            {
                                                                client.Inventory.Add(3007563, 0, 1);
                                                                client.MessageBox("You~received~Buddha`s~Necklace!");
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don`t have 5 [Spiritual Gems] to continue. Why not try it one by one?");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Option("Head~to~see~Fortune~Arhat.", 2);
                                                        dialog.Avatar(299);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region WhiteDragon
                                case 10916:
                                    {//NpcMesh: 38456 NpcX: 54 NpcY: 63 Avatar: 299
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("When you burn a [Rosewood Incense], you`ll feel refreshed and clear-minded. I`d like to give you");
                                                    dialog.Text("~Buddha`s gift for this incense. The gifts are Monk`s Skill Books, Chi Points, Protection Pills and Free Courses for Jiang Hu training.");
                                                    dialog.Text("~If you have those items, you can also swap them for the incense with me. So, what do you say?");
                                                    dialog.Option("Swap~the~incense~for~gifts.", 1);
                                                    dialog.Option("Swap~gifts~for~the~incense.", 8);
                                                    dialog.Option("I`ll~think~about~it.", 255);
                                                    dialog.Avatar(301);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("Different gift requires different amount of Rosewood Incense. Here`s an exchange list: [Grace of Heaven Scroll] - 10 incenses; [Wrath of the Emperor Scroll] - 1 incense;");
                                                    dialog.Text("~[Infernal Echo Scroll] - 20 incenses; [1200 Chi Points] - 5 incenses; [3 Protection Pills] - 1 incense; [10 Free Courses] - 2 incenses. Which one do you like?");
                                                    dialog.Option("Grace~of~Heaven~Scroll.~(10)", 2);
                                                    dialog.Option("Wrath~of~the~Emperor~Scroll.~(1)", 3);
                                                    dialog.Option("Infernal~Echo~Scroll.~(20)", 4);
                                                    dialog.Option("1200~Chi~Points.~(5)", 5);
                                                    dialog.Option("3~Protection~Pills.~(1)", 6);
                                                    dialog.Option("10~Free~Courses.~(2)", 7);
                                                    dialog.Option("I`ll~think~about~it.", 255);
                                                    dialog.Avatar(301);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                            case 3:
                                            case 4:
                                            case 5:
                                            case 6:
                                            case 7:
                                                {
                                                    if (npcRequest.OptionID == 2)
                                                    {
                                                        if (client.Inventory.Contains(3007565, 10))
                                                        {
                                                            client.Inventory.Remove(3007565, 10);
                                                            client.Inventory.Add(3007566, 0, 1);
                                                            client.MessageBox("You~received~Grace~of~Heaven~Scroll!");
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You don`t have enough Rosewood Incense for this item. ");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Avatar(301);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    if (npcRequest.OptionID == 3)
                                                    {
                                                        if (client.Inventory.Contains(3007565, 1))
                                                        {
                                                            client.Inventory.Remove(3007565, 1);
                                                            client.Inventory.Add(3007567, 0, 1);
                                                            client.MessageBox("You~received~Wrath~of~the~Emperor~Scroll!");
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You don`t have enough Rosewood Incense for this item. ");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Avatar(301);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    if (npcRequest.OptionID == 4)
                                                    {
                                                        if (client.Inventory.Contains(3007565, 20))
                                                        {
                                                            client.Inventory.Remove(3007565, 20);
                                                            client.Inventory.Add(3007568, 0, 1);
                                                            client.MessageBox("You~received~Infernal~Echo~Scroll!");
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You don`t have enough Rosewood Incense for this item. ");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Avatar(301);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    if (npcRequest.OptionID == 5)
                                                    {
                                                        if (client.Inventory.Contains(3007565, 5))
                                                        {
                                                            client.Inventory.Remove(3007565, 5);
                                                            client.ChiPoints += 1200;
                                                            client.MessageBox("You~received~1,200~Chi~Points!");
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You don`t have enough Rosewood Incense for this item. ");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Avatar(301);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    if (npcRequest.OptionID == 6)
                                                    {
                                                        if (client.Inventory.Contains(3007565, 1))
                                                        {
                                                            client.Inventory.Remove(3007565, 1);
                                                            client.Inventory.Add(3002029, 0, 3);
                                                            client.MessageBox("You~received~3~Protection~Pills!");
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You don`t have enough Rosewood Incense for this item. ");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Avatar(301);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    if (npcRequest.OptionID == 7)
                                                    {
                                                        if (client.Inventory.Contains(3007565, 2))
                                                        {
                                                            client.Inventory.Remove(3007565, 2);
                                                            if (client.Entity.MyJiang != null)
                                                            {
                                                                client.Entity.MyJiang.FreeCourse += 100000;
                                                                client.Entity.MyJiang.SendInfo(client, Network.GamePackets.JiangHu.UpdateTime, client.Entity.MyJiang.FreeCourse.ToString(), client.Entity.MyJiang.Time.ToString());
                                                                client.MessageBox("You~received~10~Free~Courses!");
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You don`t have enough Rosewood Incense for this item. ");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Avatar(301);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    dialog.Text("If you have the following items, you can also swap them for a certain amount of [Rosewood Incenses] with me. Here`s an exchange list:");
                                                    dialog.Text("~[Grace of Heaven Scroll] - 10 incenses; [Wrath of the Emperor Scroll] - 1 incense; [Infernal Echo Scroll] - 20 incenses. So, which one do you want to exchange?");
                                                    dialog.Option("Grace~of~Heaven~Scroll.~(10)", 9);
                                                    dialog.Option("Wrath~of~the~Emperor~Scroll.~(1)", 10);
                                                    dialog.Option("Infernal~Echo~Scroll.~(20)", 11);
                                                    dialog.Option("I`ll~think~about~it.", 255);
                                                    dialog.Avatar(301);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 9:
                                            case 10:
                                            case 11:
                                                {
                                                    if (npcRequest.OptionID == 9)
                                                    {
                                                        if (client.Inventory.Contains(3007566, 1))
                                                        {
                                                            client.Inventory.Remove(3007566, 1);
                                                            client.Inventory.Add(3007565, 0, 10);
                                                            client.MessageBox("You~received~10~incensess!");
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("Wait, you don`t have the item to exchange for Rosewood Incenses. Please check it again.");
                                                            dialog.Option("Okay.", 255);
                                                            dialog.Avatar(301);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    if (npcRequest.OptionID == 10)
                                                    {
                                                        if (client.Inventory.Contains(3007567, 1))
                                                        {
                                                            client.Inventory.Remove(3007567, 1);
                                                            client.Inventory.Add(3007565, 0, 1);
                                                            client.MessageBox("You~received~1~incensess!");
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("Wait, you don`t have the item to exchange for Rosewood Incenses. Please check it again.");
                                                            dialog.Option("Okay.", 255);
                                                            dialog.Avatar(301);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    if (npcRequest.OptionID == 11)
                                                    {
                                                        if (client.Inventory.Contains(3007568, 1))
                                                        {
                                                            client.Inventory.Remove(3007568, 1);
                                                            client.Inventory.Add(3007565, 0, 20);
                                                            client.MessageBox("You~received~20~incensess!");
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("Wait, you don`t have the item to exchange for Rosewood Incenses. Please check it again.");
                                                            dialog.Option("Okay.", 255);
                                                            dialog.Avatar(301);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region VictoryBuddha
                                case 10915:
                                    {//NpcMesh: 38440 NpcX: 60 NpcY: 55 Avatar: 300
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("The mortal world is still the best place for me. I received enlightenment here thousands years ago.");
                                                    dialog.Text("~I hope you achieve the essence of Buddhism, too. With the [Buddha`s Necklace], you`ll have a chance to achieve that that during meditation.");
                                                    dialog.Option("Start~meditation.~(1~necklace)", 1);
                                                    dialog.Option("I~want~to~leave~here.", 3);
                                                    dialog.Option("I~hope~so.", 255);
                                                    dialog.Avatar(300);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Inventory.Contains(3007563, 1))
                                                    {
                                                        dialog.Text("Are you sure you want to start this trial with the power of [1~necklace]?");
                                                        dialog.Option("Yes.", 4);
                                                        dialog.Option("No.", 255);
                                                        dialog.Avatar(300);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Listen to me carefully. You don`t have [Buddha`s Necklace]. Go collect one from the Altar Cleanser. Yeah, the big one.");
                                                        dialog.Option("Head~to~see~Altar~Cleanser.", 2);
                                                        dialog.Avatar(300);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    //  client.Entity.Teleport(3983, 72, 74);
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    client.Entity.Teleport(1004, 41, 41);
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    if (client.Inventory.Contains(3007563, 1))
                                                    {
                                                        client.Inventory.Remove(3007563, 1);
                                                        System.Random r = new System.Random();
                                                        int i = r.Next(100);
                                                        if (i > 0 && i <= 50)
                                                        {
                                                            client.Inventory.Add(3002029, 0, 5);
                                                            client.Inventory.Add(3007565, 0, 1);
                                                            client.MessageBox("You~received~5~Protection~Pills~1~Rosewood~Incense!");
                                                        }
                                                        if (i > 50 && i <= 80)
                                                        {
                                                            client.Inventory.Add(3002029, 0, 10);
                                                            client.Inventory.Add(3007565, 0, 1);
                                                            client.MessageBox("You~received~10~Protection~Pills~1~Rosewood~Incense!");
                                                        }
                                                        if (i > 80 && i <= 100)
                                                        {
                                                            client.Inventory.Add(3007564, 0, 1);
                                                            client.MessageBox("You~received~Boundless~Heart!!");
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Ah, you don`t have a [1~necklace] with you. You`d better collect one from AltarCleanser.");
                                                        dialog.Option("Head~to~see~Fortune~Arhat.", 2);
                                                        dialog.Avatar(299);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                            }
                            break;
                        }
                    #endregion
                    #region Epic Ninja Quest
                    case 3849:
                        {
                            switch (client.ActiveNpc)
                            {
                                #region DivineShadow
                                case 10660:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Perhaps, it`s the fate. The Life`s Eye throbbed after sinking in silence for years. If you`re able to complete the 3 trials,");
                                                    dialog.Text("~you`ll win the Life`s Eye. With this mythical eye, you can transform your katana into an Epic weapon.");

                                                    dialog.Option("Take~Yin~Yang~Stele.~(1st)", 1);
                                                    dialog.Option("Go~for~Elemental~Guard.~(2nd)", 2);
                                                    dialog.Option("Go~for~Wheel~of~Life.~(3rd)", 3);
                                                    dialog.Option("Tell~me~more.", 4);
                                                    dialog.Option("Leave~the~Infinite~Abyss.", 5);
                                                    dialog.Option("Close.", 255);
                                                    dialog.Avatar(204);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    Data datapacket = new Data(true);
                                                    datapacket.UID = client.Entity.UID;
                                                    datapacket.ID = 162;
                                                    datapacket.TimeStamp2 = 10657;
                                                    datapacket.wParam1 = 36;
                                                    datapacket.wParam2 = 36;
                                                    client.Send(datapacket);
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (!client.Inventory.Contains(3004462, 1))
                                                    {
                                                        dialog.Text("To continue the 2nd trial and awaken the Elemental Guard, you should have a Yin Yang Seal. Go challenge the 1st trial, and fetch the seal from the Yin Yang Stele!");

                                                        dialog.Option("Okay.", 255);
                                                        dialog.Avatar(204);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        client.Inventory.Remove(3004462, 1);
                                                        if (Kernel.Rate(10))
                                                        {
                                                            client.Inventory.Add(3004463, 0, 1);
                                                        }
                                                        else
                                                        {
                                                            if (Kernel.Rate(100))
                                                            {
                                                                ushort r = (ushort)Kernel.Random.Next(1, 10);
                                                                client.MessageBox("Try~Again!~But~You~Got~"+r+"~Stardust");
                                                                client.Inventory.Add(3004465, 0, r);
                                                            }
                                                            else
                                                            {
                                                                client.MessageBox("Failed!~Try~Again!");
                                                            }
                                                        }
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (!client.Inventory.Contains(3004463, 1))
                                                    {
                                                        dialog.Text("To continue the 3rd trial and activate the Wheel of Life, you should have the Elemental Jade. Go challenge the 2nd trial, and take the jade from the Elemental Guard!");

                                                        dialog.Option("Okay.", 255);
                                                        dialog.Avatar(204);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        client.Inventory.Remove(3004463, 1);
                                                        if (Kernel.Rate(10))
                                                        {

                                                            client.Inventory.Add(3004464, 0, 1);
                                                        }
                                                        else
                                                        {
                                                            if (Kernel.Rate(100))
                                                            {
                                                                client.MessageBox("Try~Again!~But~You~Got~1~Stardust");
                                                                client.Inventory.Add(3004465, 0, 10);
                                                            }
                                                            else
                                                            {
                                                                client.MessageBox("Failed!~Try~Again!");
                                                            }
                                                        }
                                                    }
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    client.Entity.Teleport(1004, 40, 43);
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    dialog.Text("There are 3 trials in the Infinite Abyss: Yin Yang Stele, Elemental Guard, and the Wheel of Life.\n");
                                                    dialog.Text("1. Use 4 Red Flowers and 4 White Flowers to balance the energy, and fetch the Yin Yang Seal from the Yin Yang Stele.\n");
                                                    dialog.Text("2. Awaken the Elemental Guard with the Yin Yang Seal, and follow the elements to get the Elemental Jade.\n");
                                                    dialog.Text("3. Activate the Wheel of Life with the Elemental Jade. Get rid of the wheel to win the Life`s Eye.\n\n");
                                                    dialog.Text("The Life`s Eye can be used to transform your katana into an Epic weapon.\n\n");

                                                    dialog.Option("I~see.", 255);
                                                    dialog.Avatar(204);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region YinYangStele
                                case 10657:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("There are two paths of unstable energy in this stele. You can challenge it with 4 Red Flowers and 4 White Flowers, everyday.");
                                                    dialog.Text("~These flowers grow at the Evil Abyss (2nd Rebirth Quest).");

                                                    dialog.Option("Balance~the~energy.", 1);
                                                    dialog.Option("Entrust~the~job.", 3);
                                                    dialog.Option("Leave.", 255);
                                                    dialog.Avatar(204);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (!client.Inventory.Contains(722732, 4) || !client.Inventory.Contains(722736, 4))
                                                    {
                                                        dialog.Text("You should have 4 Red Flowers and 4 White Flowers to balance the energy in the Stele. Make sure you have enough flowers with you!");

                                                        dialog.Option("Alright.", 255);
                                                        dialog.Option("Use~the~power~of~CPs.~(27~CPs)", 2);
                                                        dialog.Avatar(204);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        if (Kernel.Rate(10))
                                                        {
                                                            client.Inventory.Remove(722732, 4);
                                                            client.Inventory.Remove(722736, 4);
                                                            client.Inventory.Add(3004462, 0, 1);
                                                        }
                                                        else
                                                        {
                                                            client.Inventory.Remove(722732, 4);
                                                            client.Inventory.Remove(722736, 4);
                                                            if (Kernel.Rate(35))
                                                            {
                                                                client.MessageBox("Try~Again!~But~You~Got~1~Stardust");
                                                                client.Inventory.Add(3004465, 0, 1);
                                                            }
                                                            else
                                                            {
                                                                client.MessageBox("Failed!~Try~Again!");
                                                            }
                                                        }
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Entity.ConquerPoints >= 27)
                                                    {
                                                        client.Entity.ConquerPoints -= 27;
                                                        if (Kernel.Rate(10))
                                                        {
                                                            client.Inventory.Add(3004462, 0, 1);
                                                        }
                                                        else
                                                        {
                                                            if (Kernel.Rate(35))
                                                            {
                                                                client.MessageBox("Try~Again!~But~You~Got~1~Stardust");
                                                                client.Inventory.Add(3004465, 0, 1);
                                                            }
                                                            else
                                                            {
                                                                client.MessageBox("Failed!~Try~Again!");
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        client.MessageBox("You~don`t~have~enough~CPs~to~balance~the~energy~in~the~Stele.");
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    dialog.Text("It`ll cost you 27 CPs to entrust the whole balancing work. Have you decided?");

                                                    dialog.Option("Yeah,~here~are~27~CPs.", 2);
                                                    dialog.Option("No,~I~changed~my~mind.", 255);
                                                    dialog.Avatar(203);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Swapper
                                case 10663:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("If you  happen to collect some Stardust in the Infinite Abyss, you can swap them for treasures with me.");

                                                    dialog.Option("Skill~scroll~(for~skill~learning)", 1);
                                                    dialog.Option("1200~Chi~Points.~(5~Stardust)", 2);
                                                    dialog.Option("3~Protection~Pills.~(1~Stardust)", 3);
                                                    dialog.Option("10~Free~Courses.~(2~Stardust)", 4);
                                                    dialog.Option("Swap~scroll~for~Stardust.", 5);
                                                    dialog.Option("I`ll~think~about~it.", 255);
                                                    dialog.Avatar(206);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("I have 3 kinds of Ninja skill scrolls: \nShadow Scroll: Use it to learn Ninja`s class skill, [Shadow Clone].\nTwilight Scroll: ");
                                                    dialog.Text("~Use it to learn an active skill for Ninja`s Epic Weapon, [Twilight Dance].\nFatal Scroll: Use it to learn a passive skill for");
                                                    dialog.Text("~Ninja`s Epic Weapon, [Fatal Spin]\n\nMake your choice wisely.\n\n");

                                                    dialog.Option("Shadow~Scroll.~(1~Stardust)", 6);
                                                    dialog.Option("Fatal~Scroll.~(10~Stardust)", 7);
                                                    dialog.Option("Twilight~Scroll.~(20~Stardust)", 8);
                                                    dialog.Option("Previous.", 3);
                                                    dialog.Avatar(206);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    if (client.Inventory.Contains(3004465, 1))
                                                    {
                                                        client.Inventory.Remove(3004465, 1);
                                                        client.Inventory.Add(3004459, 0, 1);
                                                    }
                                                    else
                                                    {
                                                        client.MessageBox("You~don`t~have~enough~Stardust~for~this~Ninja~skill~scroll.");
                                                    }
                                                    break;
                                                }
                                            case 7:
                                                {
                                                    if (client.Inventory.Contains(3004465, 10))
                                                    {
                                                        client.Inventory.Remove(3004465, 10);
                                                        client.Inventory.Add(3004461, 0, 1);
                                                    }
                                                    else
                                                    {
                                                        client.MessageBox("You~don`t~have~enough~Stardust~for~this~Ninja~skill~scroll.");
                                                    }
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    if (client.Inventory.Contains(3004465, 20))
                                                    {
                                                        client.Inventory.Remove(3004465, 20);
                                                        client.Inventory.Add(3004460, 0, 1);
                                                    }
                                                    else
                                                    {
                                                        client.MessageBox("You~don`t~have~enough~Stardust~for~this~Ninja~skill~scroll.");
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Inventory.Contains(3004465, 5))
                                                    {
                                                        client.Inventory.Remove(3004465, 5);
                                                        client.ChiPoints += 1200;
                                                    }
                                                    else
                                                    {
                                                        client.MessageBox("You~don`t~have~enough~Stardust~for~1,200~Chi~Points.");
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Inventory.Contains(3004465, 1))
                                                    {
                                                        client.Inventory.Remove(3004465, 1);
                                                        client.Inventory.Add(3002029, 0, 3);
                                                    }
                                                    else
                                                    {
                                                        client.MessageBox("You~don`t~have~enough~Stardust~for~3~Protection~Pills.");
                                                    }
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    if (client.Entity.MyJiang != null)
                                                    {
                                                        if (client.Inventory.Contains(3004465, 21))
                                                        {
                                                            client.Inventory.Remove(3004465, 2);
                                                            client.Entity.MyJiang.FreeCourse += 100000;
                                                            client.Entity.MyJiang.SendInfo(client, Network.GamePackets.JiangHu.UpdateTime, client.Entity.MyJiang.FreeCourse.ToString(), client.Entity.MyJiang.Time.ToString());
                                                        }
                                                        else
                                                        {
                                                            client.MessageBox("You~don`t~have~enough~Stardust~for~10~Free~Courses~of~Jiang~Hu.");
                                                        }
                                                    }
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    dialog.Text("Which Ninja skill scroll would you like to use to exchange for the Stardust?");

                                                    dialog.Option("Shadow~Scroll.~(1~Stardust)", 9);
                                                    dialog.Option("Fatal~Scroll.~(10~Stardust)", 10);
                                                    dialog.Option("Twilight~Scroll.~(20~Stardust)", 11);
                                                    dialog.Option("Previous.", 0);
                                                    dialog.Avatar(206);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 9:
                                                {
                                                    if (client.Inventory.Contains(3004459, 1))
                                                    {
                                                        client.Inventory.Remove(3004459, 1);
                                                        client.Inventory.Add(3004465, 0, 1);
                                                    }
                                                    else
                                                    {
                                                        client.MessageBox("Failed~to~exchange.~You~don`t~have~that~Ninja~skill~scroll.");
                                                    }
                                                    break;
                                                }
                                            case 10:
                                                {
                                                    if (client.Inventory.Contains(3004461, 1))
                                                    {
                                                        client.Inventory.Remove(3004461, 1);
                                                        client.Inventory.Add(3004465, 0, 10);
                                                    }
                                                    else
                                                    {
                                                        client.MessageBox("Failed~to~exchange.~You~don`t~have~that~Ninja~skill~scroll.");
                                                    }
                                                    break;
                                                }
                                            case 11:
                                                {
                                                    if (client.Inventory.Contains(3004460, 1))
                                                    {
                                                        client.Inventory.Remove(3004460, 1);
                                                        client.Inventory.Add(3004465, 0, 20);
                                                    }
                                                    else
                                                    {
                                                        client.MessageBox("Failed~to~exchange.~You~don`t~have~that~Ninja~skill~scroll.");
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                            }
                            break;
                        }
                    #endregion
                    #region EpicToaistQuest
                    case 10332:
                        {
                            switch (client.ActiveNpc)
                            {
                                #region Sunking
                                case 15983:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Once you aquire the essence of Toaism, you'll be able to make a Divine\n");
                                                    dialog.Text("Panacea, and win a peerless Epic Weapon of Toaist. All heroes who have\n");
                                                    dialog.Text("reached level 70 of 2nd rebirth are welcome to take the trial with the three\n");
                                                    dialog.Text("Pure Ovens.\n");
                                                    dialog.Option("Show me the way.", 1);
                                                    dialog.Option("Swap YinYangFish.", 3);
                                                    dialog.Option("I want to leave.", 2);
                                                    dialog.Option("I'm not ready, yet", 255);
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    Data datapacket = new Data(true);
                                                    datapacket.UID = client.Entity.UID;
                                                    datapacket.ID = 162;
                                                    datapacket.TimeStamp2 = 46554;
                                                    datapacket.wParam1 = 320;
                                                    datapacket.wParam2 = 444;
                                                    client.Send(datapacket);
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    client.Entity.Teleport(1004, 57, 39);
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Inventory.Contains(3006015, 1))
                                                    {
                                                        client.Inventory.Remove(3006015, 1);
                                                        if (Kernel.Rate(10))
                                                        {
                                                            client.Inventory.Add(3006020, 0, 1);
                                                            client.MessageBox("Congratulations! You Got Blessing Conquord Scroll!");
                                                            break;
                                                        }
                                                        else if (Kernel.Rate(8))
                                                        {
                                                            client.Inventory.Add(3006019, 0, 1);
                                                            client.MessageBox("Congratulations! You Got Breaking Conquord Scroll!");
                                                            break;
                                                        }
                                                        else if (Kernel.Rate(6))
                                                        {
                                                            client.Inventory.Add(3006018, 0, 1);
                                                            client.MessageBox("Congratulations! You Got Aurora Scroll!");
                                                            break;
                                                        }
                                                        else if (Kernel.Rate(4))
                                                        {
                                                            client.Inventory.Add(3006017, 0, 1);
                                                            client.MessageBox("Congratulations! You Got Flame Scroll!");
                                                            break;
                                                        }
                                                        else if (Kernel.Rate(2))
                                                        {
                                                            client.Inventory.Add(3006226, 0, 1);
                                                            client.MessageBox("Congratulations! You Got UniverseHossu!");
                                                            break;
                                                        }
                                                        client.MessageBox("Good Luck Next Time :(");
                                                    }
                                                    else
                                                    {
                                                        client.MessageBox("You don't have any YinYangFish!");
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region RefinedPureOven
                                case 46554://35930
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("This oven is empty To make it work, you need to put in 3 Red Flowers and 3");
                                                    dialog.Text("White Flowers, everyday ");
                                                    dialog.Option("Put in the flowers", 1);
                                                    dialog.Option("Activate it with 27 CPs", 2);
                                                    dialog.Option("I see.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Inventory.Contains(722736, 1) && client.Inventory.Contains(722732))
                                                    {
                                                        client.Inventory.Remove(722732, 3);
                                                        client.Inventory.Remove(722736, 3);
                                                        client.Inventory.Add(3006013, 0, 1);
                                                        client.Entity.Teleport(10332, 224, 349);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I must be with you 3 WhiteFlower and 3 RedFlower? ");
                                                        dialog.Option("I see.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Entity.ConquerPoints >= 27)
                                                    {
                                                        client.Entity.ConquerPoints -= 27;
                                                        client.Inventory.Add(3006013, 0, 1);
                                                        client.Entity.Teleport(10332, 224, 349);

                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I must be with you 27 Cps?");
                                                        dialog.Option("I see.", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    break;
                                                }

                                        }
                                        break;
                                    }
                                #endregion
                                #region ElitePureOven
                                case 47554://35940
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("This oven can balance the energy of Yin and Yang. When you put in the");
                                                    dialog.Text("Treasure Leaf you’ll have a 10% Chance to get a Star Crystal From the oven.");
                                                    dialog.Option("Make a Star Crystal.", 1);
                                                    dialog.Option("I see.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Inventory.Contains(3006013, 1))
                                                    {
                                                        client.Inventory.Remove(3006013, 1);
                                                        if (Kernel.Rate(10))
                                                        {
                                                            client.Inventory.Add(3006014, 0, 1);
                                                        }
                                                        else
                                                        {
                                                            client.Entity.Teleport(10332, 320, 444);
                                                            client.Inventory.Add(3006015, 0, 1);
                                                            client.MessageBox("Failed, TryAgain!");
                                                            break;
                                                        }
                                                        client.Entity.Teleport(10332, 416, 444);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("We need to 1 TreasureLeaf");
                                                        dialog.Option("I see.", 255);
                                                        dialog.Send();
                                                        client.Entity.Teleport(10332, 320, 444);
                                                        break;
                                                    }
                                                    break;
                                                }

                                        }
                                        break;
                                    }
                                #endregion
                                #region SuperPureOven
                                case 48554://35950
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("This oven contain great cosmological principle of everything. If you’re ready.");
                                                    dialog.Text("put the Star Crystal into the oven, and you’ll have a 10%Chance to receive a .");
                                                    dialog.Text("Divine Panacea. ");
                                                    dialog.Text("This mythical pill is said to contain endless power to reshape your ");
                                                    dialog.Text("backsword on the main hand into Epic Weapoin. ");
                                                    dialog.Option("Make a Divine Panacea", 1);
                                                    dialog.Option("I see.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Inventory.Remove(3006014, 1))
                                                    {
                                                        if (Kernel.Rate(30))
                                                        {
                                                            client.Inventory.Add(3006016, 0, 1);
                                                        }
                                                        else
                                                        {
                                                            client.Entity.Teleport(10332, 224, 349);
                                                            client.Inventory.Add(3006015, 0, 1);
                                                            client.MessageBox("Failed, TryAgain!");
                                                            break;
                                                        }
                                                        client.Entity.Teleport(1002, 300, 278);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("We need to 1 StarCrystal");
                                                        dialog.Option("I see.", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    break;
                                                }

                                        }
                                        break;
                                    }
                                #endregion
                            }
                            break;
                        }
                    #endregion
                    #region Ape Canyon
                    case 1020:
                        {
                            switch (client.ActiveNpc)
                            {
                                #region SolarSaint
                                case 3215:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I have been questing the meaning of life for decades.");

                                                    dialog.Option("Have~you~found~anything?", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region PainterFengKang
                                case 4489:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Art is not only for art`s sake.");

                                                    dialog.Option("True.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region OfficerBao
                                case 4485:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I`m the Officer of Ape City. It is well situated... Both picturesque and thriving... People are working very hard...");
                                                    dialog.Text("~What a peaceful view... Or is it?...");

                                                    dialog.Option("You~really~did~a~good~job.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region AC-Castellan
                                case 8590:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("It`s difficult to manage a city. There are too many things you need to think about!");

                                                    dialog.Option("You~need~a~break!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region DuSan
                                case 4468:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I will pass that exam! For the students, passing this exam means a guaranteed position and great credit to their family.");

                                                    dialog.Option("I~have~no~time~to~play.", 1);
                                                    dialog.Option("What~are~you~talking~about?", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("My parents died when I was young. It`s my uncle who raised me. I love him!");

                                                    dialog.Option("Bye.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Ape City
                                case 10053:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hello " + client.Entity.Name + ", I can send you on your way for just 100 silvers.");
                                                    dialog.Text("\nWhere would you like to go?");
                                                    dialog.Option("Twin City.", 1);
                                                    dialog.Option("Market.", 2);
                                                    dialog.Option("Nevermind.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Entity.Money >= 100)
                                                    {
                                                        client.Entity.Money -= 100;
                                                        client.Entity.Teleport(1020, 378, 13);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You do not have 100 silvers.");
                                                        dialog.Option("Aww!", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Entity.Money >= 100)
                                                    {
                                                        client.Entity.Money -= 100;
                                                        client.Entity.Teleport(1036, 211, 196);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You do not have 100 silvers.");
                                                        dialog.Option("Aww!", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Ape Canyon
                                #region Assistant
                                case 126:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Do you want to visit the mine?");
                                                    dialog.Option("Yes.", 1);
                                                    dialog.Option("No.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Entity.Teleport(1026, 142, 105);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #endregion
                            }
                            break;
                        }
                    #endregion
                    #region PhoenixCastle
                    case 1011:
                        {
                            switch (client.ActiveNpc)
                            {
                                #region Minstrel
                                case 4500:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Well, what a wonderful world! So many intricate treasures, unbreakable weapons, a panacea for immortality... I`ve had some ups and");
                                                    dialog.Text("~downs in my life, you know, but I have never stopped loving what I do. How can anyone resist their natural interests?");

                                                    dialog.Option("Uh...~Are~you~okay?", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region VeteranHong
                                case 4464:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I miss those good old days. We were so valiant, and managed to conquer the whole country. We were legends! Feared and respected!");
                                                    dialog.Text("~Now that I am old, I can still fight as well as I could when I was young.");

                                                    dialog.Option("You~bet!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region YuLin
                                case 7995:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Ever has it been, that love knows not its own depth until the hour of separation... Oh, sorry, I miss my husband... Well, which quest are you coming for?");

                                                    dialog.Option("Leave.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region PhoenixCastlelan
                                case 8271:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I will always protect the people, here.");

                                                    dialog.Option("Greetings,~Castellan!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region ScholarWu
                                case 4482:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Here it is, the Phoenix Castle. Well, this asthma... it has been on and off for years... Terrible, I`m telling you... They");
                                                    dialog.Text("~said I could find some good pills, here... I do hope so... it`s killing me...");

                                                    dialog.Option("Good~luck,~buddy.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region PharmacistMuMu
                                case 4483:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I`ve spent most of my life travelling around, you know. Collecting medicine formulas and curing people. Trust me, I`m the best.");

                                                    dialog.Option("Indeed.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Mr.Free
                                case 3216:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I~love~living~a~seclusive~life.~Don`t~bother~me!");

                                                    dialog.Option("I`ll~leave~now.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region WineKiddo
                                case 4596:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("My wine enjoys a great reputation among people! Would you like a bottle of wine? It`s free!");

                                                    dialog.Option("Wonderful!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Phoenix Castle
                                case 10052:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hello " + client.Entity.Name + ", I can send you on your way for just 100 silvers.");
                                                    dialog.Text("\nWhere would you like to go?");
                                                    dialog.Option("Market", 1);
                                                    dialog.Option("Twin City", 2);
                                                    dialog.Option("Nevermind", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Entity.Money >= 100)
                                                    {
                                                        client.Entity.Money -= 100;
                                                        client.Entity.Teleport(1036, 211, 196);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You do not have 100 silvers.");
                                                        dialog.Option("Aww!", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Entity.Money >= 100)
                                                    {
                                                        client.Entity.Money -= 100;
                                                        client.Entity.Teleport(client.Entity.MapID, 10, 377);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You do not have 100 silvers.");
                                                        dialog.Option("Aww!", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region PhoenixCity
                                #region Assistant
                                case 125:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Do you want to visit the mine?");
                                                    dialog.Option("Yes.", 1);
                                                    dialog.Option("No.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Entity.Teleport(1025, 30, 71);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #endregion
                            }
                            break;
                        }
                    #endregion
                    #region DesertCity
                    case 1000:
                        {
                            switch (client.ActiveNpc)
                            {
                                #region Louis
                                case 4651:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Congratulations, you have answered all of my questions.");

                                                    dialog.Option("Hurray!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region FarmerLynn
                                case 4718:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Ah, a hero! Please stop and have a talk with me! You see, my days are slowly ending... I`ve been working on my");
                                                    dialog.Text("~farm for my whole life, and to be frank, I`m still quite poor. Wait, let me ask you something first. Have you married, yet?");

                                                    dialog.Option("Um.~What`s~up?", 1);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("I don`t have too much to ask before I leave this world...just my daughter... She`s 30 now, but still single. Now you know what I");
                                                    dialog.Text("~mean. Yes, I need to find a man I trust to take care of her in the future, so I can move on without worry for her.");
                                                    dialog.Text("~If you can give me a hand, I`ll truly appreciate it.");

                                                    dialog.Option("My~pleasure.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Carolyn
                                case 4719:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hey, there! My father asked you to persuade me to marry, right?");

                                                    dialog.Option("I`ll~leave~you~alone.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region DC-ViceGeneral
                                case 8426:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("There are many dangerous creatures in the desert. Once you step through here, I won`t be able to protect you anymore. Take care.");

                                                    dialog.Option("Oh.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region TaoistYu
                                case 8427:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("The desert seems to be dead, without anything moving around. But I think treasures are always hidden under a barren land. That`s why I`m here! I`m looking for a talisman!");

                                                    dialog.Option("Leave.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region MasterMoMo
                                case 4702:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("What a wild desert!");

                                                    dialog.Option("See~you.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Matchmaker
                                case 30000:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Fate can bring lovers together. And everybody can live happily ever after... Ahhhh... What can I do for you?");

                                                    dialog.Option("I~want~to~get~married.", 1);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("Marriage~is~the~promise~forever.~Are~you~sure~that~you~want~to~spend~the~rest~of~your~life~with~your~lover?");

                                                    dialog.Option("I~want~to~get~married.", 2);
                                                    dialog.Option("I~prefer~being~single.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("Are~you~ready~to~propose?");

                                                    dialog.Option("Yeah.~I~am~ready.", 3);
                                                    dialog.Option("Let~me~think~it~over.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Entity.Spouse == "None")
                                                    {
                                                        dialog.Text("Please click on your lover to propose.");

                                                        dialog.Option("OK.", 255);
                                                        dialog.Send();
                                                        Data data = new Data(true);
                                                        data.UID = client.Entity.UID;
                                                        data.ID = Data.OpenCustom;
                                                        data.dwParam = Data.CustomCommands.FlowerPointer;
                                                        client.Send(data);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You are already married. If you want to broke the marriage, you have to go to StarLit. He'll handle your request.");
                                                        dialog.Option("Alright that's what I'll do.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region GaleShallowEnvoy
                                case 9539:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hmm, if you haven`t reached Level 120 yet, I suggest you shouldn`t go to the Gale Shallow. Because many adventurers were killed by the ghosts there...");
                                                    dialog.Option("Shut~up~and~send~me~there!", 1);
                                                    dialog.Option("Alright,~I~quit.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Entity.Teleport(3055, 25, 92);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Desert city
                                case 10051:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hello " + client.Entity.Name + ", I can set you on your way for just 100 silver.\n");
                                                    dialog.Text("Where would you like to go?");
                                                    dialog.Option("Twin City", 1);
                                                    dialog.Option("Mystic Castle", 2);
                                                    dialog.Option("Market", 3);
                                                    dialog.Option("Nevermind.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Entity.Money >= 100)
                                                    {
                                                        client.Entity.Teleport(1000, 973, 668);
                                                        client.Entity.Money -= 100;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You do not have 100 silvers.");
                                                        dialog.Option("Aww!", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Entity.Money >= 100)
                                                    {
                                                        client.Entity.Teleport(1000, 80, 320);
                                                        client.Entity.Money -= 100;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You do not have 100 silvers.");
                                                        dialog.Option("Aww!", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Entity.Money >= 100)
                                                    {
                                                        client.Entity.Teleport(1036, 211, 196);
                                                        client.Entity.Money -= 100;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You do not have 100 silvers.");
                                                        dialog.Option("Aww!", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region DC-ViceCaptain
                                case 8425:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I have been guarding here for years. I miss my wife and kids...");
                                                    dialog.Option("Leave.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region DesertCity
                                #region Assistant
                                case 127:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Do you want to visit the mine?");
                                                    dialog.Option("Yes.", 1);
                                                    dialog.Option("No.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Entity.Teleport(1027, 142, 105);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region FrozenGrottoGuardian
                                case 27837:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("The Frozen Grotto is a dangerous and ancient place. Many heroes have died there while searching for its hidden treasures.");
                                                    dialog.Text("~Six layers of the Frozen Grotto have been excavated so far. If you have made up your mind to test your ability there, I can");
                                                    dialog.Text("~teleport you to the first 2 floors. If you want to go to the 5th floor, speak to the Guardian on Frozen Grotto F4 (387,460).");
                                                    dialog.Option("Frozen~Grotto~1.", 1);
                                                    dialog.Option("Frozen~Grotto~2.", 2);
                                                    dialog.Option("Let~me~think...", 255);
                                                    dialog.Avatar(183);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Entity.Teleport(1762, 336, 354);
                                                    client.MessageBox("You`ve entered the Frozen Grotto.", null, null, 0);
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    client.Entity.Teleport(1927, 388, 625);
                                                    client.MessageBox("You`ve entered the Frozen Grotto.", null, null, 0);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #endregion
                                #region DesertGurdian
                                case 301:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Quests.GetQuest(QuestID.Release_the_souls) == null || client.Quests.CheckQuest(QuestID.Release_the_souls) == QuestPacket.QuestData.QuestStatus.Available || client.Quests.GetQuest(QuestID.Release_the_souls).Kills < 3)
                                                    {
                                                        dialog.Text("Several days ago, a group of bandits appeared in the Desert, and we failed to defeat them. Many of our soldiers were killed.");
                                                        dialog.Text("~I need someone to release the trapped souls of these brave soldiers. Could you please help me? Well, if you`re too busy,");
                                                        dialog.Text("~you can give 10 CPs so that I can hire other heroes to help me. Of course, you`ll be handsomely rewarded!");

                                                        dialog.Option("Let~me~help~you.", 1);
                                                        dialog.Avatar(101);
                                                    }
                                                    else if (client.Quests.GetQuest(QuestID.Release_the_souls).Kills >= 3)
                                                    {
                                                        dialog.Text("You have released the souls of some dead soldiers, right? Just a few? Well, thanks for your help! I`ve got something to give you,");
                                                        dialog.Text("~for all that you`re doing for us. May those soldiers find peace in the afterlife...");

                                                        dialog.Option("Thanks!", 6);
                                                        dialog.Avatar(101);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You`ve helped us a lot, already! You`d better have a rest. If you want, you can come back tomorrow!");

                                                        dialog.Option("Alright.", 255);
                                                        dialog.Avatar(101);
                                                    }
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Entity.Level >= 70)
                                                    {
                                                        if (!client.Quests.HasQuest(QuestID.Release_the_souls) || client.Quests.GetQuest(QuestID.Release_the_souls) == null)
                                                        {
                                                            client.Quests.Accept(QuestID.Release_the_souls);
                                                        }
                                                        dialog.Text("Eh? Could it be there are still decent men in the world? It`s very kind of you to offer! If you can find 8 Soldier`s Remains and release their souls,");
                                                        dialog.Text("~I`ll reward you handsomely for all your effort. You have no idea what this will mean to the families. Take care, out there.");

                                                        dialog.Option("Okay!~I`ll~go~now!", 2);
                                                        dialog.Option("Pay~10~CPs.", 3);
                                                        dialog.Avatar(101);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Hey, you are still too green! Keep practicing, and come back when you reach Level 70.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    dialog.Text("If you help me, you`ll receive 120 minutes of EXP, 50 Study Points and 1 Chi Token.");
                                                    dialog.Text("~Are you sure you want to pay 10 CPs?");

                                                    dialog.Option("Yes.", 4);
                                                    dialog.Option("I`ll~think~about~it.", 255);
                                                    dialog.Avatar(101);
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    dialog.Text("Are you sure you want to pay 10 CPs to finish the task?");

                                                    dialog.Option("Yes.", 5);
                                                    dialog.Option("I`ll~think~about~it.", 255);
                                                    dialog.Avatar(101);
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    client.Entity.SubClasses.StudyPoints += 50;
                                                    client.IncreaseExperience(client.ExpBall * 2, false);
                                                    client.Inventory.Add(729304, 0, 1);
                                                    if (!client.Quests.HasQuest(QuestID.Release_the_souls) || client.Quests.GetQuest(QuestID.Release_the_souls) == null)
                                                    {
                                                        client.Quests.Accept(QuestID.Release_the_souls);
                                                    }
                                                    client.Quests.FinishQuest(QuestID.Release_the_souls);
                                                    client.Activenes.SendSinglePacket(client, Activeness.Types.DailyQuestTask, client.Activenes.DailyQuestCompletedTimes(client));
                                                    client.MessageBox("You`ve~completed~the~quest:~Release~the~Souls!~You~received~50~Study~Points,~120~minutes~of~EXP~and~1~Chi~Token!");
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    if (client.Entity.ConquerPoints >= 10)
                                                    {
                                                        client.Entity.SubClasses.StudyPoints += 50;
                                                        client.IncreaseExperience(client.ExpBall * 2, false);
                                                        client.Inventory.Add(729304, 0, 1);
                                                        if (!client.Quests.HasQuest(QuestID.Release_the_souls) || client.Quests.GetQuest(QuestID.Release_the_souls) == null)
                                                        {
                                                            client.Quests.Accept(QuestID.Release_the_souls);
                                                        }
                                                        client.Quests.FinishQuest(QuestID.Release_the_souls);
                                                        client.Activenes.SendSinglePacket(client, Activeness.Types.DailyQuestTask, client.Activenes.DailyQuestCompletedTimes(client));
                                                        client.MessageBox("You`ve~completed~the~quest:~Release~the~Souls!~You~received~50~Study~Points,~120~minutes~of~EXP~and~1~Chi~Token!");
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry, but you don`t have enough CPs.");

                                                        dialog.Option("I~see.", 255);
                                                        dialog.Avatar(101);
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    Data datapacket = new Data(true);
                                                    datapacket.UID = client.Entity.UID;
                                                    datapacket.ID = 162;
                                                    datapacket.TimeStamp2 = 0;
                                                    datapacket.wParam1 = 626;
                                                    datapacket.wParam2 = 513;
                                                    client.Send(datapacket);
                                                    if (!client.Quests.HasQuest(QuestID.Release_the_souls) || client.Quests.GetQuest(QuestID.Release_the_souls) == null)
                                                    {
                                                        client.Quests.Accept(QuestID.Release_the_souls);
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region DeadGuards
                                case 65822:
                                case 65823:
                                case 65824:
                                case 65825:
                                case 65826:
                                case 65827:
                                case 65828:
                                case 65829:
                                case 65830:
                                case 65831:
                                case 65832:
                                case 65833:
                                case 65834:
                                case 65835:
                                case 65836:
                                case 65837:
                                case 65838:
                                case 65839:
                                case 65840:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Quests.GetQuest(QuestID.Release_the_souls) != null && client.Quests.GetQuest(QuestID.Release_the_souls).QItem.Status == QuestPacket.QuestData.QuestStatus.Finished)
                                                    {
                                                        client.MessageBox("These~are~the~remains~of~a~fallen~soldier.~You~can~get~more~details~from~the~Desert~Guardian!");
                                                        break;
                                                    }
                                                    if (client.Quests.GetQuest(QuestID.Release_the_souls) == null)
                                                    {
                                                        client.MessageBox("These~are~the~remains~of~a~fallen~soldier.~You~can~get~more~details~from~the~Desert~Guardian!");
                                                        break;
                                                    }
                                                    if (client.Quests.GetQuest(QuestID.Release_the_souls) != null && client.Quests.GetQuest(QuestID.Release_the_souls).Kills >= 3)
                                                    {
                                                        client.MessageBox("You`ve~released~the~souls~of~3~soldiers~in~the~Desert!~Go~speak~with~the~Desert~Guardian!", (p) =>
                                                            {
                                                                Data datapacket = new Data(true);
                                                                datapacket.UID = client.Entity.UID;
                                                                datapacket.ID = 162;
                                                                datapacket.TimeStamp2 = 0;
                                                                datapacket.wParam1 = 536;
                                                                datapacket.wParam2 = 643;
                                                                client.Send(datapacket);
                                                            });
                                                        break;
                                                    }
                                                    INpc npc = null;
                                                    if (!client.Map.Npcs.TryGetValue(client.ActiveNpc, out npc))
                                                    {
                                                        break;
                                                    }
                                                    if (Kernel.GetDistance(client.Entity.X, client.Entity.Y, npc.X, npc.Y) > 5)
                                                    {
                                                        client.MessageBox("You are too far away from Solider's Remains!", null, null, 0);
                                                        break;
                                                    }
                                                    client.ProgressBar = new ProgressBar(client, "Check", c =>
                                                        {
                                                            if (npc == null)
                                                            {
                                                                client.MessageBox("Unable to check!");
                                                                client.ProgressBar.End(client);
                                                            }
                                                            int r = Kernel.Random.Next(1, 4);
                                                            if (r == 1)
                                                            {
                                                                dialog.Text("Who are you? I`ll kill you! What? The Desert Guardian sent you here to find me? Sorry. You know it`s a dangerous place,");
                                                                dialog.Text("~I should always be vigilant. Anyway, thanks very much! Have this. It`ll increase your movement and attack speed for a while.");

                                                                dialog.Option("Thanks.", 255);
                                                                dialog.Avatar(95);
                                                                c.Entity.CycloneStamp = Time32.Now;
                                                                c.Entity.CycloneTime = 30;
                                                                c.Entity.AddFlag(Update.Flags.Cyclone);
                                                            }
                                                            else
                                                            {
                                                                c.MessageBox("This~soldier~has~died.~Release~his~soul!");
                                                                _String str = new _String(true);
                                                                str.Type = 9;
                                                                str.TextsCount = 1;
                                                                str.PositionX = npc.X;
                                                                str.PositionY = npc.Y;
                                                                str.Texts.Add("M_Fire1");
                                                                foreach (var player in Kernel.GamePool.Values)
                                                                {
                                                                    if (player == null || player.Entity.MapID != 1000) continue;
                                                                    if (Kernel.GetDistance(player.Entity.X, player.Entity.Y, npc.X, npc.Y) < Constants.pScreenDistance)
                                                                    {
                                                                        player.Send(str);
                                                                    }
                                                                }
                                                            }
                                                            c.Quests.IncreaseQuestKills(QuestID.Release_the_souls, 1);
                                                            if (c.Quests.GetQuest(QuestID.Release_the_souls) != null && client.Quests.GetQuest(QuestID.Release_the_souls).Kills >= 3)
                                                            {
                                                                c.MessageBox("You`ve~released~the~souls~of~8~soldiers~in~the~Desert!~Go~speak~with~the~Desert~Guardian!", (p) =>
                                                                {
                                                                    Data datapacket = new Data(true);
                                                                    datapacket.UID = client.Entity.UID;
                                                                    datapacket.ID = 162;
                                                                    datapacket.TimeStamp2 = 0;
                                                                    datapacket.wParam1 = 536;
                                                                    datapacket.wParam2 = 643;
                                                                    c.Send(datapacket);
                                                                });
                                                            }
                                                            INpc _npc = new Network.GamePackets.NpcSpawn();
                                                            _npc.UID = c.ActiveNpc;
                                                            _npc.Mesh = 8170;
                                                            _npc.Name = "SoldierRemains";
                                                            _npc.Type = (Enums.NpcType)2;
                                                            _npc.X = (ushort)Kernel.Random.Next(588, 641);
                                                            _npc.Y = (ushort)Kernel.Random.Next(504, 533);
                                                            _npc.MapID = 1000;
                                                            c.map.AddNpc(_npc);
                                                            c.SendScreen(new Data(true)
                                                            {
                                                                UID = client.ActiveNpc,
                                                                ID = Data.RemoveEntity
                                                            }, true);
                                                            INpc npc5 = new NpcSpawn(true);
                                                            npc5.UID = client.ActiveNpc;
                                                            Kernel.Maps[1000].RemoveNpc(npc5);
                                                        }, "Check", 3);
                                                    break;

                                                }
                                        }
                                        break;
                                    }
                                #endregion
                            }
                            break;
                        }
                    #endregion
                    #region Bird Village
                    case 1015:
                        {
                            switch (client.ActiveNpc)
                            {
                                #region CityGeneral
                                case 85211:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Do not make trouble, here. If you find anything abnormal or need my help with a quest, come talk to me.");

                                                    dialog.Option("I~see.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region AuntPeach
                                case 4633:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("When we two parted, in silence and tears, my dear. The dew of the morning, stuck chilled. It felt like the");
                                                    dialog.Text("~warning of what I feel now. How should I greet thee? With silence and tears.");

                                                    dialog.Option("Beautiful.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Exorcist
                                case 300010:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Sigh, I should have felt the danger earlier. The Ancient Devil sealed away a thousand years ago is gonna wake up! I`m afraid a war is inevitable.");

                                                    dialog.Option("What~can~I~do?", 1);
                                                    dialog.Option("Goodness!~I`d~better~flee!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("Sigh, I should have felt the danger earlier. The Ancient Devil sealed away a thousand years ago is gonna wake up! I`m afraid a war is inevitable.");

                                                    dialog.Option("What~can~I~do?", 2);
                                                    dialog.Option("Goodness!~I`d~better~flee!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("Bring your people together, and collect amulets of 7 classes by completing the given tests in the Ancient Island. If you have Ninjas, Monks, Saints or Pirates in your team,");
                                                    dialog.Text("~they`ll get the amulets after finishing the test of any classes.");

                                                    dialog.Option("Okay,~what~to~do~next?", 3);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    dialog.Text("If your team holds a Monk Amulet, use that amulet to combine all the other amulets. If not, ask any one in your team to take all the 7 amulets and turn on a shining yellow switch");
                                                    dialog.Text("~to bring out the Ancient Devil. Kill the devil before its power fully recovered! So, what do you say?");

                                                    dialog.Option("I~love~challenge!(SOON)", 255);
                                                    dialog.Option("I~need~a~break!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region BICastellan
                                case 8510:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I`m the castellan of Bird Island. Are you coming for any jobs we have available?");

                                                    dialog.Option("Hail~to~you!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region BI-ViceCaptain
                                case 8512:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Welcome to the Bird Island. Are you coming for a quest?");

                                                    dialog.Option("Nothing.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region ArmorerYu
                                case 8513:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("My father used to be a famous armorer, and I want to work as well as him. The most important thing");
                                                    dialog.Text("~is to forge an ultimate weapon.");

                                                    dialog.Option("You`ll~make~it.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region PoorXiao
                                case 4700:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Come and enjoy the beautiful scenery of Bird Island with me...");

                                                    dialog.Option("I`m~leaving.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region YangYun
                                case 4566:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hey, did you see my granduncle, Yang Feng? Though he is dead, he still won`t give up his desire to destroy the Star Tower.");
                                                    dialog.Text("~It`s sad, really.");

                                                    dialog.Option("I~see.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region LittleBen
                                case 8520:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Nobody likes me, even my father only cares about his boring job. Maybe I should just disappear...");

                                                    dialog.Option("You~naughty~boy!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Felix
                                case 4705:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hero, I need yor help! Years ago, my parents were killed by Commander Kerry. I have to avenge my parents,");
                                                    dialog.Text("~but Commander Kerry is so powerful that I can`t defeat him by myself. Can you help me?");

                                                    dialog.Option("It`s~none~of~my~business.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region WealthyWan`sWife
                                case 8523:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Sigh, my husband wanted to become an aviator for a long time. Maybe having a dream is good for a man... Well, at least I want to make sure");
                                                    dialog.Text("~he is safe.");

                                                    dialog.Option("You`re~a~good~wife.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region XuFan
                                case 8511:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hey! What can I do for you? Are you coming to repair items or maybe for a job?");

                                                    dialog.Option("Nothing.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region SugarTang
                                case 4565:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I read the Poem Book my grandma wrote again, and I totally understand the love between Mr. Loneliness and her, now. Thanks for all you have done for us!");

                                                    dialog.Option("You`re~welcome.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region DoctorKnowitAll
                                case 4701:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("You know what? They all call me Doctor Know-it-All because I know the secrets beneath all disease...all of them, understand?");

                                                    dialog.Option("Whatever.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region WindTaoist
                                case 8519:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Bird Island is really a wonderful place. I believe that some hero will appear here, soon.");
                                                    dialog.Text("~Will you be that hero?");

                                                    dialog.Option("I`m~just~passing~by.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Bird Island
                                case 10056:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hello " + client.Entity.Name + ", I can send you on your way for just 100 silvers.");
                                                    dialog.Text("\nWhere would you like to go?");
                                                    dialog.Option("Twin City", 1);
                                                    dialog.Option("Market", 2);
                                                    dialog.Option("Nevermind", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Entity.Money >= 100)
                                                    {
                                                        client.Entity.Money -= 100;
                                                        client.Entity.Teleport(1015, 1015, 710);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You do not have 100 silvers.");
                                                        dialog.Option("Aww!", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Entity.Money >= 100)
                                                    {
                                                        client.Entity.Money -= 100;
                                                        client.Entity.Teleport(1036, 211, 196);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You do not have 100 silvers.");
                                                        dialog.Option("Aww!", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region GreenSnake
                                case 30115:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("What beautiful scenery! I feel so lucky to meet you here, so my problem of starvation can be solved. Come here, baby!");
                                                    dialog.Option("Be~off,~or~I`ll~kill~you!", 1);
                                                    dialog.Option("I`m~gone,~bye!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("Wait, I`m only joking! If you spare my life, I`ll lead you to a marvellous place with treasures everywhere! You can take what you want if you are able to break through the Snake Array.");
                                                    dialog.Option("What~is~snake~array?", 2);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("Don`t kill me, and I`ll explain. It`s a kind of battle array formed by 17 islands. Our boss watches the last one. Beat the boss down, and the treasure will be yours!");
                                                    dialog.Option("Show~me~the~way.", 3);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    dialog.Text("Um, I don`t mean to question your ability. However, you may pay for your greed with your life. I`ve seen that a lot, before.");
                                                    dialog.Option("I~fear~nothing.", 4);
                                                    dialog.Option("I~changed~my~mind.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    client.Entity.Teleport(1063, 444, 355);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                            }
                            break;
                        }
                    #endregion
                    #region Market
                    case 1036:
                        {
                            switch (client.ActiveNpc)
                            {
                                #region Costumer
                                case 683:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Greetings! You can swap 25 Garment Coupons for a Garment. Or swap 10 Garment Tickets for a Garment. Which one do you want to swap with me?");

                                                    dialog.Option("Garment~Coupon.", 1);
                                                    dialog.Option("Garment~Ticket.", 2);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Inventory.Contains(727262, 25))
                                                    {
                                                        client.Inventory.Remove(727262, 25);
                                                        int r = Kernel.Random.Next(1, 4);
                                                        if (r == 1)
                                                        {
                                                            client.Inventory.Add(181455, 0, 1);
                                                        }
                                                        if (r == 2)
                                                        {
                                                            client.Inventory.Add(191305, 0, 1);
                                                        }
                                                        if (r == 3)
                                                        {
                                                            client.Inventory.Add(183325, 0, 1);
                                                        }
                                                        if (r == 4)
                                                        {
                                                            client.Inventory.Add(181395, 0, 1);
                                                        }
                                                    }
                                                    else
                                                        client.Send(new Message("You don't have enough Garment Coupons!", Color.Red, Message.System));
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Inventory.Contains(711982, 10))
                                                    {
                                                        client.Inventory.Remove(711982, 10);
                                                        int r = Kernel.Random.Next(1, 4);
                                                        if (r == 1)
                                                        {
                                                            client.Inventory.Add(181455, 0, 1);
                                                        }
                                                        if (r == 2)
                                                        {
                                                            client.Inventory.Add(191305, 0, 1);
                                                        }
                                                        if (r == 3)
                                                        {
                                                            client.Inventory.Add(183325, 0, 1);
                                                        }
                                                        if (r == 4)
                                                        {
                                                            client.Inventory.Add(181395, 0, 1);
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Need a garment? If you have 10 Garment Tickets, you can get a garment from me for free! But if not, haha...!");

                                                        dialog.Option("I~know~what~you~mean.", 255);
                                                        dialog.Send();
                                                    }

                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Chariots
                                case 10393:
                                case 10394:
                                case 10395:
                                case 10492:
                                case 10493:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.ActiveNpc == 10493)
                                                        dialog.Text("Created by a great military strategist throughout his whole life, this chariot delivers a frightening sense of power. When the Kingdom War breaks out, it`ll be a crucial key to victory.");
                                                    if (client.ActiveNpc == 10492)
                                                        dialog.Text("Specially designed for fighting, this chariot enables the warriors to swiftly deal with sudden incidents in combat. It`ll a powerful force in the Kingdom Wars.");
                                                    if (client.ActiveNpc == 10395)
                                                        dialog.Text("Created by a great military strategist throughout his whole life, this chariot delivers a frightening sense of power. When the Kingdom War breaks out, it`ll be a crucial key to victory.");
                                                    if (client.ActiveNpc == 10394)
                                                        dialog.Text("This golden chariot is a symbol of kingship. Once the kingdoms are constructed, it`ll serve the warriors with the fiercest fire to break through the enemy`s defense.");
                                                    else
                                                        dialog.Text("Made of the Conquordest iron birch, this chariot treats no normal fire as a threat. Now, it`s almost empty, waiting for the rise of the kingdoms to awaken its power.");

                                                    dialog.Option("Look~forward~to~it.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region CPAdmin
                                case 2071:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("You can exchange a Dragon Ball for 800 Chi Points, or exchange a Dragon Scroll for 8000 Chi Points. Which will you claim?");

                                                    dialog.Option("Exchange~a~DBScroll.", 1);
                                                    dialog.Option("Exchange~a~DragonBall.", 2);
                                                    dialog.Option("Exchange~a~DragonBall~(B).", 3);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("Are you sure you want to exchange a DB Scroll for 8000 Chi Points?");

                                                    dialog.Option("Yep!", 11);
                                                    dialog.Option("Nope.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("Are you sure you want to exchange a Dragon Ball for 800 Chi Points?");

                                                    dialog.Option("Yep!", 12);
                                                    dialog.Option("Nope.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    dialog.Text("Are you sure you want to exchange a Dragon Ball (B) for 800 Chi Points?");

                                                    dialog.Option("Yep!", 13);
                                                    dialog.Option("Nope.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 11:
                                                {
                                                    if (client.Inventory.ContainsNotBound(720028, 1))
                                                    {
                                                        client.Inventory.Remove(720028, 1);
                                                        client.ChiPoints += 8000;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don`t have any DB Scrolls. Come back when you get one.");

                                                        dialog.Option("Sure,~I~will.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 12:
                                                {
                                                    if (client.Inventory.ContainsNotBound(1088000, 1))
                                                    {
                                                        client.Inventory.Remove(1088000, 1);
                                                        client.ChiPoints += 800;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don`t have any DragonBalls. Come back when you get one.");

                                                        dialog.Option("Sure,~I~will.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 13:
                                                {
                                                    if (client.Inventory.Contains(1088000, 1))
                                                    {
                                                        client.Inventory.Remove(1088000, 1);
                                                        client.ChiPoints += 800;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don`t have any DragonBalls (B). Come back when you get one.");

                                                        dialog.Option("Sure,~I~will.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region SkillSoul
                                case 70754:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Entity.MyJiang != null && client.Entity.MyJiang.Stage >= 9)
                                                    {
                                                        dialog.Text("Hello friend. I am the Skill Souls master! Have you imagine if u could change your skills look.");
                                                        dialog.Option("Okay, go a head", 1);
                                                        dialog.Option("Sorry", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Listen, you can`t acquire any Skill Souls if you haven`t increased your Jiang Hu Score to Level 9. Keep practicing!");

                                                        dialog.Option("Alright.", 255);
                                                        dialog.Avatar(85);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("Choose its new style.");
                                                    dialog.Option("Upgrade My Skill Souls", 2);
                                                    dialog.Option("I'll think about it!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("Choose Skill you want.");
                                                    foreach (var s in client.Spells.Values)
                                                    {
                                                        if (Constants.SkillSoul_Allowed.Contains(s.ID))
                                                        {
                                                            byte ID = (byte)(Constants.SkillSoul_Allowed.IndexOf(s.ID) + 2);
                                                            if (s.LevelHu < 2)
                                                            {
                                                                if (SpellTable.SpellInformations.ContainsKey(s.ID))
                                                                {
                                                                    if (SpellTable.SpellInformations[s.ID].ContainsKey(s.Level))
                                                                    {
                                                                        if (SpellTable.SpellInformations[s.ID][s.Level].Name != "")
                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][s.Level].Name + ",  [Skill Soul Level] :" + s.LevelHu, ID);
                                                                        else
                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][s.Level].ID.ToString() + ", [Skill Soul Level] :" + s.LevelHu, ID);
                                                                    }
                                                                    else
                                                                    {
                                                                        var spell = SpellTable.SpellInformations[s.ID][0];
                                                                        if (spell != null && spell.Name != "")
                                                                            dialog.Option(spell.Name + ", [Skill  Soul Level] :" + s.LevelHu, ID);
                                                                        else
                                                                            dialog.Option(spell.ID.ToString() + ",  [Skill Soul Level] :" + s.LevelHu, ID);
                                                                    }
                                                                }
                                                            }
                                                            else
                                                            {
                                                                switch (s.ID)
                                                                {
                                                                    case 10381:
                                                                        {
                                                                            if (s.LevelHu < 4)
                                                                            {
                                                                                if (SpellTable.SpellInformations.ContainsKey(s.ID))
                                                                                {
                                                                                    if (SpellTable.SpellInformations[s.ID].ContainsKey(s.Level))
                                                                                    {
                                                                                        if (SpellTable.SpellInformations[s.ID][s.Level].Name != "")
                                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][s.Level].Name + ",  [Skill Soul Level] :" + s.LevelHu, ID);
                                                                                        else
                                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][s.Level].ID.ToString() + ", [Skill Soul Level] :" + s.LevelHu, ID);
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        if (SpellTable.SpellInformations[s.ID][0].Name != "")
                                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][0].Name + ", [Skill  Soul Level] :" + s.LevelHu, ID);
                                                                                        else
                                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][0].ID.ToString() + ",  [Skill Soul Level] :" + s.LevelHu, ID);
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                        break;
                                                                    case 1001:
                                                                        {
                                                                            if (s.LevelHu < 1)
                                                                            {
                                                                                if (SpellTable.SpellInformations.ContainsKey(s.ID))
                                                                                {
                                                                                    if (SpellTable.SpellInformations[s.ID].ContainsKey(s.Level))
                                                                                    {
                                                                                        if (SpellTable.SpellInformations[s.ID][s.Level].Name != "")
                                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][s.Level].Name + ",  [Skill Soul Level] :" + s.LevelHu, ID);
                                                                                        else
                                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][s.Level].ID.ToString() + ", [Skill Soul Level] :" + s.LevelHu, ID);
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        if (SpellTable.SpellInformations[s.ID][0].Name != "")
                                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][0].Name + ", [Skill  Soul Level] :" + s.LevelHu, ID);
                                                                                        else
                                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][0].ID.ToString() + ",  [Skill Soul Level] :" + s.LevelHu, ID);
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                        break;
                                                                    case 1046:
                                                                    case 1115:
                                                                    case 11190:
                                                                    case 10415:
                                                                    case 1002:
                                                                        {
                                                                            if (s.LevelHu < 3)
                                                                            {
                                                                                if (SpellTable.SpellInformations.ContainsKey(s.ID))
                                                                                {
                                                                                    if (SpellTable.SpellInformations[s.ID].ContainsKey(s.Level))
                                                                                    {
                                                                                        if (SpellTable.SpellInformations[s.ID][s.Level].Name != "")
                                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][s.Level].Name + ",  [Skill Soul Level] :" + s.LevelHu, ID);
                                                                                        else
                                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][s.Level].ID.ToString() + ", [Skill Soul Level] :" + s.LevelHu, ID);
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        if (SpellTable.SpellInformations[s.ID][0].Name != "")
                                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][0].Name + ", [Skill  Soul Level] :" + s.LevelHu, ID);
                                                                                        else
                                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][0].ID.ToString() + ",  [Skill Soul Level] :" + s.LevelHu, ID);
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                        break;

                                                                }
                                                            }
                                                        }
                                                    }
                                                    dialog.Option("Nevermind.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            default:
                                                {
                                                    byte i = (byte)(npcRequest.OptionID - 2);
                                                    ushort skill = Constants.SkillSoul_Allowed[i];
                                                    if (client.Spells.ContainsKey(skill))
                                                    {
                                                        {
                                                            switch (client.Spells[skill].LevelHu)
                                                            {
                                                                case 0:
                                                                case 1:
                                                                case 2:
                                                                case 3:
                                                                    {
                                                                        client.Spells[skill].LevelHu++;
                                                                    }
                                                                    break;
                                                            }
                                                            Network.GamePackets.Data data = new Data(true);
                                                            data.UID = client.Entity.UID;
                                                            data.dwParam = client.Spells[skill].ID;
                                                            data.ID = 109;
                                                            client.Send(data);
                                                            client.Send(new Spell(true)
                                                            {
                                                                ID = client.Spells[skill].ID,
                                                                Level = client.Spells[skill].Level,
                                                                PreviousLevel = client.Spells[skill].PreviousLevel,
                                                                Experience = 0,
                                                                LevelHu = client.Spells[skill].LevelHu,
                                                                Available = true
                                                            }.ToArray());
                                                            client.Spells[skill].Send(client);
                                                            SkillTable.SaveSpells(client);
                                                            dialog.Text("you have upgraded your skills :" + SpellTable.SpellInformations[skill][0].Name + " To SkillSoul level" + client.Spells[skill].LevelHu);
                                                            dialog.Option("Good Job.", 255);
                                                            dialog.Send();
                                                        }

                                                    }
                                                }
                                                break;
                                        }
                                        break;
                                    }
                                #endregion SkillSoul
                                #region Jiang
                                case 9521:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                dialog.Text("Well, the Jiang Hu is quite chaotic. I`ll test your understanding with several questions. If you pass, you`re able to name a skill of your own and start your adventure as a Jiang Hu warrior!");
                                                dialog.Option("Okay.~I`m~ready!", 1);
                                                dialog.Option("Learn~about~the~Jiang~Hu.", 2);
                                                dialog.Option("I`ll~talk~to~you~later.", 0xff);
                                                dialog.Send();
                                                break;
                                            case 1:
                                                if ((client.Entity.Reborn != 2) || (client.Entity.MyJiang != null))
                                                {
                                                    dialog.Text("Sorry, you not have 2nd Reborn, or you are learning Jiang Hu");
                                                    dialog.Option("I~see.", 0xff);
                                                    dialog.Send();
                                                    break;
                                                }
                                                client.Send(new Conquord.Network.GamePackets.Data(true) { UID = client.Entity.UID, ID = 0x7e, dwParam = 0x269, wParam1 = client.Entity.X, wParam2 = client.Entity.Y }.ToArray());
                                                break;

                                            case 2:
                                                dialog.Text("Being a fighter of the Jiang Hu, you can train your Inner-strength after activating `Jiang` button at the character window. Each time you study will cost you 10 Study Points");
                                                dialog.Text("~and 1 Free Course, and will also decrease your Talent Status by 1. Remember, you can only perform up to 10 free studies in a day. If you`re at Basic Status, you can only perform extra study with CPs.");
                                                dialog.Option("How~to~raise~my~Talent~Status?", 3);
                                                dialog.Option("How~to~collect~Free~Courses?", 4);
                                                dialog.Option("What~if~I~want~to~quit?", 5);
                                                dialog.Option("I`ll~talk~to~you~later.", 0xff);
                                                dialog.Send();
                                                break;

                                            case 3:
                                                dialog.Text("You need to activate the `Jiang` mode, and defeat a player whose Talent Status is not lower than yours to raise your Status Level by 1,");
                                                dialog.Text("~up to Level 4. PK in the `Jiang` mode, win or lose, will only affect your Talent Status. Different levels of your Status makes your name glow different colors.");
                                                dialog.Option("Learn~about~other~things.", 2);
                                                dialog.Option("I`ll~talk~to~you~later.", 0xff);
                                                dialog.Send();
                                                break;

                                            case 4:
                                                dialog.Text("Jiang Hu fighters will gain up to 100 Free Courses by accumulating the Talent Points over time, whether online or not. The higher the Talent Status,");
                                                dialog.Text("~the more the Talent Points. While stay online in Twin City, you`ll receive Talent Points, up to x30 more than received in other areas.");
                                                dialog.Option("Learn~about~other~things.", 2);
                                                dialog.Option("I`ll~talk~to~you~later.", 0xff);
                                                dialog.Send();
                                                break;

                                            case 5:
                                                dialog.Text("If you want to leave the Jiang Hu for a while, deactivate the `Jiang` mode and wait for 10 minutes to quit.");
                                                dialog.Text("~After that, you won`t receive threats from the Jiang Hu fighters, however, you can`t accumulate Talent Points. Remember, you`re welcome to return at anytime you want!");
                                                dialog.Option("Learn~about~other~things.", 2);
                                                dialog.Option("I`ll~talk~to~you~later.", 0xff);
                                                dialog.Send();
                                                break;


                                        }
                                        break;
                                    }
                                #endregion
                                #region RebirthMaster
                                case 59558:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text(
                                                        "I devote all my life to the research of eternity. And finally I Know the secret of");
                                                    dialog.Text(" rebirth! Well, anything I can help you with?");
                                                    dialog.Option("1st Rebirth.", 1);
                                                    dialog.Option("2nd Rebirth.", 2);
                                                    dialog.Option("Reincarnation.", 3);
                                                    dialog.Option("Reallot my Attribute Points.", 4);
                                                    dialog.Option("Just Passing By.", 255);
                                                    dialog.Avatar(51);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text(
                                                        "Hello conqueror. You know, there are ancient stories about a second life and many people chose not to believe it. Even so, there are some people that believe in it, and that inspired me to learn about it. In my study, I found out how to reborn someone. But, in this quest, a CelestialStone may be needed. To get one, talk with Celestine(TwinCity 365, 92).");
                                                    dialog.Option("Tell me more about it.", 10);
                                                    dialog.Option("Reborn me.", 12);
                                                    dialog.Option("Nothing thank you.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 10:
                                                {
                                                    dialog.Text(
                                                        "So you want to know more? When you reborn, you can chose what class you want to be the second life. Once you reborn you will start again the journey to conquer this world from level 15. Beware that you may gain some special skills depending on the class you chose to reborn, and you'll be able to get an own pet, that will follow and help you level or fight. The cost is a CelestialStone.");
                                                    dialog.Option("Reborn me.", 2);
                                                    dialog.Option("Nothing thank you.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 12:
                                                {
                                                    if (client.Entity.Reborn == 0)
                                                    {
                                                        if (client.Entity.Class % 10 == 5 &&
                                                            client.Entity.Level >= (client.Entity.Class == 135 ? 110 : 120))
                                                        {
                                                            dialog.Text(
                                                                "There are two kinds of reborns. One is the normal one and the second one is blessed. The normal reborn will give you the chance to get a Super Gem and the blessed reborn will set a -1 into one of your equipment that you wear during the reborn. What do you chose?");
                                                            dialog.Option("Normal reborn.", 15);
                                                            dialog.Option("Blessed reborn.", 13);
                                                            dialog.Option("Nothing thank you.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text(
                                                                "You cannot reborn if your level is not 110+ for water saints and 120+ for other masters.");
                                                            dialog.Option("Ahh.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text(
                                                            "You cannot reborn again here. Alex, an elder who lives in Ape Canyon, will tell you about the third life.");
                                                        dialog.Option("Thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 15:
                                                {
                                                    if (client.Entity.Reborn == 0)
                                                    {
                                                        if (client.Entity.Class % 10 == 5 &&
                                                            client.Entity.Level >= (client.Entity.Class == 135 ? 110 : 120))
                                                        {
                                                            dialog.Text("Select the super gem you desire.");
                                                            dialog.Option("SuperPhoenixGem.", 203);
                                                            dialog.Option("SuperDragonGem.", 213);
                                                            dialog.Option("SuperFuryGem.", 223);
                                                            dialog.Option("SuperRainbowGem.", 233);
                                                            dialog.Option("SuperVioletGem.", 253);
                                                            dialog.Option("SuperMoonGem.", 254);
                                                            dialog.Option("SuperKylinGem.", 243);
                                                            dialog.Option("Nothing thank you.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text(
                                                                "You cannot reborn if your level is not 110+ for water saints and 120+ for other masters.");
                                                            dialog.Option("Ahh.", 255);
                                                            dialog.Send();
                                                        }
                                                        break;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text(
                                                            "You cannot reborn again here. Alex, an elder who lives in Ape Canyon, will tell you about the third life.");
                                                        dialog.Option("Thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 13:
                                                {
                                                    if (client.Entity.Reborn == 0)
                                                    {
                                                        if (client.Entity.Class % 10 == 5 &&
                                                            client.Entity.Level >= (client.Entity.Class == 135 ? 110 : 120))
                                                        {
                                                            dialog.Text("Select the class you want to reborn in.");
                                                            dialog.Option("Trojan.", (byte)(10 + npcRequest.OptionID));
                                                            dialog.Option("Warrior.", (byte)(20 + npcRequest.OptionID));
                                                            dialog.Option("Archer.", (byte)(40 + npcRequest.OptionID));
                                                            dialog.Option("WaterTaoist.", (byte)(132 + npcRequest.OptionID));
                                                            dialog.Option("FireTaoist.", (byte)(142 + npcRequest.OptionID));
                                                            dialog.Option("Ninja.", (byte)(50 + npcRequest.OptionID));
                                                            dialog.Option("Monk.", (byte)(60 + npcRequest.OptionID));
                                                            dialog.Option("Pirate.", (byte)(70 + npcRequest.OptionID));
                                                            dialog.Option("Dragon-Warrior", (byte)(80 + npcRequest.OptionID));
                                                            dialog.Option("Wind.Guard.", (byte)(161 + npcRequest.OptionID));
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text(
                                                                "You cannot reborn if your level is not 110+ for water saints and 120+ for other masters.");
                                                            dialog.Option("Ahh.", 255);
                                                            dialog.Send();
                                                        }
                                                        break;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text(
                                                            "You cannot reborn again here. Alex, an elder who lives in Ape Canyon, will tell you about the third life.");
                                                        dialog.Option("Thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            default:
                                                {
                                                    if (client.Entity.Reborn == 0)
                                                    {
                                                        if (client.Entity.Class % 10 == 5 &&
                                                            client.Entity.Level >= (client.Entity.Class == 135 ? 110 : 120))
                                                        {
                                                            if (npcRequest.OptionID == 255)
                                                                return;
                                                            if (npcRequest.OptionID >= 200 && npcRequest.OptionID <= 254)
                                                            {
                                                                client.SelectedGem = (byte)(npcRequest.OptionID % 100);
                                                                if (client.SelectedGem == 54)
                                                                    client.SelectedGem = 63;
                                                                if (client.Entity.Reborn == 0)
                                                                {
                                                                    byte id = 4;
                                                                    dialog.Text("Select the class you want to reborn in.");
                                                                    dialog.Option("Trojan.", (byte)(10 + id));
                                                                    dialog.Option("Warrior.", (byte)(20 + id));
                                                                    dialog.Option("Archer.", (byte)(40 + id));
                                                                    dialog.Option("WaterTaoist.", (byte)(132 + id));
                                                                    dialog.Option("FireTaoist.", (byte)(142 + id));
                                                                    dialog.Option("Ninja.", (byte)(50 + id));
                                                                    dialog.Option("Monk.", (byte)(60 + id));
                                                                    dialog.Option("Pirate.", (byte)(70 + id));
                                                                    dialog.Option("Dragon-Warrior", (byte)(80 + id));
                                                                    dialog.Option("Wind.Guard.", (byte)(161 + id));
                                                                    dialog.Send();
                                                                    break;
                                                                }
                                                                else
                                                                {
                                                                    dialog.Text(
                                                                        "You cannot reborn again here. Alex, an elder who lives in Ape Canyon, will tell you about the third life.");
                                                                    dialog.Option("Thank you.", 255);
                                                                    dialog.Send();
                                                                }
                                                            }
                                                            else
                                                            {
                                                                if (client.Inventory.Contains(721259, 1))
                                                                {
                                                                    byte _class = (byte)(npcRequest.OptionID - npcRequest.OptionID % 10);
                                                                    if (_class > 100)
                                                                        _class += 2;
                                                                    byte type = (byte)(npcRequest.OptionID - _class);
                                                                    if (_class < 100)
                                                                        _class++;
                                                                    if (type != 4)
                                                                    {
                                                                        _class -= 10;
                                                                    }
                                                                    if (client.Reborn(_class))
                                                                    {
                                                                        client.Inventory.Remove(721259, 1);
                                                                        if (type == 4)
                                                                        {
                                                                            if (client.SelectedGem != 0)
                                                                            {
                                                                                uint gemid = (uint)(client.SelectedGem + 700000);
                                                                                client.Inventory.Add(gemid, 0, 1);
                                                                            }
                                                                        }
                                                                        else
                                                                        {
                                                                            int availableshots = 0;
                                                                            for (byte count = 0; count < 12; count++)
                                                                                if (!client.Equipment.Free(count))
                                                                                    if (client.Equipment.TryGetItem(count).Bless == 0)
                                                                                        availableshots++;
                                                                            if (availableshots != 0)
                                                                            {
                                                                                byte ex = (byte)Kernel.Random.Next(12);
                                                                                if (!client.Equipment.Free(ex))
                                                                                    if (client.Equipment.TryGetItem(ex).Bless == 0)
                                                                                    {
                                                                                        var item = client.Equipment.TryGetItem(ex);
                                                                                        item.Bless = 1;
                                                                                        item.Mode =
                                                                                            Conquord.Game.Enums.ItemMode.Update;
                                                                                        item.Send(client);
                                                                                        Conquord.Database.ConquerItemTable
                                                                                            .UpdateBless(item);
                                                                                    }
                                                                            }
                                                                        }
                                                                    }
                                                                    else
                                                                    {
                                                                        dialog.Text(
                                                                            "Sorry, but you need atleast 2 free spaces in your inventory.");
                                                                        dialog.Option("Ohh.", 255);
                                                                        dialog.Send();
                                                                    }
                                                                }
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text(
                                                                "You cannot reborn if your level is not 110+ for water saints and 120+ for other masters.");
                                                            dialog.Option("Ahh.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text(
                                                            "You cannot reborn again here. Alex, an elder who lives in Ape Canyon, will tell you about the third life.");
                                                        dialog.Option("Thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }

                                            #region Riencration to 7

                                            case 3:
                                                {
                                                    if (client.Entity.Reborn == 2 && client.Entity.Level >= 120)
                                                    {
                                                        dialog.Text(
                                                            "I am the ReincarnationSeer i can help you to change your second reborn Class you need OblivionDew");
                                                        dialog.Text(" and 1000 cps in your inventory deal?");
                                                        dialog.Option("i want to Change my Class.", 5);
                                                        dialog.Option("i want to Buy OblivionDew.", 6);
                                                        dialog.Option("Wait a minute.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry you need to be Seconed Reborn and Lv + 120.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    if (client.Entity.ConquerPoints >= 1000)
                                                    {
                                                        client.Send(new Data(true)
                                                        {
                                                            UID = client.Entity.UID,
                                                            ID = Data.OpenWindow,
                                                            dwParam = Data.WindowCommands.Reincarnation,
                                                            wParam1 = client.Entity.X,
                                                            wParam2 = client.Entity.Y
                                                        });
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry you dont have 1000 cps in your inventory.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    if (client.Entity.ConquerPoints >= 1000)
                                                    {
                                                        dialog.Text("Do you Really want to Buy OblivionDew it cost 1000 cps");
                                                        dialog.Option("Yes.", 7);
                                                        dialog.Option("Wait a minute.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry you dont Have 1000 cps.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 7:
                                                {
                                                    if (client.Entity.ConquerPoints >= 1000)
                                                    {
                                                        client.Entity.ConquerPoints -= 1000;
                                                        client.Inventory.Add(711083, 0, 1);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry you dont Have 1000 cps in your bag.");
                                                        dialog.Option("Why!?", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }

                                            #endregion

                                            #region attribute 8

                                            case 4:
                                                {
                                                    dialog.Text(
                                                        "Hello there brave conqueror, if you have reborn, and you misplaced your atribute points or you want to set them another way, I'll reset your atribute points for one DragonBall. Do you accept?");
                                                    dialog.Option("Here is the DragonBall.", 8);
                                                    dialog.Option("I'll just leave", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    if (client.Entity.Reborn > 0)
                                                    {
                                                        if (client.Inventory.Contains(1088000, 1))
                                                        {
                                                            client.Inventory.Remove(1088000, 1);
                                                            if (client.Entity.Reborn != 0)
                                                            {
                                                                client.Entity.Agility = 0;
                                                                client.Entity.Strength = 0;
                                                                client.Entity.Vitality = 1;
                                                                client.Entity.Spirit = 0;
                                                                if (client.Entity.Reborn == 1)
                                                                {
                                                                    client.Entity.Atributes =
                                                                        (ushort)
                                                                            (client.ExtraAtributePoints(client.Entity.FirstRebornLevel,
                                                                                client.Entity.FirstRebornLevel)
                                                                             + 52 + 3 * (client.Entity.Level - 15));
                                                                }
                                                                else
                                                                {
                                                                    client.Entity.Atributes =
                                                                        (ushort)
                                                                            (client.ExtraAtributePoints(client.Entity.FirstRebornLevel,
                                                                                client.Entity.FirstRebornClass) +
                                                                             client.ExtraAtributePoints(client.Entity.SecondRebornLevel,
                                                                                 client.Entity.SecondRebornClass) + 52 +
                                                                             3 * (client.Entity.Level - 15));
                                                                }
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need a DragonBall.");
                                                            dialog.Option("I'll just leave", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You have to have atleast one rebirth atleast.");
                                                        dialog.Option("I'll just leave", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }

                                            #endregion

                                            #region Alex 2ndreborn 9

                                            case 2:
                                                {
                                                    dialog.Text(
                                                        "You don't worry, it's not gonna hurt you a bit when getting the third life. You just need an exemption token and it's all going to be fine.");
                                                    dialog.Option("Here is the ExemptionToken.", 9);
                                                    dialog.Option("I'll just leave", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 9:
                                                {
                                                    if (client.Entity.Reborn == 1)
                                                    {
                                                        if (client.Entity.Class % 10 == 5 &&
                                                            client.Entity.Level >= (client.Entity.Class == 135 ? 110 : 120))
                                                        {
                                                            dialog.Text("Select the class you want to reborn in.");
                                                            dialog.Option("Trojan.", 11);
                                                            dialog.Option("Warrior.", 21);
                                                            dialog.Option("Archer.", 41);
                                                            dialog.Option("WaterTaoist.", 132);
                                                            dialog.Option("FireTaoist.", 142);
                                                            dialog.Option("Ninja.", 51);
                                                            dialog.Option("Monk.", 61);
                                                            dialog.Option("Pirate.", 71);
                                                            dialog.Option("Dragon-Warrior.", 81);
                                                            dialog.Option("Wind.Guard.", 161);
                                                            //dialog.Option("Nothing thank you.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("If you are a water saint you need level 110+, else you need 120+.");
                                                            dialog.Option("I'll just leave", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be in the second life to be able to get the third life.");
                                                        dialog.Option("I'll just leave", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    break;
                                                }
                                            case 11:
                                            case 21:
                                            case 41:
                                            case 51:
                                            case 61:
                                            case 71:
                                            case 81:
                                            case 132:
                                            case 142:
                                            case 161:
                                                {
                                                    if (npcRequest.OptionID == 255)
                                                        return;
                                                    if (client.Entity.Reborn == 1)
                                                    {
                                                        if (client.Entity.Class % 10 == 5 &&
                                                            client.Entity.Level >= (client.Entity.Class == 135 ? 110 : 120))
                                                        {
                                                            if (client.Inventory.Contains(723701, 1))
                                                            {
                                                                if (client.Reborn(npcRequest.OptionID))
                                                                {
                                                                    client.Inventory.Remove(723701, 1);
                                                                }
                                                                else
                                                                {
                                                                    dialog.Text("You need two free slots in your inventory.");
                                                                    dialog.Option("I'll just leave", 255);
                                                                    dialog.Send();
                                                                    break;
                                                                }
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("If you are a water saint you need level 110+, else you need 120+.");
                                                            dialog.Option("I'll just leave", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be in the second life to be able to get the third life.");
                                                        dialog.Option("I'll just leave", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    break;
                                                }

                                            #endregion
                                        }
                                        break;
                                    }

                                #endregion
                                #region Change Sex
                                case 15805:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("If you want to change your gender for a new life, I can help you. Before making the");
                                                    dialog.Text("~magic of gender reassignment works, you need to pay 1075 CPs, and make sure you`ve understood");
                                                    dialog.Text("~the rules and procedures about the reassignment.");

                                                    dialog.Option("Please~change~my~gender,~now.", 1);
                                                    dialog.Option("What~else~should~I~know?", 2);
                                                    dialog.Option("Not~interested.", 255);
                                                    dialog.Avatar(218);
                                                    dialog.Send();
                                                    break;

                                                }
                                            case 1:
                                                {
                                                    dialog.Text("If you want to change your gender for a new life, I can help you. Before making the");
                                                    dialog.Text("~magic of gender reassignment works, you need to pay 1075 CPs, and make sure you`ve understood");
                                                    dialog.Text("~the rules and procedures about the reassignment.");

                                                    dialog.Option("Please~change~my~gender,~now.", 3);
                                                    dialog.Option("What~else~should~I~know?", 2);
                                                    dialog.Option("Not~interested.", 255);
                                                    dialog.Avatar(218);
                                                    dialog.Send();
                                                    break;

                                                }
                                            case 2:
                                                {
                                                    dialog.Text("To make gender reassignment as simple as possible, I want you to be single, not married. Make sure you`ve");
                                                    dialog.Text("~properly handled with your clan and guild affairs. After the reassignment, your name will be removed");
                                                    dialog.Text("~from the Charm ranking, and your garment will be put into your inventory. All in all, you need to carefully");

                                                    dialog.Option("I~want~to~change~my~gender.", 1);
                                                    dialog.Option("I`ll~think~about~it.", 255);
                                                    dialog.Avatar(218);
                                                    dialog.Send();
                                                    break;

                                                }
                                            case 3:
                                                {
                                                    if (client.Entity.ConquerPoints < 1075)
                                                    {
                                                        dialog.Text("Gender reassignment requires 1,075 CPs. Make sure you have enough money with you.");

                                                        dialog.Option("Okay.", 255);
                                                        dialog.Avatar(218);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        if (client.Entity.Body == 2001 || client.Entity.Body == 2002)
                                                        {
                                                            client.Equipment.Remove(9);
                                                            if (client.Equipment.Objects[9] != null)
                                                                client.Equipment.Objects[9] = null;
                                                            ClientEquip equips = new ClientEquip();
                                                            equips.DoEquips(client);
                                                            client.Send(equips);
                                                            client.NobilityInformation.Gender = 1;
                                                            client.Entity.Spouse = "None";
                                                            client.Entity.ConquerPoints -= 1075;
                                                            client.Entity.Body = 1003;
                                                            client.Entity.Face = 45;
                                                            client.Equipment.UpdateEntityPacket();
                                                            Database.EntityTable.SaveEntity(client);
                                                        }
                                                        else
                                                        {
                                                            client.Equipment.Remove(9);
                                                            if (client.Equipment.Objects[9] != null)
                                                                client.Equipment.Objects[9] = null;
                                                            ClientEquip equips = new ClientEquip();
                                                            equips.DoEquips(client);
                                                            client.Send(equips);
                                                            client.NobilityInformation.Gender = 0;
                                                            client.Entity.Spouse = "None";
                                                            client.Entity.ConquerPoints -= 1075;
                                                            client.Entity.Body = 2001;
                                                            client.Entity.Face = 245;
                                                            client.Equipment.UpdateEntityPacket();
                                                            Database.EntityTable.SaveEntity(client);
                                                        }
                                                    }
                                                    break;

                                                }

                                        }
                                        break;
                                    }
                                #endregion
                                #region Name Changer
                                case 7935:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Good day! If you want to turn a new page in your life, you can pay me 810 CPs to get a new name. Your new name will be registered, immediately.");

                                                    dialog.Option("Okay,~here`s~my~CPs!", 5);
                                                    dialog.Option("I`ll~think~about~it.", 255);
                                                    dialog.Avatar(31);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    client.Send(new Data(true) { UID = client.Entity.UID, ID = Data.OpenWindow, dwParam = 489, wParam1 = client.Entity.X, wParam2 = client.Entity.Y });
                                                    break;
                                                }

                                        }
                                        break;
                                    }
                                #endregion
                                #region Savage Explorer
                                case 16849:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("There`s a mysterious treasure sealed since the ancient times. With a Savage Bone, you can explore and have a chance to get Sacred refinery materials, rare");
                                                    dialog.Text("~weapon accessories, and even the legendary P7 Dragon Soul.");

                                                    dialog.Option("I~wanna~explore.", 1);
                                                    dialog.Option("Special~exploration.", 2);
                                                    dialog.Option("I~see.", 255);
                                                    dialog.Avatar(1);
                                                    break;
                                                }

                                            case 1:
                                                {
                                                    dialog.Text("The Nemesis Tyrant in the Bloodshed Sea has the Savage Bones. You can use one to explore each time.");

                                                    dialog.Option("Use~a~Savage~Bone.", 3);
                                                    dialog.Option("Send~me~there.", 4);
                                                    dialog.Option("I~see.", 255);
                                                    dialog.Avatar(1);
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("If you don`t have a Savage Bone, you can also pay 10,000 or 20,000 CPs to explore. Of course, the more you pay, the better you get.");
                                                    dialog.Text("~How much would you like to pay?");

                                                    dialog.Option("10,000~CPs.", 5);
                                                    dialog.Option("20,000~CPs.", 6);
                                                    dialog.Option("I~see.", 255);
                                                    dialog.Avatar(1);
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Inventory.Count <= 39)
                                                    {
                                                        if (client.Inventory.Contains(3004181, 1))
                                                        {
                                                            if (Kernel.Rate(25))
                                                            {
                                                                if (Kernel.Rate(50))
                                                                {
                                                                    client.MessageBox("You explored and received a P7 Equipment Soul Pack");
                                                                    foreach (var player in Kernel.GamePool.Values)
                                                                    {
                                                                        player.Send(new Message(client.Entity.Name + " recevied a P7 Equipment Soul Pack.", Color.Red, Message.TopLeft));
                                                                    }
                                                                    client.Inventory.Add(3004248, 0, 1);
                                                                }
                                                                else
                                                                {
                                                                    client.MessageBox("You explored and received a P7 Weapon Soul Pack");
                                                                    foreach (var player in Kernel.GamePool.Values)
                                                                    {
                                                                        player.Send(new Message(client.Entity.Name + " recevied a P7 Weapon Soul Pack.", Color.Red, Message.TopLeft));
                                                                    }
                                                                    client.Inventory.Add(3004247, 0, 1);
                                                                }
                                                                client.Inventory.Remove(3004181, 1);
                                                            }
                                                            else
                                                            {

                                                                client.Inventory.Remove(3004181, 1);
                                                                int r = Kernel.Random.Next(1, 3);
                                                                uint ItemID = 728232;
                                                                if (r == 1)
                                                                    ItemID = 3004249;
                                                                client.Inventory.Add(ItemID, 0, 1);
                                                                client.MessageBox("You explored and received a " + Database.ConquerItemInformation.BaseInformations[ItemID].Name + ".");

                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("Sorry, you don`t have a Savage Bone.");

                                                            dialog.Option("My~bad.", 255);
                                                            dialog.Avatar(1);
                                                        }

                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry, There isn't enough rooms in your inventory.");

                                                        dialog.Option("My~bad.", 255);
                                                        dialog.Avatar(1);
                                                    }
                                                    dialog.Text("The Nemesis Tyrant in the Bloodshed Sea has the Savage Bones. You can use one to explore each time.");

                                                    dialog.Option("Use~a~Savage~Bone.", 3);
                                                    dialog.Option("Send~me~there.", 4);
                                                    dialog.Option("I~see.", 255);
                                                    dialog.Avatar(1);
                                                    break;
                                                }

                                            case 4:
                                                {

                                                    client.Entity.Teleport(3055, 61, 91);
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    dialog.Text("Are you sure you want to use 10,000 CPs to explored the P7 Sacred Treasures?");

                                                    dialog.Option("Yes.", 8);
                                                    dialog.Option("No.", 255);
                                                    dialog.Avatar(1);
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    dialog.Text("Are you sure you want to use 20,000 CPs to explored the P7 Sacred Treasures?");

                                                    dialog.Option("Yes.", 7);
                                                    dialog.Option("No.", 255);
                                                    dialog.Avatar(1);
                                                    break;
                                                }
                                            case 7:
                                                {
                                                    if (client.Inventory.Count <= 39)
                                                    {
                                                        if (client.Entity.ConquerPoints >= 20000)
                                                        {
                                                            client.Entity.ConquerPoints -= 20000;
                                                            if (Kernel.Rate(50))
                                                            {
                                                                client.MessageBox("You explored and received a P7 Equipment Soul Pack");
                                                                client.Inventory.Add(3004248, 0, 1);
                                                            }
                                                            else
                                                            {
                                                                client.MessageBox("You explored and received a P7 Weapon Soul Pack");
                                                                client.Inventory.Add(3004247, 0, 1);
                                                            }
                                                            dialog.Text("Are you sure you want to use 20,000 CPs to explored the P7 Sacred Treasures?");

                                                            dialog.Option("Yes.", 7);
                                                            dialog.Option("No.", 255);
                                                            dialog.Avatar(1);
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry, You don't have 1 free space in your inventory!");

                                                        dialog.Option("My~Bad.", 255);
                                                        dialog.Avatar(1);
                                                    }
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    if (client.Inventory.Count <= 39)
                                                    {
                                                        if (client.Entity.ConquerPoints >= 10000)
                                                        {
                                                            client.Entity.ConquerPoints -= 10000;
                                                            if (Kernel.Rate(30))
                                                            {
                                                                if (Kernel.Rate(50))
                                                                {
                                                                    client.MessageBox("You explored and received a P7 Equipment Soul Pack");
                                                                    client.Inventory.Add(3004248, 0, 1);
                                                                }
                                                                else
                                                                {
                                                                    client.MessageBox("You explored and received a P7 Weapon Soul Pack");
                                                                    client.Inventory.Add(3004247, 0, 1);
                                                                }
                                                            }
                                                            else
                                                            {

                                                                int r = Kernel.Random.Next(1, 3);
                                                                uint ItemID = 728232;
                                                                if (r == 1)
                                                                    ItemID = 3004249;
                                                                client.Inventory.Add(ItemID, 0, 1);
                                                                client.MessageBox("You explored and received a " + Database.ConquerItemInformation.BaseInformations[ItemID].Name + "");

                                                            }
                                                            dialog.Text("Are you sure you want to use 10,000 CPs to explored the P7 Sacred Treasures?");

                                                            dialog.Option("Yes.", 8);
                                                            dialog.Option("No.", 255);
                                                            dialog.Avatar(1);
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry, You don't have 1 free space in your inventory!");

                                                        dialog.Option("My~Bad.", 255);
                                                        dialog.Avatar(1);
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region CelestialSage
                                case 18786:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Entity.Reborn == 2 && client.Entity.Level >= 15)
                                                    {
                                                        dialog.Text("Good to see you again. If you`ve finished studying the Inner Power Book I gave you last time, you can claim the next book.");
                                                        dialog.Option("Claim~the~next~book.", 1);
                                                        dialog.Option("I`m~just~passing~by.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Kid, you`re not strong enough to study my Inner Power Books. The unusual power may hurt you instead.");
                                                        dialog.Text("If you`re really interested, find me when you reach at least Level 15 of 2nd-reborn.");

                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("I knew you wouldn`t let me down. To claim the book, you need to give me 1 Meteor.");
                                                    dialog.Text("~Are you ready?");

                                                    dialog.Option("Yes!~I~am~ready.", 2);
                                                    dialog.Option("I~am~not~ready,~yet.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Inventory.Contains(1088001, 1))
                                                    {
                                                        foreach (var stage in Database.InnerPowerTable.Stages)
                                                        {
                                                            foreach (var gong in stage.NeiGongAtributes)
                                                            {
                                                                client.Inventory.Add(gong.ItemID, 0, 1);
                                                            }
                                                        }
                                                        client.Inventory.Remove(1088001, 1);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("It seems you don`t have the item I want. Actually, I care not what you bring to me,");
                                                        dialog.Text("~but it`s a way to show your sincerity.");

                                                        dialog.Option("Sorry,~I`ll~talk~to~you~later.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Market
                                #region Merchant

                                case 50404:
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            if (client.Entity.Merchant >= 1)
                                            {
                                                dialog.Text(
                                                    "Your Merchant application is being proceseed. Please wait for 5 days. All of your equipment and items are not protected by the foribiden sale system in the game,");
                                                dialog.Text("And Avengers is not resposible for any loss relates");
                                                dialog.Text(
                                                    "click the cancel button to reset your merchant account to be normal. A Normal account will be protected by all the trading protection measures in case of equipment loss resulted from accounts being hacked.");
                                                dialog.Option("Cancel my application", 2);
                                                dialog.Option("Let me think it over.", 0xff);
                                                dialog.Avatar(10);
                                                dialog.Send();
                                            }
                                            else
                                            {
                                                dialog.Text(
                                                    "A merchant account is for any who frequenly engages in commercial activities");
                                                dialog.Text(
                                                    "A merchant account is not protected by the virtuall property protection meassures.");
                                                dialog.Text("So Avengers Digital will not be resposible for any loss relates.");
                                                dialog.Text(
                                                    "ou may choose to be a merchant account instantly on your first login or manually apply for it in future.");
                                                dialog.Text(
                                                    "It takes us 5 days to censor your manual application. You can reset it to be a normal account at any time. Are you reasy to be a merchant?");
                                                dialog.Option("I want to be a merchant.", 1);
                                                dialog.Option("Let me think it over.", 0xff);
                                                dialog.Avatar(10);
                                                dialog.Send();

                                            }
                                            break;
                                        case 1:
                                            client.Entity.Merchant = (ulong)DateTime.Now.DayOfYear;
                                            client.Entity.Update(Update.Merchant, Kernel.RecordTime(DateTime.Now), false);
                                            client.Send(new Data(true)
                                            {
                                                UID = client.Entity.UID,
                                                ID = Data.OpenCustom,
                                                dwParam = Data.CustomCommands.MerchantApply
                                            });
                                            dialog.Text(
                                                "You have now applied for merchant. Your application has been sent and it is required a 5 Day wait time period");
                                            dialog.Option("Alright, Thank you.", 0xff);
                                            dialog.Avatar(10);
                                            dialog.Send();
                                            break;

                                        case 2:
                                        case 3:
                                            client.Entity.Update(Update.Merchant, 0, false);
                                            client.Entity.Merchant = 0;
                                            client.Send(new Data(true)
                                            {
                                                UID = client.Entity.UID,
                                                ID = Data.OpenCustom,
                                                dwParam = 1208
                                            });
                                            dialog.Text(
                                                "You are currently not a merchant and your Equipment and items are now protected by Our Sale / Trade Protection system.");
                                            dialog.Option("Alright, Thank you.", 0xff);
                                            dialog.Avatar(10);
                                            dialog.Send();
                                            break;
                                    }
                                    return;

                                #endregion
                                #region Auction House
                                case 1650:
                                    {
                                        Data Data = new Data(true);
                                        Data.ID = Data.OpenWindow;
                                        Data.UID = client.Entity.UID;
                                        Data.TimeStamp = Time32.Now;
                                        Data.dwParam = 572;
                                        Data.wParam1 = client.Entity.X;
                                        Data.wParam2 = client.Entity.Y;
                                        client.Send(Data);
                                        break;
                                    }
                                #endregion
                                #region HouseAdmin
                                case 30156:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (!MapsTable.MapInformations.ContainsKey((ushort)client.Entity.UID))
                                                    {
                                                        dialog.Text("Good~day,~my~friend.~How~may~I~help~you?");
                                                        dialog.Option("Create House", 1);
                                                        dialog.Option("Buy~house~certificate.", 4);
                                                        dialog.Option("Just Passing By!.", 255);
                                                        dialog.Avatar(92);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Good~day,~my~friend.~How~may~I~help~you?");
                                                        dialog.Option("Enter House", 2);
                                                        dialog.Option("House Upgrade", 3);
                                                        dialog.Option("Buy~house~certificate.", 4);
                                                        dialog.Option("Just Passing By!.", 255);
                                                        dialog.Avatar(92);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #region Create
                                            case 1:
                                                {
                                                    if (!MapsTable.MapInformations.ContainsKey((ushort)client.Entity.UID))
                                                    {
                                                        if (client.Inventory.Contains(721170, 1))
                                                        {
                                                            client.Inventory.Remove(721170, (byte)1);
                                                            HouseTable.Create(client);
                                                            dialog.Text("Congratulations you got New House Goodluck");
                                                            dialog.Option("Thanks!", 255);
                                                            dialog.Avatar(92);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("sorry you dont have HousePermit come again later ");
                                                            dialog.Option("I see.", 255);
                                                            dialog.Avatar(92);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry you already have House cant help you");
                                                        dialog.Option("Oh Sorry!.", 255);
                                                        dialog.Avatar(92);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Teleport
                                            case 2:
                                                {
                                                    if (MapsTable.MapInformations.ContainsKey((ushort)client.Entity.UID))
                                                    {
                                                        if ((client.Team != null) && client.Team.TeamLeader)
                                                        {
                                                            foreach (GameClient state2 in client.Team.Teammates)
                                                            {
                                                                if (MapsTable.MapInformations[(ushort)client.Entity.UID].HouseLevel == 1)
                                                                    state2.Entity.TeleportTeam((ushort)client.Entity.UID, 32, 31);
                                                                if (MapsTable.MapInformations[(ushort)client.Entity.UID].HouseLevel == 2)
                                                                    state2.Entity.TeleportTeam((ushort)client.Entity.UID, 50, 50);
                                                                if (MapsTable.MapInformations[(ushort)client.Entity.UID].HouseLevel == 3)
                                                                    state2.Entity.TeleportTeam((ushort)client.Entity.UID, 50, 50);
                                                                if (MapsTable.MapInformations[(ushort)client.Entity.UID].HouseLevel == 4)
                                                                    state2.Entity.TeleportTeam((ushort)client.Entity.UID, 50, 50);
                                                                if (MapsTable.MapInformations[(ushort)client.Entity.UID].HouseLevel == 5)
                                                                    state2.Entity.TeleportTeam((ushort)client.Entity.UID, 90, 70);
                                                            }
                                                        }
                                                        else
                                                        {
                                                            if (MapsTable.MapInformations[(ushort)client.Entity.UID].HouseLevel == 1)
                                                                client.Entity.Teleport((ushort)client.Entity.UID, 32, 31);
                                                            if (MapsTable.MapInformations[(ushort)client.Entity.UID].HouseLevel == 2)
                                                                client.Entity.Teleport((ushort)client.Entity.UID, 50, 50);
                                                            if (MapsTable.MapInformations[(ushort)client.Entity.UID].HouseLevel == 3)
                                                                client.Entity.Teleport((ushort)client.Entity.UID, 50, 50);
                                                            if (MapsTable.MapInformations[(ushort)client.Entity.UID].HouseLevel == 4)
                                                                client.Entity.Teleport((ushort)client.Entity.UID, 50, 50);
                                                            if (MapsTable.MapInformations[(ushort)client.Entity.UID].HouseLevel == 5)
                                                                client.Entity.Teleport((ushort)client.Entity.UID, 90, 70);
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry you dont have House you need to create one first");
                                                        dialog.Option("Oh Sorry!.", 255);
                                                        dialog.Avatar(92);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Upgrade
                                            case 3:
                                                {
                                                    using (Database.MySqlCommand cmd = new Database.MySqlCommand(Database.MySqlCommandType.SELECT))
                                                    {
                                                        cmd.Select("house").Where("id", client.Entity.UID);
                                                        using (Database.MySqlReader r = new Database.MySqlReader(cmd))
                                                        {
                                                            if (r.Read())
                                                            {
                                                                if (r.ReadUInt32("HouseLevel").Equals(1))
                                                                {
                                                                    if (client.Inventory.Contains(721174, 1))
                                                                    {
                                                                        client.Inventory.Remove(721174, 1);
                                                                        if (MapsTable.MapInformations[(ushort)client.Entity.UID].HouseLevel == 1)
                                                                            HouseTable.Upgrade(client, 1099, 2);

                                                                        dialog.Text("Congratulations your House now Level [2] Goodluck");
                                                                        dialog.Option("Thanks!", 255);
                                                                        dialog.Avatar(92);
                                                                        dialog.Send();
                                                                    }
                                                                    else
                                                                    {
                                                                        dialog.Text("Sorry you dont have UpgradeCert come again later ");
                                                                        dialog.Option("sorry!", 255);
                                                                        dialog.Avatar(92);
                                                                        dialog.Send();
                                                                    }
                                                                }
                                                                else if (r.ReadUInt32("HouseLevel").Equals(2))
                                                                {
                                                                    if (client.Inventory.Contains(711198, 1))
                                                                    {
                                                                        client.Inventory.Remove(711198, 1);
                                                                        if (MapsTable.MapInformations[(ushort)client.Entity.UID].HouseLevel == 2)
                                                                            HouseTable.Upgrade(client, 2080, 3);

                                                                        dialog.Text("Congratulations your House now Level [3] Goodluck");
                                                                        dialog.Option("Thanks!", 255);
                                                                        dialog.Avatar(92);
                                                                        dialog.Send();
                                                                    }
                                                                    else
                                                                    {
                                                                        dialog.Text("Sorry you dont have UpgradeCert come again later ");
                                                                        dialog.Option("sorry!", 255);
                                                                        dialog.Avatar(92);
                                                                        dialog.Send();
                                                                    }
                                                                }
                                                                else if (r.ReadUInt32("HouseLevel").Equals(3))
                                                                {
                                                                    if (client.Inventory.Contains(711200, 1))
                                                                    {
                                                                        client.Inventory.Remove(711200, 1);
                                                                        if (MapsTable.MapInformations[(ushort)client.Entity.UID].HouseLevel == 3)
                                                                            HouseTable.Upgrade(client, 1765, 4);


                                                                        dialog.Text("Congratulations your House now Level [4] Goodluck");
                                                                        dialog.Option("Thanks!", 255);
                                                                        dialog.Avatar(92);
                                                                        dialog.Send();
                                                                    }
                                                                    else
                                                                    {
                                                                        dialog.Text("Sorry you dont have UpgradeCert come again later ");
                                                                        dialog.Option("sorry!", 255);
                                                                        dialog.Avatar(92);
                                                                        dialog.Send();
                                                                    }
                                                                }
                                                                else if (r.ReadUInt32("HouseLevel").Equals(4))
                                                                {
                                                                    if (client.Inventory.Contains(711553, 1))
                                                                    {
                                                                        client.Inventory.Remove(711553, 1);
                                                                        if (MapsTable.MapInformations[(ushort)client.Entity.UID].HouseLevel == 4)
                                                                            HouseTable.Upgrade(client, 3024, 5);

                                                                        dialog.Text("Congratulations your House now Level [5] Goodluck");
                                                                        dialog.Option("Thanks!", 255);
                                                                        dialog.Send();
                                                                    }
                                                                    else
                                                                    {
                                                                        dialog.Text("Sorry you dont have UpgradeCert come again later ");
                                                                        dialog.Option("sorry!", 255);
                                                                        dialog.Avatar(92);
                                                                        dialog.Send();
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    dialog.Text("Sorry You Have Best Level House.");
                                                                    dialog.Option("sorry!", 255);
                                                                    dialog.Avatar(92);
                                                                    dialog.Send();
                                                                }
                                                            }
                                                        }
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Tokens
                                            case 4:
                                                {
                                                    dialog.Text("Do you want a memorable wedding ceremony? It`s not easy, you know.~However, I can help you with that. First of all, we need a professional emcee.");
                                                    dialog.Option("House Permit: 99 CPs", 5);
                                                    dialog.Option("Upgrade Cert: 199 CPs", 6);
                                                    dialog.Option("UpgradeCert.(Class3): 259 CPs", 7);
                                                    dialog.Option("UpgradeCert.(Class4): 299 CPs", 8);
                                                    dialog.Option("UpgradeCert.(Class5): 9999 CPs", 9);
                                                    dialog.Option("Let~me~think~about~it.", 255);
                                                    dialog.Avatar(92);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    if (client.Entity.ConquerPoints > 99)
                                                    {
                                                        client.Inventory.Add(721170, 0, 1);
                                                        client.Entity.ConquerPoints -= 99;
                                                        dialog.Text("Congratulations you got HousePermit Token");
                                                        dialog.Option("Thanks!", 255);
                                                        dialog.Avatar(92);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("sorry you dont have Enough cps to get HousePermit");
                                                        dialog.Option("Sorry!", 255);
                                                        dialog.Avatar(92);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    if (client.Entity.ConquerPoints > 199)
                                                    {
                                                        client.Inventory.Add(721174, 0, 1);
                                                        client.Entity.ConquerPoints -= 199;
                                                        dialog.Text("Congratulations you got UpgradeCert Token");
                                                        dialog.Option("Thanks!", 255);
                                                        dialog.Avatar(92);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("sorry you dont have Enough cps to get UpgradeCert Token");
                                                        dialog.Option("Sorry!", 255);
                                                        dialog.Avatar(92);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 7:
                                                {
                                                    if (client.Entity.ConquerPoints > 259)
                                                    {
                                                        client.Inventory.Add(711198, 0, 1);
                                                        client.Entity.ConquerPoints -= 259;
                                                        dialog.Text("Congratulations you got UpgradeCert.(Class3)");
                                                        dialog.Option("Thanks!", 255);
                                                        dialog.Avatar(92);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("sorry you dont have Enough cps to get UpgradeCert.(Class3)");
                                                        dialog.Option("Sorry!", 255);
                                                        dialog.Avatar(92);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    if (client.Entity.ConquerPoints > 299)
                                                    {
                                                        client.Inventory.Add(711200, 0, 1);
                                                        client.Entity.ConquerPoints -= 299;
                                                        dialog.Text("Congratulations you got UpgradeCert.(Class4)");
                                                        dialog.Option("Thanks!", 255);
                                                        dialog.Avatar(92);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("sorry you dont have Enough cps to get UpgradeCert.(Class4)");
                                                        dialog.Option("Sorry!", 255);
                                                        dialog.Avatar(92);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 9:
                                                {
                                                    if (client.Entity.ConquerPoints > 9999)
                                                    {
                                                        client.Inventory.Add(711553, 0, 1);
                                                        client.Entity.ConquerPoints -= 999;
                                                        dialog.Text("Congratulations you got UpgradeCert.(Class5)");
                                                        dialog.Option("Thanks!", 255);
                                                        dialog.Avatar(92);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("sorry you dont have Enough cps to get UpgradeCert.(Class5)");
                                                        dialog.Option("Sorry!", 255);
                                                        dialog.Avatar(92);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                        }
                                        break;
                                    }
                                #endregion
                                #region Shelby
                                case 300000:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I have here the list with the virtue of all the people in this world. You have so far " + client.VirtuePoints + " virtue points.");
                                                    dialog.Option("Thank you.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Realloter
                                case 350050:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hello there brave conqueror, if you have reborn, and you misplaced your atribute points or you want to set them another way, I'll reset your atribute points for one DragonBall. Do you accept?");
                                                    dialog.Option("Here is the DragonBall.", 1);
                                                    dialog.Option("I'll just leave", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Entity.Reborn > 0)
                                                    {
                                                        if (client.Inventory.Contains(1088000, 1))
                                                        {
                                                            client.Inventory.Remove(1088000, 1);
                                                            if (client.Entity.Reborn != 0)
                                                            {
                                                                client.Entity.Agility = 0;
                                                                client.Entity.Strength = 0;
                                                                client.Entity.Vitality = 1;
                                                                client.Entity.Spirit = 0;
                                                                if (client.Entity.Reborn == 1)
                                                                {
                                                                    client.Entity.Atributes = (ushort)(client.ExtraAtributePoints(client.Entity.FirstRebornLevel, client.Entity.FirstRebornLevel)
                                                                        + 52 + 3 * (client.Entity.Level - 15));
                                                                }
                                                                else
                                                                {
                                                                    client.Entity.Atributes = (ushort)(client.ExtraAtributePoints(client.Entity.FirstRebornLevel, client.Entity.FirstRebornClass) +
                                                                        client.ExtraAtributePoints(client.Entity.SecondRebornLevel, client.Entity.SecondRebornClass) + 52 + 3 * (client.Entity.Level - 15));
                                                                }
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need a DragonBall.");
                                                            dialog.Option("I'll just leave", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You have to have atleast one rebirth atleast.");
                                                        dialog.Option("I'll just leave", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Proficiency God
                                case 941:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hello my friend. If you believe that, leveling your proficiency is too hard and takes too much time, I can help you. In exchange of a fixed amount of exp balls, I will agree to level up your proficiency.");
                                                    dialog.Text("Now, tell me what proficiency you want to level up.");
                                                    dialog.Option("One handed.", 1);
                                                    dialog.Option("Two handed.", 3);
                                                    dialog.Option("Other.", 5);
                                                    dialog.Option("I'll just leave", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("Which one handed proficiency?");
                                                    dialog.Option("Blade.", 41);
                                                    dialog.Option("Sword.", 42);
                                                    dialog.Option("Hook.", 43);
                                                    dialog.Option("Whip.", 44);
                                                    dialog.Option("Axe.", 45);
                                                    dialog.Option("Next page.", 2);
                                                    dialog.Option("Nothing, sorry.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("Which one handed proficiency?");
                                                    dialog.Option("PrayerBead.", 61);
                                                    dialog.Option("Hammer.", 46);
                                                    dialog.Option("Club.", 48);
                                                    dialog.Option("Scepter.", 184);
                                                    dialog.Option("Katana.", 60);
                                                    dialog.Option("Next Page.", 6);
                                                    dialog.Option("Back.", 1);
                                                    dialog.Option("Nothing, sorry.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    dialog.Text("Which one handed proficiency?");
                                                    dialog.Option("Axe.", 45);
                                                    dialog.Option("Rapier.", 62);
                                                    dialog.Option("Pistol.", 63);
                                                    dialog.Option("Back.", 2);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    dialog.Text("Which two handed proficiency?");
                                                    dialog.Option("Backsword.", 124);
                                                    dialog.Option("Glaive.", 51);
                                                    dialog.Option("Poleaxe.", 53);
                                                    dialog.Option("LongHammer.", 54);
                                                    dialog.Option("Spear.", 56);
                                                    dialog.Option("Next page.", 4);
                                                    dialog.Option("Nothing, sorry.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    dialog.Text("Which one handed proficiency?");
                                                    dialog.Option("Pickaxe.", 142);
                                                    dialog.Option("Halberd.", 58);
                                                    dialog.Option("Wand.", 165);
                                                    dialog.Option("Bow.", 50);
                                                    dialog.Option("Back.", 3);
                                                    dialog.Option("Nothing, sorry.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    dialog.Text("Which one handed proficiency?");
                                                    dialog.Option("Boxing.", 254);
                                                    dialog.Option("Shield.", 90);
                                                    dialog.Option("Nothing, sorry.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 100:
                                                {
                                                    if (client.Proficiencies.ContainsKey(client.UplevelProficiency))
                                                    {
                                                        var prof = client.Proficiencies[client.UplevelProficiency];
                                                        if (prof.Level >= 12)
                                                        {
                                                            dialog.Text("This proficiency cannot be leveled up anymore.");
                                                            dialog.Option("Oh.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        client.UplevelProficiency = 0;
                                                        if (client.Inventory.Contains(723700, prof.Level))
                                                        {
                                                            client.Inventory.Remove(723700, prof.Level);
                                                            prof.Level++;
                                                            prof.Experience = 0;
                                                            prof.Send(client);
                                                            break;
                                                        }
                                                        dialog.Text("You don't have the requiered exp balls, I'm sorry I cannot help you.");
                                                        dialog.Option("It's alright.", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't know this proficiency.");
                                                        dialog.Option("Ahh, sorry.", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                }
                                            default:
                                                {
                                                    if (npcRequest.OptionID == 255)
                                                        return;
                                                    ushort proficiency = 0;
                                                    if (npcRequest.OptionID == 62)
                                                    {
                                                        proficiency = 611;
                                                    }
                                                    else if (npcRequest.OptionID == 63)
                                                    {
                                                        proficiency = 612;
                                                    }
                                                    else if (npcRequest.OptionID < 100)
                                                        proficiency = (ushort)(npcRequest.OptionID * 10);
                                                    else
                                                    {
                                                        if (npcRequest.OptionID != 254)
                                                        {
                                                            string off = npcRequest.OptionID.ToString();
                                                            string reverse = off[2].ToString() + off[1].ToString() + off[0].ToString();
                                                            proficiency = ushort.Parse(reverse);
                                                        }
                                                    }
                                                    if (proficiency == 600) proficiency++;
                                                    if (client.Proficiencies.ContainsKey(proficiency))
                                                    {
                                                        var prof = client.Proficiencies[proficiency];
                                                        if (prof.Level >= 12)
                                                        {
                                                            dialog.Text("This proficiency cannot be leveled up anymore.");
                                                            dialog.Option("Oh.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        client.UplevelProficiency = proficiency;
                                                        dialog.Text("I need " + prof.Level + " exp balls to be able to level up this proficiency.");
                                                        dialog.Option("Let's do it then.", 100);
                                                        dialog.Option("No, sorry.", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't know this proficiency.");
                                                        dialog.Option("Ahh, sorry.", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region SurgeonMiracle
                                case 3381:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Do you want to have your size changed so that you can become much more");
                                                    dialog.Text(" adorable? Now here is a precious chance for you.");
                                                    dialog.Option("I want to change my size.", 1);
                                                    //dialog.Option("I want to change my gender.", 2);
                                                    dialog.Option("I don't want to change.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("If you pay me one DragonBall, I can have your size changed. You will become");
                                                    dialog.Text("more attractive and start a fresh life. By the way, to avoid some unexpected");
                                                    dialog.Text("things, make sure you are not in any disguise form.");
                                                    dialog.Option("Here is a DragonBall.", 3);
                                                    dialog.Option("I have no DragonBall.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("If you pay me one DragonBall, I can have your gender changed. You will become");
                                                    dialog.Text("more attractive and start a fresh life. By the way, to avoid some unexpected");
                                                    dialog.Text("things, make sure you are not in any disguise form.");
                                                    dialog.Option("Here is a DragonBall.", 4);
                                                    dialog.Option("I have no DragonBall.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Inventory.Contains(1088000, 1))
                                                    {
                                                        int Model = (int)client.Entity.Body % 10;
                                                        switch (Model)
                                                        {
                                                            case 2:
                                                            case 4:
                                                                client.Entity.Body--;
                                                                break;
                                                            case 1:
                                                            case 3:
                                                                client.Entity.Body++;
                                                                break;
                                                        }

                                                        client.Inventory.Remove(1088000, 1);
                                                        break;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry, there is no DragonBall in your inventory. I can't have your size changed.");
                                                        dialog.Option("Ok, Sorry.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    if (client.Inventory.Contains(1088000, 1))
                                                    {
                                                        int Model = (int)client.Entity.Body % 10;
                                                        switch (Model)
                                                        {
                                                            case 3:
                                                            case 4:
                                                                client.Entity.Body -= 2;
                                                                break;
                                                            case 1:
                                                            case 2:
                                                                client.Entity.Body += 2;
                                                                break;
                                                        }
                                                        client.Send(new Message("Your gender has been changed.", System.Drawing.Color.BurlyWood, Message.TopLeft));
                                                        client.Inventory.Remove(1088000, 1);
                                                        break;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry, there is no DragonBall in your inventory. I can't have your size changed.");
                                                        dialog.Option("Ok, Sorry.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                break;
                                        }
                                        break;
                                    }
                                #endregion
                                #region EquipmentBlacksmith
                                case 9071:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Greetings! If you want to enhance your equipment, you came to the right place! I`m the expert at this type of work. I can help you upgrade your equipment level, improve the quality, or make repairs!"); dialog.Text("~Now, tell me what you want me to do.");
                                                    dialog.Option("Lower~Equipment~Level.", 1);
                                                    dialog.Option("I~will~come~later.", 255);
                                                    dialog.Send();

                                                    break;
                                                }
                                            case 1:
                                                {
                                                    INpc npc = null;
                                                    if (client.Map.Npcs.TryGetValue(client.ActiveNpc, out npc))
                                                    {
                                                        Data data = new Data(true);
                                                        data.ID = Data.OpenWindow;
                                                        data.UID = client.Entity.UID;
                                                        data.TimeStamp = Time32.Now;
                                                        data.dwParam = 0x1FA;
                                                        data.wParam1 = npc.X;
                                                        data.wParam2 = npc.Y;
                                                        client.Send(data);
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region MillionaireLee
                                case 5004:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hunting~and~mining~for~the~treasure~is~an~exciting~thing.~However,~they~also~pile~up~in~your~inventories.");
                                                    dialog.Option("Pack~+1~Stones.", 1);
                                                    dialog.Option("Pack~+2~Stones.", 2);
                                                    dialog.Option("Pack~+3~Stones.", 3);
                                                    dialog.Option("Pack~Normal~Gems.", 4);
                                                    dialog.Option("Pack~EXP~Balls~for~me!", 5);
                                                    dialog.Option("pack~meteors.", 6);
                                                    dialog.Option("pack~dragonballs.", 7);
                                                    dialog.Option("Next.", 8);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    dialog.Text("Hunting and mining for the treasures is an exciting thing. However, they also pile up in your inventories.");
                                                    dialog.Option("Pack~Endurance~Books.", 200);
                                                    dialog.Option("Pack~Silver.", 100);
                                                    dialog.Option("Previous.", 0);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 100:
                                                {
                                                    dialog.Text("Good choice! You can just pay 100,000 Silver to pack 50,000,000 Silver into a Medium Silver Bag or pack");
                                                    dialog.Text("~100,000,000 Silver into a Big Silver Bag.");
                                                    dialog.Option("Pack~50,000,000~Silver.", 101);
                                                    dialog.Option("Pack~100,000,000~Silver.", 102);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 101:
                                                {
                                                    dialog.Text("Are you sure you want to pay 100,000 Silver to pack 50,000,000 Silver into a Medium Silver Bag?");
                                                    dialog.Option("Yes.", 103);
                                                    dialog.Option("No.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 103:
                                                {
                                                    if (client.Entity.Money >= 50100000)
                                                    {
                                                        client.Entity.Money -= 50100000;
                                                        client.Inventory.Add(3005836, 0, 1);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry, you don`t have 50,100,000 Silver in total.");
                                                        dialog.Option("My~bad.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 102:
                                                {
                                                    dialog.Text("Are you sure you want to pay 100,000 Silver to pack 100,000,000 Silver into a Big Silver Bag?");
                                                    dialog.Option("Yes.", 104);
                                                    dialog.Option("No.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 104:
                                                {
                                                    if (client.Entity.Money >= 100100000)
                                                    {
                                                        client.Entity.Money -= 100100000;
                                                        client.Inventory.Add(3005837, 0, 1);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry, you don`t have 100,100,000 Silver in total.");
                                                        dialog.Option("My~bad.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 200:
                                                {
                                                    dialog.Text("You just need to pay 20000 Silver to pack 5 Endurance Books into an Endurance Book Bag. Deal?");
                                                    dialog.Option("Yep.~Do~it.", 201);
                                                    dialog.Option("Wait~a~minute.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 201:
                                                {
                                                    if (client.Entity.Money >= 20000 && client.Inventory.ContainsNotBound(723341, 5))
                                                    {
                                                        client.Entity.Money -= 20000;
                                                        client.Inventory.Remove(723341, 5);
                                                        client.Inventory.Add(720894, 0, 1);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry, you don`t have 5 Endurance Books or You haven't 20000 silver.");
                                                        dialog.Option("My~bad.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("5 +1 Stones can be packed into a +1 Stone Pack. Would you like me to pack them for you?");
                                                    dialog.Option("Yes,~please.", 9);
                                                    dialog.Option("Bye.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 9:
                                                {
                                                    if (!client.Inventory.ContainsNotBound(730001, 5))
                                                    {
                                                        dialog.Text("Sorry,~you~do~not~have~5~+1~stones.");
                                                        dialog.Option("OK,~I~know.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        client.Inventory.Remove(730001, 5);
                                                        client.Inventory.Add(723712, 0, 1);
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("10 +2 Stones can be packed into a +2 Stone Pack. Would you like me to pack them for you?");
                                                    dialog.Option("Yes,~please.", 10);
                                                    dialog.Option("Bye.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 10:
                                                {
                                                    if (!client.Inventory.ContainsNotBound(730002, 10))
                                                    {
                                                        dialog.Text("Sorry,~you~do~not~have~10~+2~stones.");
                                                        dialog.Option("OK,~I~know.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        client.Inventory.Remove(730002, 10);
                                                        client.Inventory.Add(729022, 0, 1);
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    dialog.Text("10 +3 Stones can be packed into a +3 Stone Pack. Would you like me to pack them for you?");
                                                    dialog.Option("Yes,~please.", 11);
                                                    dialog.Option("Bye.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 11:
                                                {
                                                    if (!client.Inventory.ContainsNotBound(730003, 10))
                                                    {
                                                        dialog.Text("Sorry,~you~do~not~have~10~+3~stones.");
                                                        dialog.Option("OK,~I~know.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        client.Inventory.Remove(730003, 10);
                                                        client.Inventory.Add(729023, 0, 1);
                                                    }
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    dialog.Text("Pay 100,000 Silver and give me 5 EXP Balls, I can pack them into an EXP Ball Gift Box for you!");
                                                    dialog.Option("Pack~EXP~Balls~for~me!", 12);
                                                    dialog.Option("No,~thanks.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 12:
                                                {
                                                    if (client.Inventory.ContainsNotBound(723700, 5))
                                                    {
                                                        if (client.Entity.Money >= 100000)
                                                        {
                                                            client.Entity.Money -= 100000;
                                                            client.Inventory.Remove(723700, 5);
                                                            client.Inventory.Add(727464, 0, 1);
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You don't have enough silvers!");
                                                            dialog.Option("I~see!", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to give me 5 EXP Balls to have them packed into an EXP Ball Gift Box.");
                                                        dialog.Option("Okay!", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    if (client.Inventory.ContainsNotBound(1088001, 10))
                                                    {
                                                        client.Inventory.Remove(1088001, 10);
                                                        client.Inventory.Add(720027, 0, 1);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry,~you~do~not~have~10~meteors.");
                                                        dialog.Option("OK,~I~know.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 7:
                                                {
                                                    if (client.Inventory.ContainsNotBound(1088000, 10))
                                                    {
                                                        client.Inventory.Remove(1088000, 10);
                                                        client.Inventory.Add(720028, 0, 1);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry,~you~do~not~have~10~dragonballs.");
                                                        dialog.Option("OK,~I~know.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Mark. Controler
                                case 45:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("If you want to leave just tell me when you are ready. It's free.\nYou will be teleported to the city you were in before coming here.");
                                                    dialog.Option("I'm ready.", 1);
                                                    dialog.Option("Wait a minute.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Entity.PreviousMapID == 1015 || client.Entity.PreviousMapID == 1020 || client.Entity.PreviousMapID == 1002 || client.Entity.PreviousMapID == 1011)
                                                    {
                                                        client.Entity.Teleport(client.Entity.PreviousMapID, client.Entity.PrevX, client.Entity.PrevY);
                                                    }
                                                    else
                                                        client.Entity.Teleport(1002, 300, 278);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region ArtisanOu
                                case 41:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hello there my friend. I am here to make your socket your weapon. With a socketed weapon you can add gems inside of the sockets and the gems will give you some extra stats. For the first socket I demand 1 DragonBall and for the second one I demand 5 dragonballs.");
                                                    dialog.Option("Alright let's go on.", 1);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (!client.Equipment.Free(4))
                                                    {
                                                        ConquerItem Item = null;
                                                        Item = client.Equipment.TryGetItem(4);
                                                        if (Item.SocketOne == Conquord.Game.Enums.Gem.NoSocket)
                                                        {
                                                            dialog.Text("My friend I need one DragonBall to socket your weapon. Are you sure you want to do this?");
                                                            dialog.Option("Yea sure.", 2);
                                                            dialog.Send();
                                                        }
                                                        else if (Item.SocketTwo == Conquord.Game.Enums.Gem.NoSocket)
                                                        {
                                                            dialog.Text("My friend I need five dragonballs to socket your weapon. Are you sure you want to do this?");
                                                            dialog.Option("Yea sure.", 2);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("I can't socket this weapon once more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to wear the weapon first.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (!client.Equipment.Free(4))
                                                    {
                                                        ConquerItem Item = null;
                                                        Item = client.Equipment.TryGetItem(4);
                                                        if (Item.SocketOne == Conquord.Game.Enums.Gem.NoSocket)
                                                        {
                                                            if (client.Inventory.Contains(1088000, 1))
                                                            {
                                                                client.Inventory.Remove(1088000, 1);
                                                                Item.SocketOne = Conquord.Game.Enums.Gem.EmptySocket;
                                                                Item.Mode = Conquord.Game.Enums.ItemMode.Update;
                                                                Item.Send(client);
                                                                Conquord.Database.ConquerItemTable.UpdateSockets(Item);
                                                                dialog.Text("Done!");
                                                                dialog.Option("Thank you.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't have one DragonBall!");
                                                                dialog.Option("Ah...", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else if (Item.SocketTwo == Conquord.Game.Enums.Gem.NoSocket)
                                                        {
                                                            if (client.Inventory.Contains(1088000, 12))
                                                            {
                                                                client.Inventory.Remove(1088000, 12);
                                                                Item.SocketTwo = Conquord.Game.Enums.Gem.EmptySocket;
                                                                Item.Mode = Conquord.Game.Enums.ItemMode.Update;
                                                                Item.Send(client);
                                                                Conquord.Database.ConquerItemTable.UpdateSockets(Item);
                                                                dialog.Text("Done!");
                                                                dialog.Option("Thank you.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't have 12 DragonBall!");
                                                                dialog.Option("Ah...", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to wear the weapon first.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region UnknownMan
                                case 3825:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hello stranger. My mother tell me not to talk with strangers but I feel like I can talk with you. There is something special to you. Since I feel like I can trust you I can make you a service. If your level is below 110, I will give you a lot of exp in exchange of one DragonBall, but if your level is above or equal to 110 I will demand two DragonBalls. If your level is higher than 135, well then, I can't help you. If you are interested in my proposition and if you have DragonBalls, please let me know.");
                                                    dialog.Option("Yes I do.", 1);
                                                    dialog.Option("No, not really.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (DateTime.Now.DayOfYear != client.LastDragonBallUse.DayOfYear)
                                                    {
                                                        byte needTimes = 1;
                                                        ulong exp_reward = 13901336;
                                                        #region exp reward switch
                                                        byte level = client.Entity.Level;
                                                        if (level > 50 && level < 63)
                                                            exp_reward = 27152909;
                                                        if (level >= 63 && level < 69)
                                                            exp_reward = 28860143;
                                                        if (level >= 69 && level < 74)
                                                            exp_reward = 36822370;
                                                        if (level >= 74 && level < 79)
                                                            exp_reward = 57533091;
                                                        if (level >= 79 && level < 87)
                                                            exp_reward = 70404048;
                                                        if (level >= 87 && level < 90)
                                                            exp_reward = 84097242;
                                                        if (level >= 90 && level < 93)
                                                            exp_reward = 102959118;
                                                        if (level >= 93 && level < 96)
                                                            exp_reward = 134266326;
                                                        if (level >= 96 && level < 98)
                                                            exp_reward = 100801220;
                                                        if (level >= 98 && level <= 100)
                                                            exp_reward = 214351925;

                                                        if (level > 100)
                                                        {
                                                            switch (level)
                                                            {
                                                                case 101: exp_reward = 242910783; break;
                                                                case 102: exp_reward = 286050512; break;
                                                                case 103: exp_reward = 259627544; break;
                                                                case 104: exp_reward = 232767237; break;
                                                                case 105: exp_reward = 241888762; break;
                                                                case 106: exp_reward = 249478280; break;
                                                                case 107: exp_reward = 265126887; break;
                                                                case 108: exp_reward = 187446887; break;
                                                                case 109: exp_reward = 193715970; break;
                                                                case 110: exp_reward = 204416075; break;
                                                                case 111: exp_reward = 227337342; break;
                                                                case 112: exp_reward = 230562942; break;
                                                                case 113: exp_reward = 234594942; break;
                                                                case 114: exp_reward = 238626942; break;
                                                                case 115: exp_reward = 240239742; break;
                                                                case 116: exp_reward = 242658942; break;
                                                                case 117: exp_reward = 246690942; break;
                                                                case 118: exp_reward = 290290023; break;
                                                                case 119: exp_reward = 358712493; break;
                                                                case 120: exp_reward = 282274058; break;
                                                                case 121: exp_reward = 338728870; break;
                                                                case 122: exp_reward = 243884786; break;
                                                                case 123: exp_reward = 292661743; break;
                                                                case 124: exp_reward = 322122547; break;
                                                                case 125: exp_reward = 292661744; break;
                                                                case 126: exp_reward = 351194092; break;
                                                                case 127: exp_reward = 337146328; break;
                                                                case 128: exp_reward = 303431696; break;
                                                                case 129: exp_reward = 322122547; break;
                                                            }
                                                        }
                                                        #endregion
                                                        if (client.Entity.Level >= 110) { needTimes = 2; }
                                                        if (client.Entity.Level >= 130) { needTimes += 8; }
                                                        if (client.Inventory.Contains(1088000, needTimes))
                                                        {
                                                            client.Inventory.Remove(1088000, needTimes);
                                                            client.IncreaseExperience(exp_reward, false);
                                                            client.LastDragonBallUse = DateTime.Now;
                                                            dialog.Text("Congratulations! You've received a lot of experience from me today, enjoy!");
                                                            dialog.Text("I'll see you only tomorrow now.");
                                                            dialog.Option("I see, Thanks!", 255);
                                                            break;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("I am sorry, but obviously you want to scam me out because you don't have the amount of required DragonBalls.");
                                                            dialog.Option("Sorry.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I am sorry, but I remeber that I gave you this opportunity already today. I can't do it more than once per day so I'm afraid I have to tell you good bye until tomorrow.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region LoveStone
                                case 390:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hello mate, how do you do? Listen, There are not many people that can make a marriage last, but I can sense that you are one of them, if you want to marry someone just let me know. Also, if you are heavenly blessed I can give you one hour of double exp each day.");
                                                    dialog.Option("Grand~Wedding.", 1);
                                                    dialog.Option("Claim~double~EXP.", 2);
                                                    dialog.Option("I~want~to~get~married.", 3);
                                                    dialog.Option("Can~you~help~me~divorce?", 4);
                                                    dialog.Option("Nothing~special.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    if (client.Entity.Spouse == "None")
                                                    {
                                                        dialog.Text("You~are~still~single.~Do~not~play~such~joke~on~me.");

                                                        dialog.Option("Just~a~joke.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("If~your~marriage~left~you~nothing~but~regret~and~pain,~then~bring~3~Meteors,~I~can~help");
                                                        dialog.Text("~you~out.");

                                                        dialog.Option("I~have~made~up~my~mind.", 5);
                                                        dialog.Option("Let~me~reconsider~it.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    if (client.Inventory.Contains(1088001, 3))
                                                    {
                                                        client.Inventory.Remove(1088001, 3);
                                                        client.Entity.Spouse = "None";
                                                        client.Send(new Message("You~divorced~your~spouse.~I~hope~you~can~think~it~over~before~you~get~married~next~time.~Do~not~come~for~divorce~any~more.", Color.Red, Message.System));
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You~don`t~have~3~Meteors.");

                                                        dialog.Option("Ah~sorry.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 50:
                                                {
                                                    dialog.Text("First of all, you should have a level 5 house for the wedding. Then, go find the House Admin, who will introduce you a professional emcee.");
                                                    dialog.Text("~Finally, you`ll invite some friends to your house for the special wedding, won`t you?");

                                                    dialog.Option("Nice.~I~want~to~apply.", 53);
                                                    dialog.Option("Sounds~great!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 53:
                                                {
                                                    client.Entity.Teleport(1036, 199, 85);
                                                    break;
                                                }
                                            case 51:
                                                {
                                                    dialog.Text("The top-level service is for level 5 house owners only. Once you engage an emcee, we will give you some wedding gifts.");
                                                    dialog.Text("~Besides, the Matchmaker will be witness at your wedding and give you a surprise!");

                                                    dialog.Option("Wow!~Wedding~gifts?", 100);
                                                    dialog.Option("What~surprise?", 101);
                                                    dialog.Option("Nice.~I~want~to~apply.", 53);
                                                    dialog.Option("I~see.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 101:
                                                {
                                                    dialog.Text("The Matchmaker will give away up to 18 million Silver, EXP worth 30 EXP Balls, 900 Chi Points and 180 Meteors, in 3 times.");
                                                    dialog.Text("~If you`d like to offer CPs, Silver, Chi Points or Meteor Scrolls, he`ll give them to the guests who are present.");

                                                    dialog.Option("Anything~else?", 51);
                                                    dialog.Option("Nice.~I~want~to~apply.", 53);
                                                    dialog.Option("Awesome!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 100:
                                                {
                                                    dialog.Text("Yep! There`re 2 -1 wedding gowns (7 days), 2 -1 Soul Kylins (7 days), a rose-shaped weapon accessory (7 days) and a fireworkstick-shaped weapon accessory (7 days)!");
                                                    dialog.Text("~You can select Chinese or Western Wedding Gowns to present at the wedding.");

                                                    dialog.Option("Anything~else?", 51);
                                                    dialog.Option("Nice.~I~want~to~apply.", 53);
                                                    dialog.Option("Awesome!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("Do you want a memorable wedding ceremony? It`s definitely not easy, you know.");
                                                    dialog.Text("~Guess what, I can help you with that.");

                                                    dialog.Option("How~to~make~it?", 50);
                                                    dialog.Option("Great!~Tell~me~more!", 51);
                                                    dialog.Option("I~see.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("If~you~have~HeavenBlessing,~you~can~get~1-hour~double~exp.~time~once~a~day.~Then~in~the~next~hour,~you~will~get");
                                                    dialog.Text("~double~exp.~from~killing~monsters.~Are~you~ready?");

                                                    dialog.Option("Yes,~please.", 55);
                                                    dialog.Option("No,~thanks.", 255);
                                                    dialog.Send();

                                                    break;
                                                }
                                            case 55:
                                                {
                                                    if (client.Entity.HeavenBlessing > 0)
                                                    {
                                                        if (!client.DoubleExpToday)
                                                        {
                                                            dialog.Text("Here. Come back tomorrow for more.");
                                                            dialog.Option("Alright that's what I'll do.", 255);
                                                            dialog.Send();

                                                            client.Entity.DoubleExperienceTime = 3600;
                                                            client.DoubleExpToday = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You already took your double exp today. Come back tomorrow.");
                                                            dialog.Option("Alright that's what I'll do.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry, you do not have Heaven Blessing thus you are unable to get the double exp.time. Please get Heaven Blessing first.");

                                                        dialog.Option("OK,~I~see.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    dialog.Text("Fate can bring lovers together. And everybody can live happily ever after... Ahhhh... What can I do for you?");

                                                    dialog.Option("I~want~to~get~married.", 70);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 70:
                                                {
                                                    dialog.Text("Marriage~is~the~promise~forever.~Are~you~sure~that~you~want~to~spend~the~rest~of~your~life~with~your~lover?");

                                                    dialog.Option("I~want~to~get~married.", 71);
                                                    dialog.Option("I~prefer~being~single.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 71:
                                                {
                                                    dialog.Text("Are~you~ready~to~propose?");

                                                    dialog.Option("Yeah.~I~am~ready.", 72);
                                                    dialog.Option("Let~me~think~it~over.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 72:
                                                {
                                                    if (client.Entity.Spouse == "None")
                                                    {
                                                        dialog.Text("Please click on your lover to propose.");

                                                        dialog.Option("OK.", 255);
                                                        dialog.Send();
                                                        Data data = new Data(true);
                                                        data.UID = client.Entity.UID;
                                                        data.ID = Data.OpenCustom;
                                                        data.dwParam = Data.CustomCommands.FlowerPointer;
                                                        client.Send(data);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You are already married. If you want to broke the marriage, you have to go to StarLit. He'll handle your request.");
                                                        dialog.Option("Alright that's what I'll do.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Confiscator
                                case 4450:
                                case 4451:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Have you ever arrested anyone? Or ... don't tell me, you have been arrested by anyone? If so, there is a chance that some gear was detained.");
                                                    dialog.Option("I want to redeem my equipment.", 1);
                                                    dialog.Option("I want to claim my rewards.", 2);
                                                    dialog.Option("Thank you.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Send(new Data(true) { ID = Data.OpenWindow, dwParam = Data.WindowCommands.DetainRedeem, UID = client.Entity.UID });
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    client.Send(new Data(true) { ID = Data.OpenWindow, dwParam = Data.WindowCommands.DetainClaim, UID = client.Entity.UID });
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region GameManager
                                case 27838:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hi, I can teleport you to the poker room. Where you can enjoy yourself in the Texas Hold`em Poker. Wish you a good luck and good health.");

                                                    dialog.Option("Enter~Poker~Room.", 1);
                                                    dialog.Option("Enter~VIP~Hall.", 2);
                                                    dialog.Option("Enter~Roulette~Room.", 3);
                                                    dialog.Option("Not~interested.", 255);
                                                    dialog.Avatar(175);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Entity.Teleport(8880, 80, 104);
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    client.Entity.Teleport(8881, 55, 62);
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    client.Entity.Teleport(2807, 55, 62);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion Poker
                                #region CollecterWong
                                case 2070:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I~am~fond~of~collecting~all~kinds~of~treasure.~If~you~happen~to~have~any~Disguise Amulets,~Life Fruit Basket,~or");
                                                    dialog.Text("~PenitenceAmulets,~you~may~sell~them~to~me.~I~will~pay~you~ten~CPs~for~each~one.");

                                                    dialog.Option("Here~are~my~Disguise~Amulets~(No~more~than~15).", 1);
                                                    dialog.Option("Here~are~my~Life~Fruit~Baskets~(No~more~than~15).", 2);
                                                    dialog.Option("Here~are~my~Penitence~Amulets~(No~more~than~15).", 3);
                                                    dialog.Option("I~have~none~of~them.", 255);
                                                    dialog.Avatar(10);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Inventory.Contains(723724, 1))
                                                    {
                                                        client.Inventory.Remove(723724, 1);
                                                        client.Entity.ConquerPoints += 10;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry you dont Have Any DisguiseAmulet.");
                                                        dialog.Option("Alright Thanks", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Inventory.Contains(723725, 1))
                                                    {
                                                        client.Inventory.Remove(723725, 1);
                                                        client.Entity.ConquerPoints += 10;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry you dont Have Any LifeFruitBasket.");
                                                        dialog.Option("Alright Thanks", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Inventory.Contains(723727, 1))
                                                    {
                                                        client.Inventory.Remove(723727, 1);
                                                        client.Entity.ConquerPoints += 10;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry you dont Have Any PenitenceAmulet.");
                                                        dialog.Option("Alright Thanks.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #endregion
                                #region CloudBeast
                                case 1503:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    client.Send(new Message("You took courage to touch the Cloud Beast, and found this giant creature is quite and gentle.", Color.Red, Message.System));
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region PrizeOfficer
                                case 47:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("All your rewards have been sent to your mail. Don`t forget to check and see whether you have any reward not claimed.");
                                                    dialog.Option("Okay.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region WuxingOven
                                case 35016:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("A~good~set~of~equipment~can~help~you~a~lot~in~future~battles.~Is~there~something~I~can~do~for~you?");
                                                    dialog.Option("Special~blessed~enchantment.", 1);
                                                    dialog.Option("How~to~upgrade~bonus~level?", 2);
                                                    dialog.Option("Enchanted~effects?", 3);
                                                    dialog.Option("Refinery~effects?", 4);
                                                    dialog.Option("Not~interested.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    dialog.Text("You can obtain Composition Points from minor items and make your main items reach the next bonus level on the Forging interface.");
                                                    dialog.Option("How~to~refine~equipment?", 8 + 50);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    dialog.Text("There are two ways to refine items.1.Right click the refined items and click the equipment with the same type to refine.");
                                                    dialog.Text("~2.Refine the equipment on the Forging interface.");
                                                    dialog.Option("OK.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    dialog.Text("The enchanted weapon can increase up to 255 HP. The higher quality gem will enchant higher HP. The enchanted effects vary with different gems.");
                                                    dialog.Option("How~to~enchant?", 5);
                                                    dialog.Option("I~can~enchat~it~repeatedly?", 6);
                                                    dialog.Option("What~gems~do~I~need?", 7 + 50);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    dialog.Text("Sure. You can re-enchant your weapon on the Forging interface. If the new attribute is higher, it will replace the old one, otherwise, it won`t replace.");
                                                    dialog.Option("OK.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 7 + 50:
                                                {
                                                    dialog.Text("They can be Dragon, Phoenix, Tortoise, Rainbow, Moon, Violet, Fury, or Kylin. The enchanted effects vary with the gem quality.");
                                                    dialog.Option("OK.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    dialog.Text("You can promote the bonus level of weapon on the Forging interface. Put the weapon and the enchanted materials into the designated places, then begin to enchant.");
                                                    dialog.Option("OK.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("You may promote the bonus level of items on the Forging interface, namely compose +n items. +n items have +n stats which"); dialog.Text("~can make your items much more powerful.");
                                                    dialog.Option("I~see.", 255);
                                                    dialog.Send();
                                                    break;

                                                }
                                            case 1:
                                                {
                                                    dialog.Text("Just paying 270 CPs, you`re able to activate the Wuxing Oven and attach 1 blessed attribute on specific equipment. It`s different from that attributes upgraded with Tortoise Gems."); dialog.Text("~So, which type of equipment would you like to bless?");
                                                    dialog.Option("Garment.", (byte)ConquerItem.Garment);
                                                    dialog.Option("Mount~Armor.", (byte)ConquerItem.SteedArmor);
                                                    dialog.Option("Star~Tower.", (byte)ConquerItem.Tower);
                                                    dialog.Option("Heaven~Fan.", (byte)ConquerItem.Fan);
                                                    dialog.Option("Riding~Crop.", (byte)ConquerItem.SteedCrop);
                                                    dialog.Option("Gourd/Magic~Bottle.", (byte)ConquerItem.Bottle);
                                                    dialog.Option("I`ll~think~about~it.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case (byte)ConquerItem.Garment:
                                            case (byte)ConquerItem.SteedArmor:
                                            case (byte)ConquerItem.Tower:
                                            case (byte)ConquerItem.Fan:
                                            case (byte)ConquerItem.SteedCrop:
                                            case (byte)ConquerItem.Bottle:
                                                {
                                                    dialog.Text("Are you sure you want to pay 270 CPs to add 1 blessed attribute to the item?");
                                                    dialog.Option("Yes.", (byte)(npcRequest.OptionID + 100));
                                                    dialog.Option("No,~I~changed~my~mind.", 255);
                                                    dialog.Option("I~need~to~think~it~over.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case (byte)ConquerItem.Garment + 100:
                                            case (byte)ConquerItem.SteedArmor + 100:
                                            case (byte)ConquerItem.Tower + 100:
                                            case (byte)ConquerItem.Fan + 100:
                                            case (byte)ConquerItem.SteedCrop + 100:
                                            case (byte)ConquerItem.Bottle + 100:
                                                {
                                                    ConquerItem item;
                                                    if ((item = client.Equipment.TryGetItem((byte)(npcRequest.OptionID - 100))) != null)
                                                    {
                                                        if (item.Bless == 0)
                                                        {
                                                            if (client.Entity.ConquerPoints >= 270)
                                                            {
                                                                client.Entity.ConquerPoints -= 270;
                                                                item.Bless = 1;
                                                                item.Mode = Game.Enums.ItemMode.Update;
                                                                item.Send(client);
                                                                Database.ConquerItemTable.UpdateBless(item);
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don`t have enough CPs to attach blessed attribute to the equipment.");
                                                                dialog.Option("Alright.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region HeavenlyMaster
                                case 8233:
                                    {
                                        dialog.Avatar(67);
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Quests.GetQuest(QuestID.TowerOfMystery) == null || client.Quests.CheckQuest(QuestID.TowerOfMystery) == QuestPacket.QuestData.QuestStatus.Available)
                                                        client.Quests.Accept(QuestID.TowerOfMystery);
                                                    dialog.Text("Every day when you successfully challenged the Tower of Mystery, you can claim"); dialog.Text("~a Chi Token, 200 Champion Points, 3 Exorcism Tokens and 100 Study Points from me.");

                                                    dialog.Option("Take~me~to~the~tower.", 1);
                                                    if (!client.Entity.DidTOM)
                                                        dialog.Option("Claim~my~rewards.", 2);
                                                    dialog.Option("Exchange~for~Exorcism~Pack.", 6);
                                                    dialog.Option("I`ll~talk~to~you~later.", 255);
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Entity.Teleport(4020, 83, 73);
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    dialog.Text("You can exchange 3 Exorcism Tokens for an Exorcism Pack, or 9 Exorcism Tokens for a Golden Exorcism Pack.");
                                                    dialog.Text("~Which pack would you like to exchange for?");

                                                    dialog.Option("Exorcism~Pack.", 8);
                                                    dialog.Option("Golden~Exorcism~Pack.", 9);
                                                    dialog.Option("I`ll~think~about~it.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    if (client.Inventory.Contains(711211, 3))
                                                    {
                                                        client.Inventory.Remove(711211, 3);
                                                        client.Inventory.Add(720948, 0, 1);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Stop kidding me! You don`t have 3 Exorcism Tokens to exchange for an Exorcism Pack.");
                                                        dialog.Text("~No bargain here.");

                                                        dialog.Option("Sorry,~I~forgot.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 9:
                                                {
                                                    if (client.Inventory.Contains(711211, 9))
                                                    {
                                                        client.Inventory.Remove(711211, 9);
                                                        client.Inventory.Add(729594, 0, 1);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Stop kidding me! You don`t have 9 Exorcism Tokens to exchange for an Exorcism Pack.");
                                                        dialog.Text("~No bargain here.");

                                                        dialog.Option("Sorry,~I~forgot.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Quests.GetQuest(QuestID.TowerOfMystery).Kills >= 1)
                                                    {
                                                        client.Quests.FinishQuest(QuestID.TowerOfMystery);
                                                        client.ChampionPoints += 200;
                                                        client.Inventory.Add(711211, 0, 3);
                                                        client.Inventory.Add(729304, 0, 1);
                                                        client.Entity.DidTOM = true;
                                                        client.Entity.SubClasses.StudyPoints += 100;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You haven`t completed the challenge of the Tower of Mystery, and you can`t claim");
                                                        dialog.Text("~the rewards, otherwise you would like to pay 27 CPs or a Mystery Amulet.");

                                                        dialog.Option("Pay~27~CPs~for~reward.", 5);
                                                        dialog.Option("I~haven`t~decided,~yet!", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    if (client.Entity.ConquerPoints >= 27)
                                                    {
                                                        client.Quests.FinishQuest(QuestID.TowerOfMystery);
                                                        client.ChampionPoints += 200;
                                                        client.Inventory.Add(711211, 0, 3);
                                                        client.Inventory.Add(729304, 0, 1);
                                                        client.Entity.DidTOM = true;
                                                        client.Entity.ConquerPoints -= 27;
                                                        client.Entity.SubClasses.StudyPoints += 100;
                                                    }
                                                    break;
                                                }

                                        }
                                        break;
                                    }
                                #endregion
                                #region ImperialJeweler
                                case 15995:
                                    {//NpcMesh: 26490 NpcX: 182 NpcY: 207 Avatar: 33
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Are you still plagued by a lack of Refined Gems? Well, I have a deal for you! There`s a chance for you to get piles of Refined Gems!");
                                                    dialog.Text("~If you can give me 15 Normal Gems, you can trade for 1 Refined Gem! However, I have no idea which Refined Gem you will get.");
                                                    dialog.Text("~All I can say is that you won`t get a Refined Thunder Gem or Refined Glory Gem. You can check how many gems you have given to me, whenever you like. Good luck!!");
                                                    dialog.Option("I~want~to~hand~in~gems.", 1);
                                                    dialog.Option("Check~how~many~gems~I~gave.", 93);
                                                    dialog.Option("Trade~for~a~Refined~Gem.", 94);
                                                    dialog.Option("Not~interested.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("You only need to collect 15 Normal Gems, then trade them for 1 Refined Gem. However, I have no idea which Refined Gem you will get.");
                                                    dialog.Text("~All I can say is that you won`t get a Refined Thunder Gem or Refined Glory Gem. I wish you luck!");
                                                    dialog.Option("Hand~in~Normal~Thunder~Gems.", 3);
                                                    dialog.Option("Hand~in~Normal~Glory~Gems.", 12);
                                                    dialog.Option("Hand~in~Normal~Kylin~Gems.", 21);
                                                    dialog.Option("Hand~in~Normal~Rainbow~Gems.", 30);
                                                    dialog.Option("Hand~in~Normal~Fury~Gems.", 39);
                                                    dialog.Option("I~want~more~choices.", 2);
                                                    dialog.Option("It`s~none~of~my~business.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("You only need to collect 15 Normal Gems, then trade them for 1 Refined Gem. However, I have no idea which Refined Gem you will get.");
                                                    dialog.Text("~All I can say is that you won`t get a Refined Thunder Gem or Refined Glory Gem. I wish you luck!");
                                                    dialog.Option("Hand~in~Normal~Dragon~Gems.", 48);
                                                    dialog.Option("Hand~in~Normal~Phoenix~Gems.", 57);
                                                    dialog.Option("Hand~in~Normal~Violet~Gems.", 66);
                                                    dialog.Option("Hand~in~Normal~Moon~Gems.", 75);
                                                    dialog.Option("Hand~in~Normal~Tortoise~Gems.", 84);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            #region Thunder
                                            case 3:
                                                {
                                                    dialog.Text("You must have collected many Normal Thunder Gems. Handing in 15 Normal Gems will earn you 1 random Refined Gem. How many Normal Thunder Gems do you want to hand in?");
                                                    dialog.Option("Hand~in~1~Normal~Thunder~Gem.", 4);
                                                    dialog.Option("Hand~in~3~Normal~Thunder~Gems.", 5);
                                                    dialog.Option("Hand~in~5~Normal~Thunder~Gems.", 6);
                                                    dialog.Option("Hand~in~10~Normal~Thunder~Gems.", 7);
                                                    dialog.Option("Let~me~think~about~it.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 1 Normal Thunder Gem?");
                                                    dialog.Option("Yes.", 8);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 3 Normal Thunder Gem?");
                                                    dialog.Option("Yes.", 9);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 5 Normal Thunder Gem?");
                                                    dialog.Option("Yes.", 10);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 7:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 10 Normal Thunder Gem?");
                                                    dialog.Option("Yes.", 11);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    if (client.Inventory.Contains(700101, 1))
                                                    {
                                                        client.Inventory.Remove(700101, 1);
                                                        client.Entity.NormalGems += 1;
                                                        dialog.Text("You have handed in 1 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Thunder Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 9:
                                                {
                                                    if (client.Inventory.Contains(700101, 3))
                                                    {
                                                        client.Inventory.Remove(700101, 3);
                                                        client.Entity.NormalGems += 3;
                                                        dialog.Text("You have handed in 3 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Thunder Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 10:
                                                {
                                                    if (client.Inventory.Contains(700101, 5))
                                                    {
                                                        client.Inventory.Remove(700101, 5);
                                                        client.Entity.NormalGems += 5;
                                                        dialog.Text("You have handed in 5 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Thunder Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 11:
                                                {
                                                    if (client.Inventory.Contains(700101, 10))
                                                    {
                                                        client.Inventory.Remove(700101, 10);
                                                        client.Entity.NormalGems += 10;
                                                        dialog.Text("You have handed in 10 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Thunder Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Glory
                                            case 12:
                                                {
                                                    dialog.Text("You must have collected many Normal Glory Gems. Handing in 15 Normal Gems will earn you 1 random Refined Gem. How many Normal Glory Gems do you want to hand in?");
                                                    dialog.Option("Hand~in~1~Normal~Glory~Gem.", 13);
                                                    dialog.Option("Hand~in~3~Normal~Glory~Gems.", 14);
                                                    dialog.Option("Hand~in~5~Normal~Glory~Gems.", 15);
                                                    dialog.Option("Hand~in~10~Normal~Glory~Gems.", 16);
                                                    dialog.Option("Let~me~think~about~it.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 13:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 1 Normal Glory Gem?");
                                                    dialog.Option("Yes.", 17);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 14:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 3 Normal Glory Gem?");
                                                    dialog.Option("Yes.", 18);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 15:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 5 Normal Glory Gem?");
                                                    dialog.Option("Yes.", 19);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 16:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 10 Normal Glory Gem?");
                                                    dialog.Option("Yes.", 20);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 17:
                                                {
                                                    if (client.Inventory.Contains(700121, 1))
                                                    {
                                                        client.Inventory.Remove(700121, 1);
                                                        client.Entity.NormalGems += 1;
                                                        dialog.Text("You have handed in 1 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Glory Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 18:
                                                {
                                                    if (client.Inventory.Contains(700121, 3))
                                                    {
                                                        client.Inventory.Remove(700121, 3);
                                                        client.Entity.NormalGems += 3;
                                                        dialog.Text("You have handed in 3 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Glory Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 19:
                                                {
                                                    if (client.Inventory.Contains(700121, 5))
                                                    {
                                                        client.Inventory.Remove(700121, 5);
                                                        client.Entity.NormalGems += 5;
                                                        dialog.Text("You have handed in 5 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Glory Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 20:
                                                {
                                                    if (client.Inventory.Contains(700121, 10))
                                                    {
                                                        client.Inventory.Remove(700121, 10);
                                                        client.Entity.NormalGems += 10;
                                                        dialog.Text("You have handed in 10 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Glory Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Kylin
                                            case 21:
                                                {
                                                    dialog.Text("You must have collected many Normal Kylin Gems. Handing in 15 Normal Gems will earn you 1 random Refined Gem. How many Normal Kylin Gems do you want to hand in?");
                                                    dialog.Option("Hand~in~1~Normal~Kylin~Gem.", 22);
                                                    dialog.Option("Hand~in~3~Normal~Kylin~Gems.", 23);
                                                    dialog.Option("Hand~in~5~Normal~Kylin~Gems.", 24);
                                                    dialog.Option("Hand~in~10~Normal~Kylin~Gems.", 25);
                                                    dialog.Option("Let~me~think~about~it.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 22:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 1 Normal Kylin Gem?");
                                                    dialog.Option("Yes.", 26);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 23:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 3 Normal Kylin Gem?");
                                                    dialog.Option("Yes.", 27);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 24:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 5 Normal Kylin Gem?");
                                                    dialog.Option("Yes.", 28);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 25:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 10 Normal Kylin Gem?");
                                                    dialog.Option("Yes.", 29);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 26:
                                                {
                                                    if (client.Inventory.Contains(700041, 1))
                                                    {
                                                        client.Inventory.Remove(700041, 1);
                                                        client.Entity.NormalGems += 1;
                                                        dialog.Text("You have handed in 1 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Kylin Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 27:
                                                {
                                                    if (client.Inventory.Contains(700041, 3))
                                                    {
                                                        client.Inventory.Remove(700041, 3);
                                                        client.Entity.NormalGems += 3;
                                                        dialog.Text("You have handed in 3 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Kylin Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 28:
                                                {
                                                    if (client.Inventory.Contains(700041, 5))
                                                    {
                                                        client.Inventory.Remove(700041, 5);
                                                        client.Entity.NormalGems += 5;
                                                        dialog.Text("You have handed in 5 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Kylin Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 29:
                                                {
                                                    if (client.Inventory.Contains(700041, 10))
                                                    {
                                                        client.Inventory.Remove(700041, 10);
                                                        client.Entity.NormalGems += 10;
                                                        dialog.Text("You have handed in 10 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Kylin Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Rainbow
                                            case 30:
                                                {
                                                    dialog.Text("You must have collected many Normal Rainbow Gems. Handing in 15 Normal Gems will earn you 1 random Refined Gem. How many Normal Rainbow Gems do you want to hand in?");
                                                    dialog.Option("Hand~in~1~Normal~Rainbow~Gem.", 31);
                                                    dialog.Option("Hand~in~3~Normal~Rainbow~Gems.", 32);
                                                    dialog.Option("Hand~in~5~Normal~Rainbow~Gems.", 33);
                                                    dialog.Option("Hand~in~10~Normal~Rainbow~Gems.", 34);
                                                    dialog.Option("Let~me~think~about~it.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 31:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 1 Normal Rainbow Gem?");
                                                    dialog.Option("Yes.", 35);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 32:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 3 Normal Rainbow Gem?");
                                                    dialog.Option("Yes.", 36);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 33:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 5 Normal Rainbow Gem?");
                                                    dialog.Option("Yes.", 37);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 34:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 10 Normal Rainbow Gem?");
                                                    dialog.Option("Yes.", 38);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 35:
                                                {
                                                    if (client.Inventory.Contains(700031, 1))
                                                    {
                                                        client.Inventory.Remove(700031, 1);
                                                        client.Entity.NormalGems += 1;
                                                        dialog.Text("You have handed in 1 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Rainbow Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 36:
                                                {
                                                    if (client.Inventory.Contains(700031, 3))
                                                    {
                                                        client.Inventory.Remove(700031, 3);
                                                        client.Entity.NormalGems += 3;
                                                        dialog.Text("You have handed in 3 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Rainbow Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 37:
                                                {
                                                    if (client.Inventory.Contains(700031, 5))
                                                    {
                                                        client.Inventory.Remove(700031, 5);
                                                        client.Entity.NormalGems += 5;
                                                        dialog.Text("You have handed in 5 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Rainbow Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 38:
                                                {
                                                    if (client.Inventory.Contains(700031, 10))
                                                    {
                                                        client.Inventory.Remove(700031, 10);
                                                        client.Entity.NormalGems += 10;
                                                        dialog.Text("You have handed in 10 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Rainbow Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Fury
                                            case 39:
                                                {
                                                    dialog.Text("You must have collected many Normal Fury Gems. Handing in 15 Normal Gems will earn you 1 random Refined Gem. How many Normal Fury Gems do you want to hand in?");
                                                    dialog.Option("Hand~in~1~Normal~Fury~Gem.", 40);
                                                    dialog.Option("Hand~in~3~Normal~Fury~Gems.", 41);
                                                    dialog.Option("Hand~in~5~Normal~Fury~Gems.", 42);
                                                    dialog.Option("Hand~in~10~Normal~Fury~Gems.", 43);
                                                    dialog.Option("Let~me~think~about~it.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 40:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 1 Normal Fury Gem?");
                                                    dialog.Option("Yes.", 44);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 41:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 3 Normal Fury Gem?");
                                                    dialog.Option("Yes.", 45);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 42:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 5 Normal Fury Gem?");
                                                    dialog.Option("Yes.", 46);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 43:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 10 Normal Fury Gem?");
                                                    dialog.Option("Yes.", 47);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 44:
                                                {
                                                    if (client.Inventory.Contains(700021, 1))
                                                    {
                                                        client.Inventory.Remove(700021, 1);
                                                        client.Entity.NormalGems += 1;
                                                        dialog.Text("You have handed in 1 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Fury Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 45:
                                                {
                                                    if (client.Inventory.Contains(700021, 3))
                                                    {
                                                        client.Inventory.Remove(700021, 3);
                                                        client.Entity.NormalGems += 3;
                                                        dialog.Text("You have handed in 3 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Fury Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 46:
                                                {
                                                    if (client.Inventory.Contains(700021, 5))
                                                    {
                                                        client.Inventory.Remove(700021, 5);
                                                        client.Entity.NormalGems += 5;
                                                        dialog.Text("You have handed in 5 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Fury Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 47:
                                                {
                                                    if (client.Inventory.Contains(700021, 10))
                                                    {
                                                        client.Inventory.Remove(700021, 10);
                                                        client.Entity.NormalGems += 10;
                                                        dialog.Text("You have handed in 10 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Fury Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Dragon
                                            case 48:
                                                {
                                                    dialog.Text("You must have collected many Normal Dragon Gems. Handing in 15 Normal Gems will earn you 1 random Refined Gem. How many Normal Dragon Gems do you want to hand in?");
                                                    dialog.Option("Hand~in~1~Normal~Dragon~Gem.", 49);
                                                    dialog.Option("Hand~in~3~Normal~Dragon~Gems.", 50);
                                                    dialog.Option("Hand~in~5~Normal~Dragon~Gems.", 51);
                                                    dialog.Option("Hand~in~10~Normal~Dragon~Gems.", 52);
                                                    dialog.Option("Let~me~think~about~it.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 49:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 1 Normal Dragon Gem?");
                                                    dialog.Option("Yes.", 53);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 50:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 3 Normal Dragon Gem?");
                                                    dialog.Option("Yes.", 54);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 51:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 5 Normal Dragon Gem?");
                                                    dialog.Option("Yes.", 55);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 52:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 10 Normal Dragon Gem?");
                                                    dialog.Option("Yes.", 56);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 53:
                                                {
                                                    if (client.Inventory.Contains(700011, 1))
                                                    {
                                                        client.Inventory.Remove(700011, 1);
                                                        client.Entity.NormalGems += 1;
                                                        dialog.Text("You have handed in 1 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Dragon Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 54:
                                                {
                                                    if (client.Inventory.Contains(700011, 3))
                                                    {
                                                        client.Inventory.Remove(700011, 3);
                                                        client.Entity.NormalGems += 3;
                                                        dialog.Text("You have handed in 3 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Dragon Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 55:
                                                {
                                                    if (client.Inventory.Contains(700011, 5))
                                                    {
                                                        client.Inventory.Remove(700011, 5);
                                                        client.Entity.NormalGems += 5;
                                                        dialog.Text("You have handed in 5 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Dragon Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 56:
                                                {
                                                    if (client.Inventory.Contains(700011, 10))
                                                    {
                                                        client.Inventory.Remove(700011, 10);
                                                        client.Entity.NormalGems += 10;
                                                        dialog.Text("You have handed in 10 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Dragon Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Phoenix
                                            case 57:
                                                {
                                                    dialog.Text("You must have collected many Normal Phoenix Gems. Handing in 15 Normal Gems will earn you 1 random Refined Gem. How many Normal Phoenix Gems do you want to hand in?");
                                                    dialog.Option("Hand~in~1~Normal~Phoenix~Gem.", 58);
                                                    dialog.Option("Hand~in~3~Normal~Phoenix~Gems.", 59);
                                                    dialog.Option("Hand~in~5~Normal~Phoenix~Gems.", 60);
                                                    dialog.Option("Hand~in~10~Normal~Phoenix~Gems.", 61);
                                                    dialog.Option("Let~me~think~about~it.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 58:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 1 Normal Phoenix Gem?");
                                                    dialog.Option("Yes.", 62);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 59:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 3 Normal Phoenix Gem?");
                                                    dialog.Option("Yes.", 63);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 60:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 5 Normal Phoenix Gem?");
                                                    dialog.Option("Yes.", 64);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 61:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 10 Normal Phoenix Gem?");
                                                    dialog.Option("Yes.", 65);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 62:
                                                {
                                                    if (client.Inventory.Contains(700001, 1))
                                                    {
                                                        client.Inventory.Remove(700001, 1);
                                                        client.Entity.NormalGems += 1;
                                                        dialog.Text("You have handed in 1 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Phoenix Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 63:
                                                {
                                                    if (client.Inventory.Contains(700001, 3))
                                                    {
                                                        client.Inventory.Remove(700001, 3);
                                                        client.Entity.NormalGems += 3;
                                                        dialog.Text("You have handed in 3 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Phoenix Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 64:
                                                {
                                                    if (client.Inventory.Contains(700001, 5))
                                                    {
                                                        client.Inventory.Remove(700001, 5);
                                                        client.Entity.NormalGems += 5;
                                                        dialog.Text("You have handed in 5 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Phoenix Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 65:
                                                {
                                                    if (client.Inventory.Contains(700001, 10))
                                                    {
                                                        client.Inventory.Remove(700001, 10);
                                                        client.Entity.NormalGems += 10;
                                                        dialog.Text("You have handed in 10 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Phoenix Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Violet
                                            case 66:
                                                {
                                                    dialog.Text("You must have collected many Normal Violet Gems. Handing in 15 Normal Gems will earn you 1 random Refined Gem. How many Normal Violet Gems do you want to hand in?");
                                                    dialog.Option("Hand~in~1~Normal~Violet~Gem.", 67);
                                                    dialog.Option("Hand~in~3~Normal~Violet~Gems.", 68);
                                                    dialog.Option("Hand~in~5~Normal~Violet~Gems.", 69);
                                                    dialog.Option("Hand~in~10~Normal~Violet~Gems.", 70);
                                                    dialog.Option("Let~me~think~about~it.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 67:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 1 Normal Violet Gem?");
                                                    dialog.Option("Yes.", 71);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 68:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 3 Normal Violet Gem?");
                                                    dialog.Option("Yes.", 72);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 69:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 5 Normal Violet Gem?");
                                                    dialog.Option("Yes.", 73);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 70:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 10 Normal Violet Gem?");
                                                    dialog.Option("Yes.", 74);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 71:
                                                {
                                                    if (client.Inventory.Contains(700051, 1))
                                                    {
                                                        client.Inventory.Remove(700051, 1);
                                                        client.Entity.NormalGems += 1;
                                                        dialog.Text("You have handed in 1 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Violet Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 72:
                                                {
                                                    if (client.Inventory.Contains(700051, 3))
                                                    {
                                                        client.Inventory.Remove(700051, 3);
                                                        client.Entity.NormalGems += 3;
                                                        dialog.Text("You have handed in 3 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Violet Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 73:
                                                {
                                                    if (client.Inventory.Contains(700051, 5))
                                                    {
                                                        client.Inventory.Remove(700051, 5);
                                                        client.Entity.NormalGems += 5;
                                                        dialog.Text("You have handed in 5 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Violet Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 74:
                                                {
                                                    if (client.Inventory.Contains(700051, 10))
                                                    {
                                                        client.Inventory.Remove(700051, 10);
                                                        client.Entity.NormalGems += 10;
                                                        dialog.Text("You have handed in 10 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Violet Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Moon
                                            case 75:
                                                {
                                                    dialog.Text("You must have collected many Normal Moon Gems. Handing in 15 Normal Gems will earn you 1 random Refined Gem. How many Normal Moon Gems do you want to hand in?");
                                                    dialog.Option("Hand~in~1~Normal~Moon~Gem.", 76);
                                                    dialog.Option("Hand~in~3~Normal~Moon~Gems.", 77);
                                                    dialog.Option("Hand~in~5~Normal~Moon~Gems.", 78);
                                                    dialog.Option("Hand~in~10~Normal~Moon~Gems.", 79);
                                                    dialog.Option("Let~me~think~about~it.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 76:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 1 Normal Moon Gem?");
                                                    dialog.Option("Yes.", 80);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 77:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 3 Normal Moon Gem?");
                                                    dialog.Option("Yes.", 81);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 78:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 5 Normal Moon Gem?");
                                                    dialog.Option("Yes.", 82);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 79:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 10 Normal Moon Gem?");
                                                    dialog.Option("Yes.", 83);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 80:
                                                {
                                                    if (client.Inventory.Contains(700061, 1))
                                                    {
                                                        client.Inventory.Remove(700061, 1);
                                                        client.Entity.NormalGems += 1;
                                                        dialog.Text("You have handed in 1 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Moon Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 81:
                                                {
                                                    if (client.Inventory.Contains(700061, 3))
                                                    {
                                                        client.Inventory.Remove(700061, 3);
                                                        client.Entity.NormalGems += 3;
                                                        dialog.Text("You have handed in 3 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Moon Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 82:
                                                {
                                                    if (client.Inventory.Contains(700061, 5))
                                                    {
                                                        client.Inventory.Remove(700061, 5);
                                                        client.Entity.NormalGems += 5;
                                                        dialog.Text("You have handed in 5 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Moon Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 83:
                                                {
                                                    if (client.Inventory.Contains(700061, 10))
                                                    {
                                                        client.Inventory.Remove(700061, 10);
                                                        client.Entity.NormalGems += 10;
                                                        dialog.Text("You have handed in 10 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Moon Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Tortoise
                                            case 84:
                                                {
                                                    dialog.Text("You must have collected many Normal Tortoise Gems. Handing in 15 Normal Gems will earn you 1 random Refined Gem. How many Normal Tortoise Gems do you want to hand in?");
                                                    dialog.Option("Hand~in~1~Normal~Tortoise~Gem.", 85);
                                                    dialog.Option("Hand~in~3~Normal~Tortoise~Gems.", 86);
                                                    dialog.Option("Hand~in~5~Normal~Tortoise~Gems.", 87);
                                                    dialog.Option("Hand~in~10~Normal~Tortoise~Gems.", 88);
                                                    dialog.Option("Let~me~think~about~it.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 85:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 1 Normal Tortoise Gem?");
                                                    dialog.Option("Yes.", 89);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 86:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 3 Normal Tortoise Gem?");
                                                    dialog.Option("Yes.", 90);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 87:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 5 Normal Tortoise Gem?");
                                                    dialog.Option("Yes.", 91);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 88:
                                                {
                                                    dialog.Text("Are you sure you want to hand in 10 Normal Tortoise Gem?");
                                                    dialog.Option("Yes.", 92);
                                                    dialog.Option("Not~now.", 255);
                                                    dialog.Avatar(33);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 89:
                                                {
                                                    if (client.Inventory.Contains(700071, 1))
                                                    {
                                                        client.Inventory.Remove(700071, 1);
                                                        client.Entity.NormalGems += 1;
                                                        dialog.Text("You have handed in 1 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Tortoise Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 90:
                                                {
                                                    if (client.Inventory.Contains(700071, 3))
                                                    {
                                                        client.Inventory.Remove(700071, 3);
                                                        client.Entity.NormalGems += 3;
                                                        dialog.Text("You have handed in 3 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Tortoise Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 91:
                                                {
                                                    if (client.Inventory.Contains(700071, 5))
                                                    {
                                                        client.Inventory.Remove(700071, 5);
                                                        client.Entity.NormalGems += 5;
                                                        dialog.Text("You have handed in 5 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Tortoise Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 92:
                                                {
                                                    if (client.Inventory.Contains(700071, 10))
                                                    {
                                                        client.Inventory.Remove(700071, 10);
                                                        client.Entity.NormalGems += 10;
                                                        dialog.Text("You have handed in 10 Normal Gem. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("OK.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Are you kidding me? You don`t have enough Normal Tortoise Gems. You need to bring more, next time!");
                                                        dialog.Option("Wait~for~me.", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region checkGems
                                            case 93:
                                                {
                                                    if (client.Entity.NormalGems <= 14)
                                                    {
                                                        dialog.Text("You have handed in " + client.Entity.NormalGems + " Normal Gems. Turning in 15 Normal Gems will earn you 1 Refined Gem. Keep going!");
                                                        dialog.Option("Thanks!", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You have handed in 15 Normal Gems. Hurry and trade them for a Refined Gem!");
                                                        dialog.Option("Thanks!", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Traded for Refined
                                            case 94:
                                                {
                                                    if (client.Entity.NormalGems >= 15)
                                                    {
                                                        System.Random r = new System.Random();
                                                        int i = r.Next(100);
                                                        if (i >= 0 && i <= 9)
                                                        {
                                                            client.Inventory.Add(700002, 0, 1);
                                                            dialog.Text("You traded for 1 Refined Phoenix Gem!");
                                                            dialog.Option("Thank you!", 255);
                                                        }
                                                        if (i >= 10 && i <= 19)
                                                        {
                                                            client.Inventory.Add(700012, 0, 1);
                                                            dialog.Text("You traded for 1 Refined Dragon Gem!");
                                                            dialog.Option("Thank you!", 255);
                                                        }
                                                        if (i >= 30 && i <= 39)
                                                        {
                                                            client.Inventory.Add(700022, 0, 1);
                                                            dialog.Text("You traded for 1 Refined Fury Gem!");
                                                            dialog.Option("Thank you!", 255);
                                                        }
                                                        if (i >= 40 && i <= 49)
                                                        {
                                                            client.Inventory.Add(700032, 0, 1);
                                                            dialog.Text("You traded for 1 Refined Rainbow Gem!");
                                                            dialog.Option("Thank you!", 255);
                                                        }
                                                        if (i >= 50 && i <= 65)
                                                        {
                                                            client.Inventory.Add(700042, 0, 1);
                                                            dialog.Text("You traded for 1 Refined Kylin Gem!");
                                                            dialog.Option("Thank you!", 255);
                                                        }
                                                        if (i >= 66 && i <= 70)
                                                        {
                                                            client.Inventory.Add(700072, 0, 1);
                                                            dialog.Text("You traded for 1 Refined Tortoise Gem!");
                                                            dialog.Option("Thank you!", 255);
                                                        }
                                                        if (i >= 71 && i <= 72)
                                                        {
                                                            client.Inventory.Add(700102, 0, 1);
                                                            dialog.Text("You traded for 1 Refined Thunder Gem!");
                                                            dialog.Option("Thank you!", 255);
                                                        }
                                                        if (i >= 73 && i <= 74)
                                                        {
                                                            client.Inventory.Add(700122, 0, 1);
                                                            dialog.Text("You traded for 1 Refined Glory Gem!");
                                                            dialog.Option("Thank you!", 255);
                                                        }
                                                        if (i >= 75 && i <= 85)
                                                        {
                                                            client.Inventory.Add(700062, 0, 1);
                                                            dialog.Text("You traded for 1 Refined Moon Gem!");
                                                            dialog.Option("Thank you!", 255);
                                                        }
                                                        if (i >= 86 && i <= 100)
                                                        {
                                                            client.Inventory.Add(700052, 0, 1);
                                                            dialog.Text("You traded for 1 Refined Violet Gem!");
                                                            dialog.Option("Thank you!", 255);
                                                        }
                                                        //uint item = (uint)Kernel.RandFromGivingNums(700002, 700012, 700022, 700032, 700042, 700102, 700122, 700072, 700052, 700062);
                                                        //client.Inventory.Add(item, 0, 1);
                                                        client.Entity.NormalGems -= 15;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("What a shame! You haven`t handed in 15 Normal Gems. You need to bring more, next time!");
                                                        dialog.Option("No~problem!", 255);
                                                        dialog.Avatar(33);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                        }
                                        break;
                                    }
                                #endregion
                            }
                            break;
                        }
                    #endregion
                    #region Guild war
                    case 1038:
                        {
                            switch (client.ActiveNpc)
                            {
                                #region GuildWar
                                #region Pole
                                case 810:
                                    {
                                        dialog.Text("Please, don't hurt me!.");
                                        dialog.Option("Sorry.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                #endregion
                                #region GuildOfficer
                                case 101888:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hello there. Do you want to Claim GuildWar Prize you can only Claim it 1 Time if you won GW.");
                                                    dialog.Option("Sure!", 1);
                                                    dialog.Option("Sure! But i'm DL", 3);
                                                    dialog.Option("cup 5 win GW.", 5);
                                                    dialog.Option("Just Passing By!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Guild != null)
                                                    {
                                                        if (client.Guild.PoleKeeper && client.Guild != null &&
                                                            client.AsMember.Rank ==
                                                            Conquord.Game.Enums.GuildMemberRank.GuildLeader)
                                                        {
                                                            dialog.Text("Are you sure you want to claim your Reward?");
                                                            dialog.Option("Yes.", 2);
                                                            dialog.Option("Ah, nevermind.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text(
                                                                "Sorry only GuildLeader of the Winner Guild can Claim The Prize After GuildWar End.");
                                                            dialog.Option("Ahh.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry You are not Member in any guild yet");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (
                                                        !GuildWar.IsWar && GuildWar.Claim && client.Guild != null &&
                                                        client.Entity.GuildID == GuildWar.KeeperID &&
                                                        client.Entity.GuildRank == (ushort)Game.Enums.GuildMemberRank.GuildLeader)
                                                    {
                                                        client.ChampionPoints += 100;
                                                        GuildWar.Claim = false;
                                                        client.Entity.ConquerPoints += 5000000;
                                                        client.Inventory.Add(723467, 0, 1);
                                                        GuildWar.KeeperID = 0;
                                                        GuildWar.TopGlClaim++;
                                                        client.Entity.AddTopStatus(Update.Flags.TopGuildLeader, 1, DateTime.Now.AddDays(7));
                                                        Conquord.Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " Leader of " + client.Guild.PoleKeeper + " The winner guild has Claimed Guild War Prize 5.000.000 cps and LordToken!", System.Drawing.Color.White, Message.TopLeft), Program.Values);
                                                        //  Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " Leader of " + client.Guild.PoleKeeper + " The winner guild has Claimed Guild War Prize 500Kk cps and LordToken And 1000 GW Points!", System.Drawing.Color.White,Message.TopLeft), Program.GamePool); 
                                                    }
                                                    else
                                                    {
                                                        dialog.Text(
                                                            "Sorry you dont have Any Prize to claim only GL of the winner guild can claim Prize After GW");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Guild != null)
                                                    {
                                                        if (client.Guild.PoleKeeper && client.Guild != null &&
                                                            client.AsMember.Rank ==
                                                            Conquord.Game.Enums.GuildMemberRank.DeputyLeader)
                                                        {
                                                            dialog.Text("Are you sure you want to Claim your Prize?");
                                                            dialog.Option("Yes.", 4);
                                                            dialog.Option("Ah, nevermind.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("Sorry only DeputyLeader of the Winner Guild can Claim The Prize After GuildWar End.");
                                                            dialog.Option("Ahh.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry You are not Member in any guild yet");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    if (!GuildWar.IsWar && client.Guild.PoleKeeper && client.Guild != null && client.AsMember.Rank == Game.Enums.GuildMemberRank.DeputyLeader && GuildWar.TopDlClaim <= 25)
                                                    {
                                                        client.ChampionPoints += 1000;
                                                        GuildWar.TopDlClaim++; client.Entity.AddTopStatus(Update.Flags.TopDeputyLeader, 1, DateTime.Now.AddDays(7));
                                                        Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " From " + client.Guild.PoleKeeper + " Has Claimed TopDeputyLeader Halo!", System.Drawing.Color.White, Message.TopLeft), Program.Values);

                                                    }
                                                    else
                                                    {
                                                        dialog.Text(
                                                            "Sorry you dont have Any Prize to claim only Dl of the Winner Guild Can claim the halo After GW end.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                    }

                                                    break;

                                                }
                                            case 5:
                                                {
                                                    if (client.Inventory.Contains(723467, 5))
                                                    {
                                                        client.Inventory.Remove(723467, 5);
                                                        client.Inventory.Add(2100075, 0, 1);

                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have 5 LordToken.");
                                                        dialog.Option("Ah, my bad", 255);
                                                        dialog.Avatar(80);
                                                        dialog.Send();

                                                    }
                                                    break;
                                                }

                                        }
                                        break;
                                    }

                                #endregion
                                #region Gates

                                case 516074:
                                    {
                                        if (client.Guild != null)
                                        {
                                            if (client.Guild.PoleKeeper)
                                            {
                                                switch (npcRequest.OptionID)
                                                {
                                                    case 0:
                                                        dialog.Text("Select the option you want to pursue.");
                                                        if (client.AsMember.Rank !=
                                                            Conquord.Game.Enums.GuildMemberRank.Member)
                                                        {
                                                            dialog.Option("Open gate.", 1);
                                                            dialog.Option("Close gate.", 2);
                                                        }
                                                        dialog.Option("Get inside.", 3);
                                                        dialog.Option("Nothing.", 255);
                                                        dialog.Send();
                                                        break;
                                                    case 1:
                                                        {
                                                            Conquord.Game.GuildWar.LeftGate.Mesh =
                                                                (ushort)
                                                                    (250 + Conquord.Game.GuildWar.LeftGate.Mesh % 10);

                                                            Update upd = new Update(true);
                                                            upd.UID = Conquord.Game.GuildWar.LeftGate.UID;
                                                            upd.Append(Update.Mesh,
                                                                Conquord.Game.GuildWar.LeftGate.Mesh);
                                                            client.SendScreen(upd, true);
                                                            break;
                                                        }
                                                    case 2:
                                                        {
                                                            Game.GuildWar.LeftGate.Mesh =
                                                                (ushort)(240 + Game.GuildWar.LeftGate.Mesh % 10);
                                                            if (GuildWar.LeftGate.Hitpoints < 100)
                                                                GuildWar.LeftGate.Hitpoints = GuildWar.LeftGate.MaxHitpoints;
                                                            Update upd = new Update(true);
                                                            upd.UID = Conquord.Game.GuildWar.LeftGate.UID;
                                                            upd.Append(Update.Mesh,
                                                                Conquord.Game.GuildWar.LeftGate.Mesh);
                                                            upd.Append(Update.Hitpoints,
                                                                Conquord.Game.GuildWar.LeftGate.Hitpoints);
                                                            client.SendScreen(upd, true);
                                                            break;
                                                        }
                                                    case 3:
                                                        {
                                                            client.Entity.Teleport(1038, 162, 198);
                                                            break;
                                                        }
                                                }
                                            }
                                        }
                                        break;
                                    }
                                case 516075:
                                    {
                                        if (client.Guild != null)
                                        {
                                            if (client.Guild.PoleKeeper)
                                            {
                                                switch (npcRequest.OptionID)
                                                {
                                                    case 0:
                                                        dialog.Text("Select the option you want to pursue.");
                                                        if (client.AsMember.Rank !=
                                                            Conquord.Game.Enums.GuildMemberRank.Member)
                                                        {
                                                            dialog.Option("Open gate.", 1);
                                                            dialog.Option("Close gate.", 2);
                                                        }
                                                        dialog.Option("Get inside.", 3);
                                                        dialog.Option("Nothing.", 255);
                                                        dialog.Send();
                                                        break;
                                                    case 1:
                                                        {
                                                            Conquord.Game.GuildWar.RightGate.Mesh =
                                                                (ushort)
                                                                    (280 + Conquord.Game.GuildWar.RightGate.Mesh % 10);

                                                            Update upd = new Update(true);
                                                            upd.UID = Conquord.Game.GuildWar.RightGate.UID;
                                                            upd.Append(Update.Mesh,
                                                                Conquord.Game.GuildWar.RightGate.Mesh);
                                                            client.SendScreen(upd, true);
                                                            break;
                                                        }
                                                    case 2:
                                                        {
                                                            Conquord.Game.GuildWar.RightGate.Mesh =
                                                                (ushort)
                                                                    (270 + Conquord.Game.GuildWar.RightGate.Mesh % 10);
                                                            if (GuildWar.RightGate.Hitpoints < 100)
                                                                Game.GuildWar.RightGate.Hitpoints =
                                                                    Game.GuildWar.RightGate.MaxHitpoints;
                                                            Update upd = new Update(true);
                                                            upd.UID = Conquord.Game.GuildWar.RightGate.UID;
                                                            upd.Append(Update.Mesh,
                                                                Conquord.Game.GuildWar.RightGate.Mesh);
                                                            upd.Append(Update.Hitpoints,
                                                                Conquord.Game.GuildWar.RightGate.Hitpoints);
                                                            client.SendScreen(upd, true);
                                                            break;
                                                        }
                                                    case 3:
                                                        {
                                                            client.Entity.Teleport(1038, 210, 177);
                                                            break;
                                                        }
                                                }
                                            }
                                        }
                                        break;
                                    }

                                #endregion
                                #region Guild Conductors

                                #region IN

                                case 9884:
                                case 9885:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text(
                                                        "In exchange of a fee of 1000gold, I will teleport you to a special place. If you don't have money, don't bother me.");
                                                    dialog.Option("Teleport me.", 1);
                                                    dialog.Option("I'm too poor.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Entity.Money >= 1000)
                                                    {
                                                        client.Entity.Money -= 1000;
                                                        switch (client.ActiveNpc)
                                                        {
                                                            case 9884:
                                                                client.Entity.Teleport(1216, 12, 481);
                                                                break;
                                                            case 9885:
                                                                client.Entity.Teleport(1015, 792, 573);
                                                                break;
                                                        }
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }

                                #endregion

                                #endregion
                                #region Guild Conductors2

                                #region IN

                                case 9886:
                                case 9887:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text(
                                                        "In exchange of a fee of 1000gold, I will teleport you to a special place. If you don't have money, don't bother me.");
                                                    dialog.Option("Teleport me.", 1);
                                                    dialog.Option("I'm too poor.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Entity.Money >= 1000)
                                                    {
                                                        client.Entity.Money -= 1000;
                                                        switch (client.ActiveNpc)
                                                        {
                                                            case 9886:
                                                                client.Entity.Teleport(1217, 536, 558);
                                                                break;
                                                            case 9887:
                                                                client.Entity.Teleport(1001, 337, 325);
                                                                break;
                                                        }
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }

                                #endregion

                                #endregion
                                #endregion
                            }
                            break;
                        }

                    #endregion
                    #region Promotion Center
                    case 1004:
                    case 1252:
                        {
                            switch (client.ActiveNpc)
                            {

                                #region WindwalkerLord
                                case 19634:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Entity.Class >= 160 && client.Entity.Class <= 165)
                                                    {

                                                        dialog.Text("Our Windwalker school was founded by Saint Wan on the principle of KINDNESS and JUSTICE. Once you decide to");
                                                        dialog.Text("~join us as a Windwalker, you take the responsibility for the security of the country against alien invaders and devils.");
                                                        if (client.Entity.Class != 165)
                                                        {
                                                            dialog.Option("I~want~to~get~promoted.", 1);
                                                        }
                                                        dialog.Option("Learn~skills.", 2);
                                                        dialog.Option("Switch~to~another~branch.", 4);
                                                        dialog.Option("I`ll~talk~to~you~later.", 255);
                                                        dialog.Send();

                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don`t look like a Windwalker. What`s the matter? If you were ever a Windwalker in either of the previous two lives, you can learn [Frost Gaze I] from me.");

                                                        dialog.Option("I~See.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Entity.Class == 160 && client.Entity.Level < client.PromoteLevelNeed)
                                                    {
                                                        dialog.Text("FellowBrother, you`re not qualified to be [WindwalkerGuard]. You should reach Level 15 to get promoted.");

                                                        dialog.Option("I`ll~try~to~reach~Lv.15.", 255);
                                                        dialog.Send();
                                                    }
                                                    else if (client.Entity.Class == 161 && client.Entity.Level < client.PromoteLevelNeed)
                                                    {
                                                        dialog.Text("FellowBrother, you`re not qualified to be [WindwalkerOfficer]. You should reach Level 40 to get promoted.");

                                                        dialog.Option("I`ll~try~to~reach~Lv.40.", 255);
                                                        dialog.Send();
                                                    }
                                                    else if (client.Entity.Class == 162 && client.Entity.Level < client.PromoteLevelNeed)
                                                    {
                                                        dialog.Text("FellowBrother, you`re not qualified to be [WindwalkerSupervisor]. You should reach Level 70 to get promoted.");

                                                        dialog.Option("I`ll~try~to~reach~Lv.70.", 255);
                                                        dialog.Send();
                                                    }
                                                    else if (client.Entity.Class == 163 && client.Entity.Level < client.PromoteLevelNeed)
                                                    {
                                                        dialog.Text("FellowBrother, you`re not qualified to be [WindwalkerManager]. You should reach Level 100 to get promoted.");

                                                        dialog.Option("I`ll~try~to~reach~Lv.100.", 255);
                                                        dialog.Send();
                                                    }
                                                    else if (client.Entity.Class == 164 && client.Entity.Level < client.PromoteLevelNeed)
                                                    {
                                                        dialog.Text("FellowBrother, you`re not qualified to be [WindwalkerLord]. You should reach Level 110 to get promoted.");

                                                        dialog.Option("I`ll~try~to~reach~Lv.110.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        if (client.Entity.Class >= 160 && client.Entity.Class <= 165)
                                                        {
                                                            dialog.Text("To promote now you need" + client.PromoteItemNameNeed + " .");
                                                            dialog.Option("Promote me sir.", 165);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    break;
                                                }
                                            case 165:
                                                {
                                                    if (client.PromoteItemNeed == 721020)
                                                    {
                                                        if (client.Inventory.Remove("moonbox"))
                                                        {
                                                            client.Entity.Update(_String.Effect, "end_task", true);
                                                            client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                            client.Entity.Class++;
                                                            dialog.Text("Congratulations! You have been promoted.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You don't meet the requierments.");
                                                            dialog.Option("Ahh.", 255);
                                                            dialog.Send();
                                                        }
                                                        break;
                                                    }
                                                    if (client.Inventory.Contains(client.PromoteItemNeed, client.PromoteItemCountNeed) && client.Entity.Level >= client.PromoteLevelNeed)
                                                    {
                                                        client.Inventory.Remove(client.PromoteItemNeed, client.PromoteItemCountNeed);
                                                        client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                        client.Entity.Class++;
                                                        client.Entity.Update(_String.Effect, "end_task", true);
                                                        dialog.Text("Congratulations! You have been promoted.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't meet the requierments.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 4:
                                                {
                                                    if (client.Entity.IsChaser())
                                                    {
                                                        dialog.Text("										*Branches of Windwalker School*");
                                                        dialog.Text("،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ");
                                                        dialog.Text("Stomper: Excels in melee combat with excellent attack range and remarkable recovery ability. Stomper`s exclusive skill");
                                                        dialog.Text("		   can freeze enemies` blood to extend their skill cooldown time and response time.");
                                                        dialog.Text("Chaser: Excels in ranged combat. With a unique focusing skill, Chaser is able to control the power of wind to attack");
                                                        dialog.Text("		  enemies far away.");
                                                        dialog.Text("،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ");
                                                        dialog.Text("(You`re currently on the [RangedChaser] branch. Each Windwalker can switch his/her branch once every 30 days, free of charge.)");

                                                        dialog.Option("Switch~to~[MeleeStomper]~branch.", 5);
                                                        dialog.Option("I`ll~think~about~it.", 255);
                                                        dialog.Send();
                                                    }
                                                    else if (client.Entity.IsStomper())
                                                    {
                                                        dialog.Text("										*Branches of Windwalker School*");
                                                        dialog.Text("،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ");
                                                        dialog.Text("Stomper: Excels in melee combat with excellent attack range and remarkable recovery ability. Stomper`s exclusive skill");
                                                        dialog.Text("		   can freeze enemies` blood to extend their skill cooldown time and response time.");
                                                        dialog.Text("Chaser: Excels in ranged combat. With a unique focusing skill, Chaser is able to control the power of wind to attack");
                                                        dialog.Text("		  enemies far away.");
                                                        dialog.Text("،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ");
                                                        dialog.Text("(You`re currently on the [MeleeStomper] branch. Each Windwalker can switch his/her branch once every 30 days, free of charge.)");

                                                        dialog.Option("Switch~to~[RangedChaser]~branch.", 6);
                                                        dialog.Option("I`ll~think~about~it.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    if (client.Entity.IsStomper())
                                                        client.Entity.Windwalker = 0;
                                                    else if (client.Entity.IsChaser())
                                                        client.Entity.Windwalker = 8;
                                                    else break;
                                                    Update upd = new Update(true);
                                                    upd.UID = client.Entity.UID;
                                                    upd.UpdateCount = 1;
                                                    upd.SwitchWindwalker(3277209, 1);
                                                    client.SendScreen(upd, true);
                                                    Update upd2 = new Update(true);
                                                    upd2.UID = client.Entity.UID;
                                                    upd2.UpdateCount = 1;
                                                    upd2.SwitchWindwalker(71, client.Entity.Windwalker);
                                                    client.SendScreen(upd2, true);
                                                    client.Entity.RemoveFlag4((ulong)Network.GamePackets.Update.Flags4.JusticeChant);
                                                    client.Entity.RemoveFlag4((ulong)Network.GamePackets.Update.Flags4.ChillingSnow);
                                                    client.Entity.RemoveFlag4((ulong)Network.GamePackets.Update.Flags4.FreezingPelter);
                                                    client.Entity.RemoveFlag4((ulong)Network.GamePackets.Update.Flags4.HealingSnow);
                                                    client.Entity.RemoveFlag4((ulong)Network.GamePackets.Update.Flags4.RevengeTaill);
                                                    client.Entity.RemoveFlag4((ulong)Network.GamePackets.Update.Flags4.ShadowofChaser);
                                                    client.Entity.RemoveFlag4((ulong)Network.GamePackets.Update.Flags4.Omnipotence);
                                                    dialog.Text("Okay, I`ve changed your branch to [MeleeStomper].");

                                                    dialog.Option("Thanks!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    if (client.Entity.IsStomper())
                                                        client.Entity.Windwalker = 0;
                                                    else if (client.Entity.IsChaser())
                                                        client.Entity.Windwalker = 8;
                                                    else break;
                                                    Update upd = new Update(true);
                                                    upd.UID = client.Entity.UID;
                                                    upd.UpdateCount = 1;
                                                    upd.SwitchWindwalker(3277209, 1);
                                                    client.SendScreen(upd, true);
                                                    Update upd2 = new Update(true);
                                                    upd2.UID = client.Entity.UID;
                                                    upd2.UpdateCount = 1;
                                                    upd2.SwitchWindwalker(71, client.Entity.Windwalker);
                                                    client.SendScreen(upd2, true);
                                                    client.Entity.RemoveFlag4((ulong)Network.GamePackets.Update.Flags4.JusticeChant);
                                                    client.Entity.RemoveFlag4((ulong)Network.GamePackets.Update.Flags4.ChillingSnow);
                                                    client.Entity.RemoveFlag4((ulong)Network.GamePackets.Update.Flags4.FreezingPelter);
                                                    client.Entity.RemoveFlag4((ulong)Network.GamePackets.Update.Flags4.HealingSnow);
                                                    client.Entity.RemoveFlag4((ulong)Network.GamePackets.Update.Flags4.RevengeTaill);
                                                    client.Entity.RemoveFlag4((ulong)Network.GamePackets.Update.Flags4.ShadowofChaser);
                                                    client.Entity.RemoveFlag4((ulong)Network.GamePackets.Update.Flags4.Omnipotence);
                                                    dialog.Text("Okay, I`ve changed your branch to [RangedChaser].");

                                                    dialog.Option("Thanks!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Entity.Reborn == 0)
                                                    {
                                                        client.AddSpell(LearnableSpell(12830));
                                                        break;
                                                    }
                                                    if (client.Entity.FirstRebornClass == 165 && client.Entity.Reborn == 1)
                                                    {
                                                        client.AddSpell(LearnableSpell(13070));
                                                        break;
                                                    }
                                                    if (client.Entity.FirstRebornClass == 165 && client.Entity.SecondRebornClass == 165 && client.Entity.Reborn == 2)
                                                    {
                                                        client.AddSpell(LearnableSpell(13080));
                                                        break;
                                                    }
                                                    else
                                                    {
                                                        client.MessageBox("You`re not qualified to learn this skill.");
                                                        break;
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("Our Windwalker school is divided into two branches: Chaser and Stomper. Chaser focuses on");
                                                    dialog.Text("~ranged combat, while Stomper excels in melee combat. I`m here representing the Chief to");
                                                    dialog.Text("~impart distinctive skills to the Windwalkers.");

                                                    dialog.Option("Learn~skills~of~Stomper.", 10);
                                                    dialog.Option("Learn~skills~of~Chaser.", 11);
                                                    dialog.Option("Learn~rebirth~skill.", 12);
                                                    dialog.Option("Learn~universal~skills.", 13);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 12:
                                                {
                                                    dialog.Text("Frost Gaze is an exclusive rebirth skill for Windwalker. The heroes who got reborn to be Windwalker can learn Frost Gaze I. If both of your precious andd");
                                                    dialog.Text("~current Class are Windwalker, you can learn Frost Gaze II. While for Windwalkers who were also a Windwalker in previous two lives, they can learn Frost Gaze III.");

                                                    if (client.Entity.Reborn == 0 && client.Entity.Class == 165)
                                                        dialog.Option("Frost~Gaze~I.", 3);
                                                    if (client.Entity.FirstRebornClass == 165 && client.Entity.Reborn == 1 && client.Entity.Class == 165)
                                                        dialog.Option("Frost~Gaze~II.", 3);
                                                    if (client.Entity.SecondRebornClass == 165 && client.Entity.Reborn == 2 && client.Entity.Class == 165 && client.Entity.FirstRebornClass == 165)
                                                        dialog.Option("Frost~Gaze~III.", 3);
                                                    dialog.Option("I~want~to~learn~other~skills.", 2);
                                                    dialog.Option("I`ll~talk~to~you~later.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 13:
                                                {
                                                    dialog.Text("Omnipotence and Justice Chant are basic skills for Windwalker, which are available to both Chaser and Stomper learners. I`ll teach you if you want.");

                                                    dialog.Option("Omnipotence~[Lv.3].~(" + WindwalkerSkills(client, 12860) + ")", 40);
                                                    dialog.Option("JusticeChant~[Lv.3].~(" + WindwalkerSkills(client, 12870) + ")", 41);
                                                    dialog.Option("I~want~to~learn~other~skills.", 2);
                                                    dialog.Option("I`ll~talk~to~you~later.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 40:
                                            case 41:
                                                {
                                                    ushort spellid = 12800;
                                                    switch (npcRequest.OptionID)
                                                    {
                                                        case 40: { spellid += 60; break; }
                                                        case 41: { spellid += 70; break; }
                                                    }
                                                    if (WindwalkerSkills(client, spellid) == "Learned")
                                                    {
                                                        dialog.Text("FellowBrother has already acquired this skill. Go practice and feel its power.");

                                                        dialog.Option("Okay.", 2);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    else if (WindwalkerSkills(client, spellid) == "Available")
                                                    {
                                                        client.AddSpell(LearnableSpell(spellid));
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The study of [" + SpellTable.GetSpell(spellid, 0).Name + "] requires FellowBrother to reach a certain level. FellowBrother, you can find me when you reach the required Level.");

                                                        dialog.Option("I`ll~see~you!", 2);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 10:
                                                {
                                                    dialog.Text("The Stomper branch has developed overwhelming melee skills which enable the caster to disable an enemy with swift and flexible fighting moves.");
                                                    dialog.Text("~FellowBrother, which skill would you like to learn?");

                                                    dialog.Option("AngerofStomper~[Lv.1].~(" + WindwalkerSkills(client, 12980) + ")", 20);
                                                    dialog.Option("BurntFrost~[Lv.15].~(" + WindwalkerSkills(client, 12940) + ")", 21);
                                                    dialog.Option("HealingSnow~[Lv.15].~(" + WindwalkerSkills(client, 12950) + ")", 22);
                                                    dialog.Option("RageofWar~[Lv.40].~(" + WindwalkerSkills(client, 12930) + ")", 23);
                                                    dialog.Option("HorrorofStomper~[Lv.40].~(" + WindwalkerSkills(client, 12990) + ")", 24);
                                                    dialog.Option("ChillingSnow~[Lv.70].~(" + WindwalkerSkills(client, 12960) + ")", 25);
                                                    dialog.Option("PeaceofStomper~[Lv.70].~(" + WindwalkerSkills(client, 13000) + ")", 26);
                                                    dialog.Option("Next.", 27);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 27:
                                                {
                                                    dialog.Text("The Stomper branch has developed overwhelming melee skills which enable the caster to disable an enemy with swift and flexible fighting moves.");
                                                    dialog.Text("~FellowBrother, which skill would you like to learn?");

                                                    dialog.Option("RevengeTail~[Lv.100].~(" + WindwalkerSkills(client, 13030) + ")", 28);
                                                    dialog.Option("FreezingPelter~[Lv.100].~(" + WindwalkerSkills(client, 13020) + ")", 29);
                                                    dialog.Option("I~want~to~learn~other~skills.", 2);
                                                    dialog.Option("I`ll~talk~to~you~later.", 255);
                                                    dialog.Option("Previous.", 10);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 20:
                                            case 21:
                                            case 22:
                                            case 23:
                                            case 24:
                                            case 25:
                                            case 26:
                                            case 28:
                                            case 29:
                                                {
                                                    ushort spellid = 12900;
                                                    switch (npcRequest.OptionID)
                                                    {
                                                        case 20: { spellid += 80; break; }
                                                        case 21: { spellid += 40; break; }
                                                        case 22: { spellid += 50; break; }
                                                        case 23: { spellid += 30; break; }
                                                        case 24: { spellid += 90; break; }
                                                        case 25: { spellid += 60; break; }
                                                        case 26: { spellid += 100; break; }
                                                        case 28: { spellid += 130; break; }
                                                        case 29: { spellid += 120; break; }
                                                    }
                                                    if (WindwalkerSkills(client, spellid) == "Learned")
                                                    {
                                                        dialog.Text("FellowBrother has already acquired this skill. Go practice and feel its power.");

                                                        dialog.Option("Okay.", 2);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    else if (WindwalkerSkills(client, spellid) == "Available")
                                                    {
                                                        client.AddSpell(LearnableSpell(spellid));
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The study of [" + SpellTable.GetSpell(spellid, 0).Name + "] requires FellowBrother to reach a certain level. FellowBrother, you can find me when you reach the required Level.");

                                                        dialog.Option("I`ll~see~you!", 2);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 11:
                                                {
                                                    dialog.Text("The Chaser branch is famous for its ability to control wind and outstanding ranged attacks.");
                                                    dialog.Text("~FellowBrother, which skill would you like to learn?");

                                                    dialog.Option("SwirlingStorm~[Lv.15].~(" + WindwalkerSkills(client, 12890) + ")", 30);
                                                    dialog.Option("ShadowofChaser~[Lv.15].~(" + WindwalkerSkills(client, 13090) + ")", 31);
                                                    dialog.Option("TripleBlasts~[Lv.40].~(" + WindwalkerSkills(client, 12850) + ")", 32);
                                                    dialog.Option("Thundercloud~[Lv.70]~[" + WindwalkerSkills(client, 12840) + "]", 33);
                                                    dialog.Option("Thunderbolt~[Lv.100]~[" + WindwalkerSkills(client, 12970) + "]", 34);
                                                    dialog.Option("I~want~to~learn~other~skills.", 2);
                                                    dialog.Option("I`ll~talk~to~you~later.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 30:
                                            case 31:
                                            case 32:
                                            case 33:
                                            case 34:
                                                {
                                                    ushort spellid = 12800;
                                                    switch (npcRequest.OptionID)
                                                    {
                                                        case 30: { spellid += 90; break; }
                                                        case 31: { spellid += 290; break; }
                                                        case 32: { spellid += 50; break; }
                                                        case 33: { spellid += 40; break; }
                                                        case 34: { spellid += 170; break; }
                                                    }
                                                    if (WindwalkerSkills(client, spellid) == "Learned")
                                                    {
                                                        dialog.Text("FellowBrother has already acquired this skill. Go practice and feel its power.");

                                                        dialog.Option("Okay.", 2);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    else if (WindwalkerSkills(client, spellid) == "Available")
                                                    {
                                                        client.AddSpell(LearnableSpell(spellid));
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The study of [" + SpellTable.GetSpell(spellid, 0).Name + "] requires FellowBrother to reach a certain level. FellowBrother, you can find me when you reach the required Level.");

                                                        dialog.Option("I`ll~see~you!", 2);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region TaskmasterChang
                                case 8796:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Everyone wants to be a hero, and so do I, but Rome wasn`t built in a day.");
                                                    dialog.Text("~If you are dreaming of becoming a celebrity around here, I can help you get prepared. Please be noted that Reincarnated players can`t accept quests from me.");
                                                    if (client.Quests.GetQuest(QuestID.TempestWing) == null || client.Quests.CheckQuest(QuestID.TempestWing) == QuestPacket.QuestData.QuestStatus.Available || client.Quests.CheckQuest(QuestID.TempestWing) == QuestPacket.QuestData.QuestStatus.Accepted)
                                                        dialog.Option("TempestWings.~(Acceptable)", 1);
                                                    else
                                                        dialog.Option("TempestWings.~(Completed)", 2);
                                                    dialog.Option("See~you~later.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    dialog.Text("You`ve already completed the quest, haven`t you?");
                                                    dialog.Option("Yeah,~you`re~right.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Entity.Teleport(1011, 213, 200);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Promotion Center
                                #region [LeadPerformer]
                                case 7776:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                dialog.Text(
                                                    "Hello there! Please allow me to introduce to you the sub-class of Performers to you. "
                                                    + "Performers are gifted in the harmonizing of song and swordplay into "
                                                    + "beautiful, unique dances. These dances will surely make you the center of "
                                                    + "people`s attention! Would you like to join us? After you join this sub-class, you "
                                                    + "can level it up and get promoted to learn more stylish dances.");
                                                if (!client.Entity.SubClasses.Classes.ContainsKey((byte)Subclasses.ClassID.Performer))
                                                    dialog.Option("Yes, I`d like to join it.", 1);
                                                dialog.Option("I want to get promoted.", 2);
                                                dialog.Option("How can I get promoted?", 3);
                                                dialog.Option("Learn UniqueDance?", 11);
                                                dialog.Option("Not my concern.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 1:
                                                dialog.Text(
                                                    "I`m glad that you are willing to be one of us. I`m sure your dances will be very "
                                                    + "charming. Still, there are a few requiriments you need to meet. Though "
                                                    + "players of all classes can join us, we only accept players who are over level "
                                                    + "70, and it takes 15 Orchids to pay the tuition fee. After joining the Performer "
                                                    + "sub-class, click open your character sheet and you`ll find the "
                                                    + "sub-class button on the left-hand corner. You may level up your sub-class on "
                                                    + "the sub-class button sheet. You need to meet a certain sub-class level to get "
                                                    + "promoted to higher sub-class phases.");
                                                dialog.Option("I see. Count me in.", 100);
                                                dialog.Option("Oh, it does not suit me.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 2:
                                                if (!client.Entity.SubClasses.Classes.ContainsKey((byte)Subclasses.ClassID.Performer))
                                                {
                                                    dialog.Text(
                                                        "You are not a Performer yet and can`t get promoted. Do you want to join the "
                                                        + "Performer sub-class now?");
                                                    dialog.Option("Yes, I`d like to join.", 1);
                                                    dialog.Option("Oh. Not now.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text(
                                                       "To promote to Phase " + (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Performer].Phase + 1).ToString() + " you must meet the requirements. have you meet "
                                                       + "them into the sub-class sheet?");
                                                    dialog.Option("Positive.", 200);
                                                    dialog.Option("Oh. not yet.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                            case 3:
                                                dialog.Text(
                                                    "Good day! Please spare me a few minutes so that I can tell you about the "
                                                    + "sub-classes in Twin City. Each Sub-Class has 9 phases, and the higher the "
                                                    + "phase is, the more bonus effects the sub-class will offer. But keep in mind "
                                                    + "that these sub-classes also have a level system and you need to level them "
                                                    + "up before you can get promoted. You can level up your sub-class by gaining "
                                                    + "study points.");
                                                dialog.Option("How can I get study points?", 30);
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 30:
                                                dialog.Text(
                                                    "Well, the only way to get those points is to read the sub-class books, such as "
                                                    + "the Diligence Book. When you`ve gained enough study points, open the "
                                                    + "sub-class sheet from the character panel and level up the sub-class there. "
                                                    + "Monsters in the wild are always bothering young adventurers, so you might "
                                                    + "find some books from them.");
                                                dialog.Option("Okay.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 100:
                                                if (PacketHandler.PassLearn((byte)Subclasses.ClassID.Performer, client.Entity))
                                                {
                                                    client.Entity.SubClasses.Classes.Add((byte)Subclasses.ClassID.Performer, new Conquord.Game.SubClass() { ID = (byte)Subclasses.ClassID.Performer, Level = 1, Phase = 1 });
                                                    SubClassTable.Insert(client.Entity, (byte)Subclasses.ClassID.Performer);
                                                    dialog.Text(
                                                        "Congratulations! You`ve learned the Performer way. Hope you use this power "
                                                        + "for the good of us all.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text(
                                                        "I`m sorry, you need to give me 15 Orchids and "
                                                        + "reach level 70 to join us.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                            case 11:
                                                {
                                                    dialog.Text("i can help you to learn all UniqueDance you should have Req SubClass and ");
                                                    dialog.Text("5,000 cps to Learn the dance what you wana Choose to learn? ");
                                                    dialog.Option("BattleDance[P1].", 12);
                                                    dialog.Option("Triumph[P3].", 13);
                                                    dialog.Option("StepStomp[P5].", 14);
                                                    dialog.Option("MoonLight[P7].", 15);
                                                    dialog.Option("SnowWind[P9].", 16);
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                            case 12:

                                                if (client.Entity.SubClasses.Classes.ContainsKey((byte)Subclasses.ClassID.Performer))
                                                {
                                                    if (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Performer].Phase >= 1 && client.Entity.ConquerPoints >= 5000)
                                                    {
                                                        client.AddSpell(new Spell(true) { ID = 1415 });
                                                        client.Entity.ConquerPoints -= 5000;
                                                        dialog.Text(
                                                            "Congratulations! You`ve learned the BattleDance . Hope you use this power "
                                                            + "for the good of us all.");
                                                        dialog.Option("Thanks", 255);
                                                        dialog.Avatar(100);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text(
                                                        "I`m sorry, you dont have Enought cps or the Req Phase.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                            case 13:
                                                if (client.Entity.SubClasses.Classes.ContainsKey((byte)Subclasses.ClassID.Performer))
                                                {
                                                    if (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Performer].Phase >= 3 && client.Entity.ConquerPoints >= 5000)
                                                    {
                                                        client.AddSpell(new Spell(true) { ID = 1416 });
                                                        client.Entity.ConquerPoints -= 5000;
                                                        dialog.Text(
                                                            "Congratulations! You`ve learned the Triumph. Hope you use this power "
                                                            + "for the good of us all.");
                                                        dialog.Option("Thanks", 255);
                                                        dialog.Avatar(100);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text(
                                                        "I`m sorry, you dont have Enought cps or the Req Phase.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                            case 14:
                                                if (client.Entity.SubClasses.Classes.ContainsKey((byte)Subclasses.ClassID.Performer))
                                                {
                                                    if (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Performer].Phase >= 5 && client.Entity.ConquerPoints >= 5000)
                                                    {
                                                        client.AddSpell(new Spell(true) { ID = 1417 });
                                                        client.Entity.ConquerPoints -= 5000;
                                                        dialog.Text(
                                                            "Congratulations! You`ve learned the StepStomp. Hope you use this power "
                                                            + "for the good of us all.");
                                                        dialog.Option("Thanks", 255);
                                                        dialog.Avatar(100);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text(
                                                        "I`m sorry, you dont have Enought cps or the Req Phase.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                            case 15:
                                                if (client.Entity.SubClasses.Classes.ContainsKey((byte)Subclasses.ClassID.Performer))
                                                {
                                                    if (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Performer].Phase >= 7 && client.Entity.ConquerPoints >= 5000)
                                                    {
                                                        client.AddSpell(new Spell(true) { ID = 1418 });
                                                        client.Entity.ConquerPoints -= 5000;
                                                        dialog.Text(
                                                            "Congratulations! You`ve learned the MoonLight. Hope you use this power "
                                                            + "for the good of us all.");
                                                        dialog.Option("Thanks", 255);
                                                        dialog.Avatar(100);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text(
                                                        "I`m sorry, you dont have Enought cps or the Req Phase.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                            case 16:
                                                if (client.Entity.SubClasses.Classes.ContainsKey((byte)Subclasses.ClassID.Performer))
                                                {
                                                    if (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Performer].Phase >= 9 && client.Entity.ConquerPoints >= 5000)
                                                    {
                                                        client.AddSpell(new Spell(true) { ID = 1419 });
                                                        client.Entity.ConquerPoints -= 5000;
                                                        dialog.Text(
                                                            "Congratulations! You`ve learned the SnowWind. Hope you use this power "
                                                            + "for the good of us all.");
                                                        dialog.Option("Thanks", 255);
                                                        dialog.Avatar(100);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text(
                                                        "I`m sorry, you dont have Enought cps or the Req Phase.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                            case 200:
                                                if (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Performer].Phase == 9)
                                                {
                                                    dialog.Text("Your sub-class phase is already 9, you can`t promote it anymore!");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Performer].Phase < client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Performer].Level)
                                                {
                                                    client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Performer].Phase++;
                                                    Database.SubClassTable.Update(client.Entity, client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Performer]);
                                                    dialog.Text("You have promoted your sub-class successfully.");
                                                    dialog.Option("Oh, Thanks.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("I`m sorry, you don`t meet the requirements yet.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                        }
                                        break;
                                    }
                                #endregion
                                #region [LeadApothecary]
                                case 7777:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                dialog.Text(
                                                    "Hello there! Please allow me to introduce to you the sub-class of the "
                                                    + "Apothecary. An Apothecary is a master of various oriental herbs and can use  "
                                                    + "their healing powers to protect themselves from poison damage. Would you "
                                                    + "like to join us? After you join this sub-class, you can level it up and get "
                                                    + "promoted to gain more protection.");
                                                if (!client.Entity.SubClasses.Classes.ContainsKey((byte)Subclasses.ClassID.Apothecary))
                                                    dialog.Option("Yes, I`d like to join it.", 1);
                                                dialog.Option("I want to get promoted.", 2);
                                                dialog.Option("How can I get promoted?", 3);
                                                dialog.Option("Not my concern.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 1:
                                                dialog.Text(
                                                    "I`m glad that you desire to become one of us. I`m sure you`ll make a capable  "
                                                    + "Apothecary. Still, there are a few requiriments you need to meet. Though "
                                                    + "players of all classes can join us, we only accept players who are over level "
                                                    + "70, and it takes 10 Meteor Tears to pay the tuition fee. After joining the "
                                                    + "Apothecary sub-class, click open your character sheet and you`ll find the "
                                                    + "sub-class button on the left-hand corner. You may level up your sub-class on "
                                                    + "the sub-class button sheet. You need to meet a certain sub-class level to get "
                                                    + "promoted to higher sub-class phases.");
                                                dialog.Option("I see. Count me in.", 100);
                                                dialog.Option("Oh, it does not suit me.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 2:
                                                if (!client.Entity.SubClasses.Classes.ContainsKey((byte)Subclasses.ClassID.Apothecary))
                                                {
                                                    dialog.Text(
                                                        "You are not a Apothecary yet and can`t get promoted. Do you want to join the "
                                                        + "Apothecary sub-class now?");
                                                    dialog.Option("Yes, I`d like to join.", 1);
                                                    dialog.Option("Oh. Not now.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text(
                                                       "To promote to Phase " + (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Apothecary].Phase + 1).ToString() + " you must meet the requirements. have you meet "
                                                       + "them into the sub-class sheet?");
                                                    dialog.Option("Positive.", 200);
                                                    dialog.Option("Oh. not yet.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                            case 3:
                                                dialog.Text(
                                                    "Good day! Please spare me a few minutes so that I can tell you about the "
                                                    + "sub-classes in Twin City. Each Sub-Class has 9 phases, and the higher the "
                                                    + "phase is, the more bonus effects the sub-class will offer. But keep in mind "
                                                    + "that these sub-classes also have a level system and you need to level them "
                                                    + "up before you can get promoted. You can level up your sub-class by gaining "
                                                    + "study points.");
                                                dialog.Option("How can I get study points?", 30);
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 30:
                                                dialog.Text(
                                                    "Well, the only way to get those points is to read the sub-class books, such as "
                                                    + "the Diligence Book. When you`ve gained enough study points, open the "
                                                    + "sub-class sheet from the character panel and level up the sub-class there. "
                                                    + "Monsters in the wild are always bothering young adventurers, so you might "
                                                    + "find some books from them.");
                                                dialog.Option("Okay.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 100:
                                                if (PacketHandler.PassLearn((byte)Subclasses.ClassID.Apothecary, client.Entity))
                                                {
                                                    client.Entity.SubClasses.Classes.Add((byte)Subclasses.ClassID.Apothecary, new Game.SubClass() { ID = (byte)Subclasses.ClassID.Apothecary, Level = 1, Phase = 1 });
                                                    Database.SubClassTable.Insert(client.Entity, (byte)Subclasses.ClassID.Apothecary);
                                                    dialog.Text(
                                                        "Congratulations! You`ve learned the Apothecary way. Hope you use this power "
                                                        + "for the good of us all.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text(
                                                        "I`m sorry, you need to give me 10 Meteor Tears and "
                                                        + "reach level 70 to join us.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                            case 200:
                                                if (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Apothecary].Phase == 9)
                                                {
                                                    dialog.Text("Your sub-class phase is already 9, you can`t promote it anymore!");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Apothecary].Phase < client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Apothecary].Level)
                                                {
                                                    client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Apothecary].Phase++;
                                                    dialog.Text("You have promoted your sub-class successfully.");
                                                    dialog.Option("Oh, Thanks.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                    Database.SubClassTable.Update(client.Entity, client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Apothecary]);
                                                }
                                                else
                                                {
                                                    dialog.Text("I`m sorry, you don`t meet the requirements yet.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                        }
                                        break;
                                    }
                                #endregion
                                #region [LeadMartialArtist]
                                case 7778:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                dialog.Text(
                                                    "Hello there! You look quite capable. Perhaps you`ll make a great Martial "
                                                    + "Artist. Please allow me to explain the MartialArtist sub-class. The Martial "
                                                    + "Artist`s awesome displays of ombat prowess are a wonder to behold, but a "
                                                    + "nightmare to face. When you are a martial Artist, you will be able to increase "
                                                    + "the chances of hitting with 1.5x Attack Power! Would you like to join us? After "
                                                    + "you join this sub-class, you can level it up and get promoted to increase your "
                                                    + "chances of hitting your enemies with more power!");
                                                if (!client.Entity.SubClasses.Classes.ContainsKey((byte)Subclasses.ClassID.MartialArtist))
                                                    dialog.Option("Yes, I`d like to join it.", 1);
                                                dialog.Option("I want to get promoted.", 2);
                                                dialog.Option("How can I get promoted?", 3);
                                                dialog.Option("Not my concern.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 1:
                                                dialog.Text(
                                                    "I`m glad that you are willing to be one of us. I`m sure you will distinguish "
                                                    + "yourself with your combat ability in no time. Still, there are a few requiriments "
                                                    + "you need to meet. Though players of all classes can join us, we only accept "
                                                    + "players who are over level 70, and it takes 5 Celestial Stones to pay the tuition "
                                                    + "fee. After joining the Martial Artist sub-class, click open your character sheet "
                                                    + "and you`ll find the sub-class button on the left-hand corner. You may level up "
                                                    + "your sub-class on the sub-class button sheet. You need to meet a certain sub-class "
                                                    + "level to get promoted to higher sub-class phases.");
                                                dialog.Option("I see. Count me in.", 100);
                                                dialog.Option("Oh, it does not suit me.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 2:
                                                if (!client.Entity.SubClasses.Classes.ContainsKey((byte)Subclasses.ClassID.MartialArtist))
                                                {
                                                    dialog.Text(
                                                        "You are not a Martial Artist yet and can`t get promoted. Do you want to join the "
                                                        + "Martial Artist sub-class now?");
                                                    dialog.Option("Yes, I`d like to join.", 1);
                                                    dialog.Option("Oh. Not now.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text(
                                                       "To promote to Phase " + (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.MartialArtist].Phase + 1).ToString() + " you must meet the requirements. have you meet "
                                                       + "them into the sub-class sheet?");
                                                    dialog.Option("Positive.", 200);
                                                    dialog.Option("Oh. not yet.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                            case 3:
                                                dialog.Text(
                                                    "Good day! Please spare me a few minutes so that I can tell you about the "
                                                    + "sub-classes in Twin City. Each Sub-Class has 9 phases, and the higher the "
                                                    + "phase is, the more bonus effects the sub-class will offer. But keep in mind "
                                                    + "that these sub-classes also have a level system and you need to level them "
                                                    + "up before you can get promoted. You can level up your sub-class by gaining "
                                                    + "study points.");
                                                dialog.Option("How can I get study points?", 30);
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 30:
                                                dialog.Text(
                                                    "Well, the only way to get those points is to read the sub-class books, such as "
                                                    + "the Diligence Book. When you`ve gained enough study points, open the "
                                                    + "sub-class sheet from the character panel and level up the sub-class there. "
                                                    + "Monsters in the wild are always bothering young adventurers, so you might "
                                                    + "find some books from them.");
                                                dialog.Option("Okay.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 100:
                                                if (PacketHandler.PassLearn((byte)Subclasses.ClassID.MartialArtist, client.Entity))
                                                {
                                                    client.Entity.SubClasses.Classes.Add((byte)Subclasses.ClassID.MartialArtist, new Game.SubClass() { ID = (byte)Subclasses.ClassID.MartialArtist, Level = 1, Phase = 1 });
                                                    Database.SubClassTable.Insert(client.Entity, (byte)Subclasses.ClassID.MartialArtist);
                                                    dialog.Text(
                                                        "Congratulations! You`ve learned the Martial Artist way. Hope you use this power "
                                                        + "for the good of us all.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text(
                                                        "I`m sorry, you need to buy 5 Celestial Stones from the Great Merchant and "
                                                        + "reach level 70 to join us.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                            case 200:
                                                if (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.MartialArtist].Phase == 9)
                                                {
                                                    dialog.Text("Your sub-class phase is already 9, you can`t promote it anymore!");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.MartialArtist].Phase < client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.MartialArtist].Level)
                                                {
                                                    client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.MartialArtist].Phase++;
                                                    dialog.Text("You have promoted your sub-class successfully.");
                                                    dialog.Option("Oh, Thanks.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                    Database.SubClassTable.Update(client.Entity, client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.MartialArtist]);
                                                }
                                                else
                                                {
                                                    dialog.Text("I`m sorry, you don`t meet the requirements yet.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                        }
                                        break;
                                    }
                                #endregion
                                #region [LeadChiMaster]
                                case 355910:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                dialog.Text(
                                                    "Hello there! Please allow me to introduce to you the sub-class of the Chi "
                                                    + "Master. The Chi Master is a potent combatant so versed in counter attacks, "
                                                    + "that they have a chance of preventing their enemy from landing Critical "
                                                    + "Strikes! Would you like to join us? After you join this sub-class you can level"
                                                    + "it up and get promoted to increase your immunity to critical strikes.");
                                                if (!client.Entity.SubClasses.Classes.ContainsKey((byte)Subclasses.ClassID.ChiMaster))
                                                    dialog.Option("Yes, I`d like to join it.", 1);
                                                dialog.Option("I want to get promoted.", 2);
                                                dialog.Option("How can I get promoted?", 3);
                                                dialog.Option("Where to buy Yin-Yang Fruits?", 4);
                                                dialog.Option("Not my concern.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 1:
                                                dialog.Text(
                                                    "I`m glad that you are willing to be one of us. I`m sure you`ll make a capable "
                                                    + "Chi Master. Still, there are a few requiriments you need to meet. Though "
                                                    + "players of all classes can join us, we only accept players who are over level "
                                                    + "70, and it takes 1 Yin-Yang Fruit to pay the tuition fee. You can pay 10,000 "
                                                    + "Horse Racing points to the Horse Race Manager to buy one. After joining the "
                                                    + "Chi Master sub-class, click open your character sheet and you`ll find the "
                                                    + "sub-class button on the left-hand corner. You may level up your sub-class on "
                                                    + "the sub-class button sheet. You need to meet a certain sub-class level to get "
                                                    + "promoted to higher sub-class phases.");
                                                dialog.Option("I see. Count me in.", 100);
                                                dialog.Option("Oh, it does not suit me.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 2:
                                                if (!client.Entity.SubClasses.Classes.ContainsKey((byte)Subclasses.ClassID.ChiMaster))
                                                {
                                                    dialog.Text(
                                                        "You are not a Chi Master yet and can`t get promoted. Do you want to join the "
                                                        + "Chi Master sub-class now?");
                                                    dialog.Option("Yes, I`d like to join.", 1);
                                                    dialog.Option("Oh. Not now.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text(
                                                       "To promote to Phase " + client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.ChiMaster].Phase + 1 + " you must meet the requirements. have you meet "
                                                       + "them into the sub-class sheet?");
                                                    dialog.Option("Positive.", 200);
                                                    dialog.Option("Oh. not yet.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                            case 3:
                                                dialog.Text(
                                                    "Good day! Please spare me a few minutes so that I can tell you about the "
                                                    + "sub-classes in Twin City. Each Sub-Class has 9 phases, and the higher the "
                                                    + "phase is, the more bonus effects the sub-class will offer. But keep in mind "
                                                    + "that these sub-classes also have a level system and you need to level them "
                                                    + "up before you can get promoted. You can level up your sub-class by gaining "
                                                    + "study points.");
                                                dialog.Option("How can I get study points?", 30);
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 30:
                                                dialog.Text(
                                                    "Well, the only way to get those points is to read the sub-class books, such as "
                                                    + "the Diligence Book. When you`ve gained enough study points, open the "
                                                    + "sub-class sheet from the character panel and level up the sub-class there. "
                                                    + "Monsters in the wild are always bothering young adventurers, so you might "
                                                    + "find some books from them.");
                                                dialog.Option("Okay.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 4:
                                                dialog.Text(
                                                    "You may pay 10,000 Horse Racing points to the Horse Race Manager to buy "
                                                    + "a Yin-Yang Fruit.");
                                                dialog.Option("Thanks.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 100:
                                                if (PacketHandler.PassLearn((byte)Subclasses.ClassID.ChiMaster, client.Entity))
                                                {
                                                    client.Entity.SubClasses.Classes.Add((byte)Subclasses.ClassID.ChiMaster, new Game.SubClass() { ID = (byte)Subclasses.ClassID.ChiMaster, Level = 1, Phase = 1 });
                                                    Database.SubClassTable.Insert(client.Entity, (byte)Subclasses.ClassID.ChiMaster);
                                                    dialog.Text(
                                                        "Congratulations! You`ve learned the Chi Masters way. Hope you use this power "
                                                        + "for the good of us all.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text(
                                                        "I`m sorry, you need to buy a Yin-Yang Fruit from the Horse Race Manager and "
                                                        + "reach level 70 to join us.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                            case 200:
                                                if (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.ChiMaster].Phase == 9)
                                                {
                                                    dialog.Text("Your sub-class phase is already 9, you can`t promote it anymore!");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.ChiMaster].Phase < client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.ChiMaster].Level)
                                                {
                                                    client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.ChiMaster].Phase++;
                                                    dialog.Text("You have promoted your sub-class successfully.");
                                                    dialog.Option("Oh, Thanks.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                    Database.SubClassTable.Update(client.Entity, client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.ChiMaster]);
                                                }
                                                else
                                                {
                                                    dialog.Text("I`m sorry, you don`t meet the requirements yet.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                        }
                                        break;
                                    }
                                #endregion
                                #region [Wrangler]
                                case 8616:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                dialog.Text(
                                                    "Good day! Have you ever wondered what a Wrangler is? Well, please allow "
                                                    + "me to introduce this sub-class to you. Wrangler are masters of the "
                                                    + "MaxHp energies and can increase! "
                                                    + "Isn`t that wonderful? Would you like to join us? After you join "
                                                    + "this sub-class, you can level it up and get promoted to increase your power!");
                                                if (!client.Entity.SubClasses.Classes.ContainsKey((byte)Subclasses.ClassID.Wrangler))
                                                    dialog.Option("Yes, I`d like to join it.", 1);
                                                dialog.Option("I want to get promoted.", 2);
                                                dialog.Option("How can I get promoted?", 3);
                                                dialog.Option("Not my concern.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 1:
                                                dialog.Text(
                                                    "I`m glad that you are willing to be one of us. I`m sure you will make a great "
                                                    + "Wrangler. Still, there are a few requiriments you need to meet. Though players "
                                                    + "of all classes can join us, we only accept players who are over level 70, and it "
                                                    + "takes 40 Saddle`s to pay the tuition fee. After joining the Wrangler sub-class, "
                                                    + "click open your character sheet and you`ll find the sub-class button on the "
                                                    + "left-hand corner. You may level up your sub-class on the sub-class button sheet. You "
                                                    + "need to meet a certain sub-class level to get promoted to higher sub-class "
                                                    + "phases.");
                                                dialog.Option("I see. Count me in.", 100);
                                                dialog.Option("Oh, it does not suit me.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 2:
                                                if (!client.Entity.SubClasses.Classes.ContainsKey((byte)Subclasses.ClassID.Wrangler))
                                                {
                                                    dialog.Text(
                                                        "You are not a Wrangler yet and can`t get promoted. Do you want to join the "
                                                        + "Warlock sub-class now?");
                                                    dialog.Option("Yes, I`d like to join.", 1);
                                                    dialog.Option("Oh. Not now.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text(
                                                       "To promote to Phase " + (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Wrangler].Phase + 1).ToString() + " you must meet the requirements. have you meet "
                                                       + "them into the sub-class sheet?");
                                                    dialog.Option("Positive.", 200);
                                                    dialog.Option("Oh. not yet.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                            case 3:
                                                dialog.Text(
                                                    "Good day! Please spare me a few minutes so that I can tell you about the "
                                                    + "sub-classes in Twin City. Each Sub-Class has 9 phases, and the higher the "
                                                    + "phase is, the more bonus effects the sub-class will offer. But keep in mind "
                                                    + "that these sub-classes also have a level system and you need to level them "
                                                    + "up before you can get promoted. You can level up your sub-class by gaining "
                                                    + "study points.");
                                                dialog.Option("How can I get study points?", 30);
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 30:
                                                dialog.Text(
                                                    "Well, the only way to get those points is to read the sub-class books, such as "
                                                    + "the Diligence Book. When you`ve gained enough study points, open the "
                                                    + "sub-class sheet from the character panel and level up the sub-class there. "
                                                    + "Monsters in the wild are always bothering young adventurers, so you might "
                                                    + "find some books from them.");
                                                dialog.Option("Okay.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 100:
                                                if (PacketHandler.PassLearn((byte)Subclasses.ClassID.Wrangler, client.Entity))
                                                {
                                                    client.Entity.SubClasses.Classes.Add((byte)Subclasses.ClassID.Wrangler, new Game.SubClass() { ID = (byte)Subclasses.ClassID.Wrangler, Level = 1, Phase = 1 });
                                                    Database.SubClassTable.Insert(client.Entity, (byte)Subclasses.ClassID.Wrangler);
                                                    dialog.Text(
                                                        "Congratulations! You`ve learned the Wrangler way. Hope you use this power "
                                                        + "for the good of us all.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text(
                                                        "I`m sorry, you need to give me 40 Saddle's and "
                                                        + "reach level 70 to join us.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                            case 200:
                                                if (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Wrangler].Phase == 9)
                                                {
                                                    dialog.Text("Your sub-class phase is already 9, you can`t promote it anymore!");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Wrangler].Phase < client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Wrangler].Level)
                                                {
                                                    client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Wrangler].Phase++;
                                                    dialog.Text("You have promoted your sub-class successfully.");
                                                    dialog.Option("Oh, Thanks.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                    Database.SubClassTable.Update(client.Entity, client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Wrangler]);
                                                }
                                                else
                                                {
                                                    dialog.Text("I`m sorry, you don`t meet the requirements yet.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                        }
                                        break;
                                    }
                                #endregion
                                #region [LeadSage]
                                case 7780:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                dialog.Text(
                                                    "Hello, my friend. Are you here to join the Sage sub-class? Before we start, "
                                                    + "please allow me to introduce this sub-class to you. Sages have strong "
                                                    + "spiritual powers and have a gruesome ability to reduce a target`s Magical "
                                                    + "Defense. This is very helpful in defeating those who might underestimate "
                                                    + "your power! Would you like to join us? After you join this sub-class, you can "
                                                    + "level it up and get promoted to reduce more of your target`s Magical Defense.");
                                                if (!client.Entity.SubClasses.Classes.ContainsKey((byte)Game.Subclasses.ClassID.Sage))
                                                    dialog.Option("Yes, I`d like to join it.", 1);
                                                dialog.Option("I want to get promoted.", 2);
                                                dialog.Option("How can I get promoted?", 3);
                                                dialog.Option("Not my concern.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 1:
                                                dialog.Text(
                                                    "I`m glad that you are willing to be one of us. I`m sure you will be a fantastic "
                                                    + "Sage. Still, there are a few requiriments you need to meet. Though players "
                                                    + "of all classes can join us, we only accept players who are over level 70, and it "
                                                    + "takes 20 Lucky Amulets to pay the tuition fee. After joining the Sage sub-class, "
                                                    + "click open your character sheet and you`ll find the sub-class button on the "
                                                    + "left-hand corner. You may level up your sub-class on the sub-class button sheet. You "
                                                    + "need to meet a certain sub-class level to get promoted to higher sub-class "
                                                    + "phases.");
                                                dialog.Option("I see. Count me in.", 100);
                                                dialog.Option("Oh, it does not suit me.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 2:
                                                if (!client.Entity.SubClasses.Classes.ContainsKey((byte)Subclasses.ClassID.Sage))
                                                {
                                                    dialog.Text(
                                                        "You are not a Sage yet and can`t get promoted. Do you want to join the "
                                                        + "Sage sub-class now?");
                                                    dialog.Option("Yes, I`d like to join.", 1);
                                                    dialog.Option("Oh. Not now.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text(
                                                       "To promote to Phase " + (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Sage].Phase + 1).ToString() + " you must meet the requirements. have you meet "
                                                       + "them into the sub-class sheet?");
                                                    dialog.Option("Positive.", 200);
                                                    dialog.Option("Oh. not yet.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                            case 3:
                                                dialog.Text(
                                                    "Good day! Please spare me a few minutes so that I can tell you about the "
                                                    + "sub-classes in Twin City. Each Sub-Class has 9 phases, and the higher the "
                                                    + "phase is, the more bonus effects the sub-class will offer. But keep in mind "
                                                    + "that these sub-classes also have a level system and you need to level them "
                                                    + "up before you can get promoted. You can level up your sub-class by gaining "
                                                    + "study points.");
                                                dialog.Option("How can I get study points?", 30);
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 30:
                                                dialog.Text(
                                                    "Well, the only way to get those points is to read the sub-class books, such as "
                                                    + "the Diligence Book. When you`ve gained enough study points, open the "
                                                    + "sub-class sheet from the character panel and level up the sub-class there. "
                                                    + "Monsters in the wild are always bothering young adventurers, so you might "
                                                    + "find some books from them.");
                                                dialog.Option("Okay.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 100:
                                                if (PacketHandler.PassLearn((byte)Subclasses.ClassID.Sage, client.Entity))
                                                {
                                                    client.Entity.SubClasses.Classes.Add((byte)Subclasses.ClassID.Sage, new Game.SubClass() { ID = (byte)Subclasses.ClassID.Sage, Level = 1, Phase = 1 });
                                                    Database.SubClassTable.Insert(client.Entity, (byte)Subclasses.ClassID.Sage);
                                                    dialog.Text(
                                                        "Congratulations! You`ve learned the Sage way. Hope you use this power "
                                                        + "for the good of us all.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text(
                                                        "I`m sorry, you need to give me 20 Lucky Amulets and "
                                                        + "reach level 70 to join us.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                            case 200:
                                                if (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Sage].Phase == 9)
                                                {
                                                    dialog.Text("Your sub-class phase is already 9, you can`t promote it anymore!");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Sage].Phase < client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Sage].Level)
                                                {
                                                    client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Sage].Phase++;
                                                    dialog.Text("You have promoted your sub-class successfully.");
                                                    dialog.Option("Oh, Thanks.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                    Database.SubClassTable.Update(client.Entity, client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Sage]);
                                                }
                                                else
                                                {
                                                    dialog.Text("I`m sorry, you don`t meet the requirements yet.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                        }
                                        break;
                                    }
                                #endregion
                                #region [LeadWarlock]
                                case 7779:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                dialog.Text(
                                                    "Good day! Have you ever wondered what a Warlock is? Well, please allow "
                                                    + "me to introduce this sub-class to you. Warlocks are masters of the "
                                                    + "psionic energies and can increase their chances of casting spells with 2x "
                                                    + "Magical Attack. Isn`t that wonderful? Would you like to join us? After you join "
                                                    + "this sub-class, you can level it up and get promoted to increase your power!");
                                                if (!client.Entity.SubClasses.Classes.ContainsKey((byte)Subclasses.ClassID.Warlock))
                                                    dialog.Option("Yes, I`d like to join it.", 1);
                                                dialog.Option("I want to get promoted.", 2);
                                                dialog.Option("How can I get promoted?", 3);
                                                dialog.Option("Not my concern.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 1:
                                                dialog.Text(
                                                    "I`m glad that you are willing to be one of us. I`m sure you will make a great "
                                                    + "Warlock. Still, there are a few requiriments you need to meet. Though players "
                                                    + "of all classes can join us, we only accept players who are over level 70, and it "
                                                    + "takes 10 Emeralds to pay the tuition fee. After joining the Warlock sub-class, "
                                                    + "click open your character sheet and you`ll find the sub-class button on the "
                                                    + "left-hand corner. You may level up your sub-class on the sub-class button sheet. You "
                                                    + "need to meet a certain sub-class level to get promoted to higher sub-class "
                                                    + "phases.");
                                                dialog.Option("I see. Count me in. [10 Emeralds]", 100);
                                                dialog.Option("Oh, it does not suit me.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 2:
                                                if (!client.Entity.SubClasses.Classes.ContainsKey((byte)Subclasses.ClassID.Warlock))
                                                {
                                                    dialog.Text(
                                                        "You are not a Warlock yet and can`t get promoted. Do you want to join the "
                                                        + "Warlock sub-class now?");
                                                    dialog.Option("Yes, I`d like to join.", 1);
                                                    dialog.Option("Oh. Not now.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text(
                                                       "To promote to Phase " + (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Warlock].Phase + 1).ToString() + " you must meet the requirements. have you meet "
                                                       + "them into the sub-class sheet?");
                                                    dialog.Option("Positive.", 200);
                                                    dialog.Option("Oh. not yet.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                            case 3:
                                                dialog.Text(
                                                    "Good day! Please spare me a few minutes so that I can tell you about the "
                                                    + "sub-classes in Twin City. Each Sub-Class has 9 phases, and the higher the "
                                                    + "phase is, the more bonus effects the sub-class will offer. But keep in mind "
                                                    + "that these sub-classes also have a level system and you need to level them "
                                                    + "up before you can get promoted. You can level up your sub-class by gaining "
                                                    + "study points.");
                                                dialog.Option("How can I get study points?", 30);
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 30:
                                                dialog.Text(
                                                    "Well, the only way to get those points is to read the sub-class books, such as "
                                                    + "the Diligence Book. When you`ve gained enough study points, open the "
                                                    + "sub-class sheet from the character panel and level up the sub-class there. "
                                                    + "Monsters in the wild are always bothering young adventurers, so you might "
                                                    + "find some books from them.");
                                                dialog.Option("Okay.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                break;
                                            case 100:
                                                if (PacketHandler.PassLearn((byte)Subclasses.ClassID.Warlock, client.Entity))
                                                {
                                                    client.Entity.SubClasses.Classes.Add((byte)Subclasses.ClassID.Warlock, new Game.SubClass() { ID = (byte)Subclasses.ClassID.Warlock, Level = 1, Phase = 1 });
                                                    Database.SubClassTable.Insert(client.Entity, (byte)Subclasses.ClassID.Warlock);
                                                    dialog.Text(
                                                        "Congratulations! You`ve learned the Warlock way. Hope you use this power "
                                                        + "for the good of us all.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text(
                                                        "I`m sorry, you need to give me 10 Bombs and "
                                                        + "reach level 70 to join us.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                            case 200:
                                                if (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Warlock].Phase == 9)
                                                {
                                                    dialog.Text("Your sub-class phase is already 9, you can`t promote it anymore!");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Warlock].Phase < client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Warlock].Level)
                                                {
                                                    client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Warlock].Phase++;
                                                    dialog.Text("You have promoted your sub-class successfully.");
                                                    dialog.Option("Oh, Thanks.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                    Database.SubClassTable.Update(client.Entity, client.Entity.SubClasses.Classes[(byte)Subclasses.ClassID.Warlock]);
                                                }
                                                else
                                                {
                                                    dialog.Text("I`m sorry, you don`t meet the requirements yet.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                                break;
                                        }
                                        break;
                                    }
                                #endregion
                                #region subclass manger
                                case 8591:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("In addition to the existing 7 classes, there are 7 sub-classes for you to choose, which will grant you many bonus effects.");
                                                    dialog.Text(" The 7 sub-classes are Apothecary, Chi Master, Martial Artist, Warlock, Sage, Performer, Lead Wrangler. Do you want to choose a sub-class to");
                                                    dialog.Text("~enhance the strength of your character?");

                                                    dialog.Option("Sub-Class~Hall", 1);
                                                    dialog.Option("See~you~later.", 255);
                                                    dialog.Avatar(76);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Entity.Teleport(1252, 51, 71);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region PiratePromete
                                case 4272:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                    {
                                                        dialog.Text("I am the Pirate trainer, master of balence in destruction and harmony.\nWhat do you seek, young Pirate?");
                                                        dialog.Option("Promote me.", 1);
                                                        dialog.Option("Learn skills.", 2);
                                                        dialog.Option("Wait a minute.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #region Promote
                                            case 1:
                                                {
                                                    if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                    {
                                                        if (client.Entity.Class == 75)
                                                        {
                                                            dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("To promote now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                            dialog.Option("Promote me sir.", 3);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                    {
                                                        if (client.Entity.Class == 75)
                                                        {
                                                            dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {

                                                            if (client.PromoteItemNeed == 721020)
                                                            {
                                                                if (client.Inventory.Remove("moonbox"))
                                                                {
                                                                    client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                    client.Entity.Class++;
                                                                    _String str = new _String(true);
                                                                    str.UID = client.Entity.UID;
                                                                    str.TextsCount = 1;
                                                                    str.Type = _String.Effect;
                                                                    str.Texts.Add("end_task");
                                                                    client.SendScreen(str, true);
                                                                    dialog.Text("Congratulations! You have been promoted.");
                                                                    dialog.Option("Thank you master.", 255);
                                                                    dialog.Send();
                                                                }
                                                                else
                                                                {
                                                                    dialog.Text("You don't meet the requierments.");
                                                                    dialog.Option("Ahh.", 255);
                                                                    dialog.Send();
                                                                }
                                                                return;
                                                            }
                                                            if (client.Inventory.Contains(client.PromoteItemNeed, client.PromoteItemCountNeed) && client.Entity.Level >= client.PromoteLevelNeed)
                                                            {
                                                                client.Inventory.Remove(client.PromoteItemNeed, client.PromoteItemCountNeed);
                                                                client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                client.Entity.Class++;
                                                                _String str = new _String(true);
                                                                str.UID = client.Entity.UID;
                                                                str.TextsCount = 1;
                                                                str.Type = _String.Effect;
                                                                str.Texts.Add("end_task");
                                                                client.SendScreen(str, true);
                                                                dialog.Text("Congratulations! You have been promoted.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't meet the requierments.");
                                                                dialog.Option("Ahh.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Skills
                                            case 2:
                                                {
                                                    if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                    {
                                                        dialog.Text("Let me know what you want to learn.");
                                                        dialog.Option("BladeTempest (Lvl 15).", 6);
                                                        dialog.Option("ScurvyBomb (XP) (Lvl 15) ", 7);
                                                        dialog.Option("CannonBarrage (Lvl 15)", 8);
                                                        dialog.Option("BlackbeardRage (Lvl 15)", 9);
                                                        dialog.Option("GaleBomb (Lvl 15)", 10);
                                                        dialog.Option("KrakensRevenge (Lvl 15)", 11);
                                                        dialog.Option("BlackSpot (Lvl 15)", 12);
                                                        dialog.Option("Next!", 5);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                    {
                                                        dialog.Text("Which aura do you want to learn?");
                                                        dialog.Option("AdrenalineRush (Lvl 15).", 13);
                                                        dialog.Option("EagleEye (Lvl 15).", 14);
                                                        dialog.Option("WindStorm (Lvl 5).", 15);
                                                        dialog.Option("Back to skills.", 2);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                    {
                                                        if (client.Entity.Level >= 15)
                                                        {
                                                            dialog.Text("You have learned BladeTempest.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(11110)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 15 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 7:
                                                {
                                                    if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                    {
                                                        if (client.Entity.Level >= 15 && client.Entity.FirstRebornClass == 75 && client.Entity.SecondRebornClass == 75)
                                                        {
                                                            dialog.Text("You have learned the ScurvyBomb.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(11040)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 15 or more and to be a pure Pirate.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                    {
                                                        if (client.Entity.Level >= 15)
                                                        {
                                                            dialog.Text("You have learned CannonBarrage .");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(11050)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 15 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 9:
                                                {
                                                    if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                    {
                                                        if (client.Entity.Level >= 15)
                                                        {
                                                            dialog.Text("You have learned BlackbeardRage .");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(11060)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 15 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 10:
                                                {
                                                    if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                    {
                                                        if (client.Entity.Level >= 15)
                                                        {
                                                            dialog.Text("You have learned GaleBomb.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(11070)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 15 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 11:
                                                {
                                                    if (client.Entity.Class >= 70 && client.Entity.Class <= 75 && client.Entity.FirstRebornClass == 75 && client.Entity.SecondRebornClass == 75)
                                                    {
                                                        if (client.Entity.Level >= 15)
                                                        {
                                                            dialog.Text("You have learned KrakensRevenge.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(11100)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 15 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 12:
                                                {
                                                    if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                    {
                                                        if (client.Entity.Level >= 15)
                                                        {
                                                            dialog.Text("You have learned BlackSpot.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(11120)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 15 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 13:
                                                {
                                                    if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                    {
                                                        if (client.Entity.Level >= 15)
                                                        {
                                                            dialog.Text("You have learned AdrenalineRush.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(11130)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 15 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 14:
                                                {
                                                    if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                    {
                                                        if (client.Entity.Level >= 15)
                                                        {
                                                            dialog.Text("You have learned PiEagleEye .");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(11030)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 15 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 15:
                                                {
                                                    if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                    {
                                                        if (client.Entity.Level >= 5)
                                                        {
                                                            dialog.Text("You have learned WindStorm.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(11140)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 5 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 16:
                                                {
                                                    if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                    {
                                                        if (client.Entity.Level >= 15)
                                                        {
                                                            dialog.Text("You have learned Wood Elemental Aura.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(10421)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 15 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 17:
                                                {
                                                    if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                    {
                                                        if (client.Entity.Level >= 15)
                                                        {
                                                            dialog.Text("You have learned Water Elemental Aura.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(10422)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 15 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 18:
                                                {
                                                    if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                    {
                                                        if (client.Entity.Level >= 15)
                                                        {
                                                            dialog.Text("You have learned Fire Elemental Aura.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(10423)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 15 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 19:
                                                {
                                                    if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                    {
                                                        if (client.Entity.Level >= 100)
                                                        {
                                                            dialog.Text("You have learned Earth Elemental Aura.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(10424)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 100 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                        }
                                        break;
                                    }
                                #endregion
                                #region Monk
                                case 4271:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        dialog.Text("I am the monk trainer, master of balence in destruction and harmony.\nWhat do you seek, young monk?");
                                                        dialog.Option("Promote me.", 1);
                                                        dialog.Option("Learn skills.", 2);
                                                        dialog.Option("Epic skills.", 33);
                                                        dialog.Option("Wait a minute.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #region Promote
                                            case 1:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        if (client.Entity.Class == 65)
                                                        {
                                                            dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("To promote now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                            dialog.Option("Promote me sir.", 3);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        if (client.Entity.Class == 65)
                                                        {
                                                            dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {

                                                            if (client.PromoteItemNeed == 721020)
                                                            {
                                                                if (client.Inventory.Remove("moonbox"))
                                                                {
                                                                    client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                    client.Entity.Class++;
                                                                    dialog.Text("Congratulations! You have been promoted.");
                                                                    dialog.Option("Thank you master.", 255);
                                                                    dialog.Send();
                                                                }
                                                                else
                                                                {
                                                                    dialog.Text("You don't meet the requierments.");
                                                                    dialog.Option("Ahh.", 255);
                                                                    dialog.Send();
                                                                }
                                                                return;
                                                            }
                                                            if (client.Inventory.Contains(client.PromoteItemNeed, client.PromoteItemCountNeed) && client.Entity.Level >= client.PromoteLevelNeed)
                                                            {
                                                                client.Inventory.Remove(client.PromoteItemNeed, client.PromoteItemCountNeed);
                                                                client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                client.Entity.Class++;
                                                                dialog.Text("Congratulations! You have been promoted.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't meet the requierments.");
                                                                dialog.Option("Ahh.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Skills
                                            case 2:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        dialog.Text("Let me know what you want to learn.");
                                                        dialog.Option("Triple Attack (Lvl 5).", 6);
                                                        dialog.Option("Oblivion (XP) (Lvl 15)", 7);
                                                        dialog.Option("Whirlwind Kick (Lvl 15)", 8);
                                                        dialog.Option("Radiant Palm (Lvl 40)", 9);
                                                        dialog.Option("Serenity (Lvl 40)", 10);
                                                        dialog.Option("Tranquility (Lvl 70)", 11);
                                                        dialog.Option("Compassion (Lvl 100)", 12);
                                                        dialog.Option("Auras (Lvl 20->100)", 5);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        dialog.Text("Which aura do you want to learn?");
                                                        dialog.Option("Tyrant (Lvl 20).", 13);
                                                        dialog.Option("Fend (Lvl 20)", 14);
                                                        dialog.Option("Metal (Lvl 100)", 15);
                                                        dialog.Option("Wood (Lvl 100)", 16);
                                                        dialog.Option("Water (Lvl 100)", 17);
                                                        dialog.Option("Fire (Lvl 100)", 18);
                                                        dialog.Option("Earth (Lvl 100)", 19);
                                                        dialog.Option("Back to skills.", 2);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        if (client.Entity.Level >= 5)
                                                        {
                                                            dialog.Text("You have learned Triple Attack.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(10490)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 5 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 7:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        if (client.Entity.Level >= 15)
                                                        {
                                                            dialog.Text("You have learned the Oblivion XP skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(10390)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 15 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        if (client.Entity.Level >= 15)
                                                        {
                                                            dialog.Text("You have learned Whirlwind Kick.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(10415)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 15 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 9:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            dialog.Text("You have learned Radiant Palm.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(10381)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 10:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            dialog.Text("You have learned Serenity.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(10400)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 11:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        if (client.Entity.Level >= 70)
                                                        {
                                                            dialog.Text("You have learned Tranquility.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(10425)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 70 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 12:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        if (client.Entity.Level >= 100)
                                                        {
                                                            dialog.Text("You have learned Compassion.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(10430)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 100 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 13:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        if (client.Entity.Level >= 20)
                                                        {
                                                            dialog.Text("You have learned Tyrent Aura.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(10395)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 20 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 14:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        if (client.Entity.Level >= 20)
                                                        {
                                                            dialog.Text("You have learned Fend Aura.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(10410)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 20 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 15:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        if (client.Entity.Level >= 100)
                                                        {
                                                            dialog.Text("You have learned Metal Elemental Aura.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(10420)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 100 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 16:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        if (client.Entity.Level >= 100)
                                                        {
                                                            dialog.Text("You have learned Wood Elemental Aura.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(10421)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 100 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 17:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        if (client.Entity.Level >= 100)
                                                        {
                                                            dialog.Text("You have learned Water Elemental Aura.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(10422)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 100 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 18:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        if (client.Entity.Level >= 100)
                                                        {
                                                            dialog.Text("You have learned Fire Elemental Aura.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(10423)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 100 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 19:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        if (client.Entity.Level >= 100)
                                                        {
                                                            dialog.Text("You have learned Earth Elemental Aura.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(10424)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 100 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Epic
                                            case 33:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        dialog.Text("Let me know what you want to Epic.");
                                                        dialog.Option("InfernalEcho.", 34);
                                                        dialog.Option("GraceofHeaven", 35);
                                                        dialog.Option("WrathofiheEmperor", 36);
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 34:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            dialog.Text("You have learned InfernalEcho.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(12550)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 35:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        if (client.Entity.Level >= 50)
                                                        {
                                                            dialog.Text("You have learned GraceofHeaven.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(12560)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 50 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 36:
                                                {
                                                    if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            dialog.Text("You have learned WrathofiheEmperor.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(12570)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;

                                                }
                                            #endregion
                                        }
                                        break;
                                    }
                                #endregion 
                                #region WarriorGod
                                case 10001:
                                    {

                                        dialog.Avatar(8);
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                    {
                                                        dialog.Text("Warriors destory the enemies and sgield the Compatriots. but remember violence is a means of attaining a goal. Never let yourself sink into killin .");
                                                        dialog.Option("Learn Skills for Fist.", 7);
                                                        dialog.Option("Promote me.", 1);
                                                        dialog.Option("Learn Shiled skills.", 2);
                                                        dialog.Option("Learn Weapon skills.", 8);
                                                        dialog.Option("Learn Pure skills.", 17);
                                                        dialog.Option("Wait a minute.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Only a warrior can learn what I have to teach. Our secrets are not for trade.");
                                                        dialog.Option("I~understand.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #region Promote
                                            case 1:
                                                {
                                                    if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                    {
                                                        if (client.Entity.Class == 25)
                                                        {
                                                            dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("To promote now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                            dialog.Option("Promote me sir.", 3);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the warrior secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                    {
                                                        if (client.Entity.Class == 25)
                                                        {
                                                            dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            if (client.PromoteItemNeed == 721020)
                                                            {
                                                                if (client.Inventory.Remove("moonbox"))
                                                                {
                                                                    client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                    client.Entity.Class++;
                                                                    client.Entity.Update(_String.Effect, "end_task", true);
                                                                    dialog.Text("Congratulations! You have been promoted.");
                                                                    dialog.Option("Thank you master.", 255);
                                                                    dialog.Send();
                                                                }
                                                                else
                                                                {
                                                                    dialog.Text("You don't meet the requierments.");
                                                                    dialog.Option("Ahh.", 255);
                                                                    dialog.Send();
                                                                }
                                                                return;
                                                            }
                                                            if (client.Inventory.Contains(client.PromoteItemNeed, client.PromoteItemCountNeed) && client.Entity.Level >= client.PromoteLevelNeed)
                                                            {
                                                                client.Inventory.Remove(client.PromoteItemNeed, client.PromoteItemCountNeed);
                                                                client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                client.Entity.Class++;
                                                                client.Entity.Update(_String.Effect, "end_task", true);
                                                                dialog.Text("Congratulations! You have been promoted.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't meet the requierments.");
                                                                dialog.Option("Ahh.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the warrior secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Skills
                                            case 2:
                                                {
                                                    if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                    {
                                                        dialog.Text("Let me know what you want to learn.");
                                                        dialog.Option("XP Skills (Lvl 40).", 5);
                                                        dialog.Option("Dash (Lvl 61).", 6);
                                                        dialog.Option("Shield Block (Lvl 40).", 9);
                                                        dialog.Option("Defensive Stance (Lvl 70).", 10);
                                                        dialog.Option("Magic Defender (Lvl 40).", 11);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the warrior secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 7:
                                                {
                                                    if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                    {
                                                        dialog.Text("If You`r interested in the skills for fist. I`m glad to give some guidance.");
                                                        dialog.Option("Sceare of Earth. (Lv.40).", 77);
                                                        dialog.Option("Wave or Blood (Lv.40).", 88);
                                                        dialog.Option("Maniac Dance.(Lv.40).", 99);
                                                        dialog.Option("Pounce.", 98);
                                                        dialog.Option("Twist of war.(Lv.70).", 55);
                                                        dialog.Option("Backfire (Lvl 40).", 66);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the warrior secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #region Sceare
                                            case 77:
                                                {
                                                    if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            dialog.Text("You have learned the Sceare of Earth of this Fist.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            client.AddSpell(LearnableSpell(12670));
                                                            if (!client.AddSpell(LearnableSpell(12670)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("Sorry , you can't get Sceare of Earth because you are not level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the Warrior secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Wave or Blood
                                            case 88:
                                                {
                                                    if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                    {
                                                        if (client.Entity.Level >= 70)
                                                        {
                                                            dialog.Text("You have learned the Wave or Blood of this class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            client.AddSpell(LearnableSpell(12690));
                                                            if (!client.AddSpell(LearnableSpell(12690)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();

                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("Sorry , you can't get Wave or Blood because you are not level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the Warrior secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Pounce
                                            case 98:
                                                {
                                                    if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            dialog.Text("You have learned the Pounce of this class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            client.AddSpell(LearnableSpell(12770));
                                                            if (!client.AddSpell(LearnableSpell(12770)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();

                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("Sorry , you can't get Pounce because you are not level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the Warrior secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Maniac Dance
                                            case 99:
                                                {
                                                    if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            dialog.Text("You have learned the Maniac Dance of this class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            client.AddSpell(LearnableSpell(12700));
                                                            if (!client.AddSpell(LearnableSpell(12700)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();

                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("Sorry , you can't get Maniac Dance because you are not level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the Warrior secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Twist of war
                                            case 55:
                                                {
                                                    if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                    {
                                                        if (client.Entity.Level >= 70)
                                                        {
                                                            dialog.Text("You have learned the Twist of war of this class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            client.AddSpell(LearnableSpell(12660));
                                                            if (!client.AddSpell(LearnableSpell(12660)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();

                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("Sorry , you can't get Twist of war because you are not level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the Warrior secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Back Fire
                                            case 66:
                                                {
                                                    if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                    {
                                                        if (client.Entity.Level >= 61)
                                                        {
                                                            dialog.Text("You have learned the Twist of war Skill of this class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            client.AddSpell(LearnableSpell(12680));
                                                            if (!client.AddSpell(LearnableSpell(12680)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 61 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the warrior secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            case 8:
                                                {
                                                    if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            dialog.Text("You have learned the Fast/Sceand of this class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            client.AddSpell(LearnableSpell(1045));
                                                            client.AddSpell(LearnableSpell(1046));
                                                            if (!client.AddSpell(LearnableSpell(1045)))
                                                                if (!client.AddSpell(LearnableSpell(1046)))
                                                                {
                                                                    dialog.Text("You already know this skill.");
                                                                    dialog.Option("Thank you master.", 255);
                                                                    dialog.Send();
                                                                }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("Sorry , you can't get Fast/Sceand because you are not level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the Warrior secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 17:
                                                {
                                                    if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            dialog.Text("You have learned the Perseverance of this class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            client.AddSpell(LearnableSpell(10311));
                                                            if (!client.AddSpell(LearnableSpell(10311)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("Sorry , you can't get Perseverance because you are not level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the Warrior secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 11:
                                                {
                                                    if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            dialog.Text("You have learned the Magic Defender of this class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            client.AddSpell(LearnableSpell(11200));
                                                            if (!client.AddSpell(LearnableSpell(11200)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("Sorry , you can't get Magic Defender because you are not level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the Warrior secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 10:
                                                {
                                                    if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                    {
                                                        if (client.Entity.Level >= 70)
                                                        {
                                                            dialog.Text("You have learned the Defensive Stance of this class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            client.AddSpell(LearnableSpell(11160));
                                                            if (!client.AddSpell(LearnableSpell(11160)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();

                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("Sorry , you can't get Defensive Stance because you are not level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the Warrior secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 9:
                                                {
                                                    if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            dialog.Text("You have learned the Shield Block of this class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            client.AddSpell(LearnableSpell(10470));
                                                            if (!client.AddSpell(LearnableSpell(10470)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();

                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("Sorry , you can't get Shield Block because you are not level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the Warrior secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            dialog.Text("You have learned the XP Skills of this class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            client.AddSpell(LearnableSpell(1025));
                                                            client.AddSpell(LearnableSpell(1020));
                                                            client.AddSpell(LearnableSpell(1015));
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the warrior secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                    {
                                                        if (client.Entity.Level >= 61)
                                                        {
                                                            dialog.Text("You have learned the Dash Skill of this class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            client.AddSpell(LearnableSpell(1051));
                                                            if (!client.AddSpell(LearnableSpell(1051)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 61 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the warrior secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                        }
                                        break;
                                    }
                                #endregion
                                #region Archer Master
                                case 400:
                                    {
                                        byte mClass = 40;
                                        byte MClass = 45;
                                        string Class = "archer";
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        dialog.Text("I am the bow master. As I see, you started your way on conquering this world. I will try to help you teaching you warrir skills and promoting you.");
                                                        dialog.Option("Promote me.", 1);
                                                        dialog.Option("Learn Skills.", 2);
                                                        dialog.Option("Assassin Skills.", 100);
                                                        dialog.Option("Wait a minute.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #region Assassin knowledge
                                            case 100:
                                                {
                                                    if (!(client.Entity.Class >= 41 && client.Entity.Class <= 45))
                                                    {
                                                        dialog.Text("You do not have access to this knowledge!");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }
                                                    dialog.Text("I see in you a great apprentice of the shadow path. Continue and you shall conquest! What do you me to teach you?");
                                                    dialog.Option("L40: The path of shadow [40+].", 101);
                                                    dialog.Option("L40:~Blade~Flurry~(XP)", 103);
                                                    dialog.Option("L40:~Mortal~Wound~(Offensive)", 104);
                                                    dialog.Option("L50:~Kinetic~Spark~(Passive)", 105);
                                                    dialog.Option("L70:~Blistering~Wave~(Mass)", 106);
                                                    dialog.Option("L90:~Spirit~Focus~(Boost)", 107);
                                                    dialog.Option("L100:~Dagger~Storm~(Mass)", 108);
                                                    dialog.Option("Wait a minute.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 101:
                                                {
                                                    if (!(client.Entity.Class >= 41 && client.Entity.Class <= 45))
                                                    {
                                                        dialog.Text("You do not have access to this knowledge!");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }

                                                    if (client.Spells.ContainsKey(11620))
                                                    {
                                                        dialog.Text("You already hold the knowledge of this path.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }

                                                    client.AddSpell(LearnableSpell(11620));
                                                    dialog.Text("Congratulations! You now hold the knowledge of this path!");
                                                    dialog.Option("Thank you, master.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            #region Blade Flurry
                                            case 103:
                                                {
                                                    ushort level = 40, id = 11610;
                                                    if (!(client.Entity.Class >= 41 && client.Entity.Class <= 45))
                                                    {
                                                        dialog.Text("You do not have access to this knowledge!");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }
                                                    if (client.Entity.Level < level)
                                                    {
                                                        dialog.Text("You are not strong enough to have access to this knowledge!");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }
                                                    if (client.Spells.ContainsKey(id))
                                                    {
                                                        dialog.Text("You already hold the knowledge of this path.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }

                                                    client.AddSpell(LearnableSpell(id));
                                                    dialog.Text("Congratulations! You now hold the knowledge of this path!");
                                                    dialog.Option("Thank you, master.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            #endregion
                                            #region Mortal Wound
                                            case 104:
                                                {
                                                    ushort level = 40, id = 11660;
                                                    if (!(client.Entity.Class >= 41 && client.Entity.Class <= 45))
                                                    {
                                                        dialog.Text("You do not have access to this knowledge!");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }
                                                    if (client.Entity.Level < level)
                                                    {
                                                        dialog.Text("You are not strong enough to have access to this knowledge!");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }
                                                    if (client.Spells.ContainsKey(id))
                                                    {
                                                        dialog.Text("You already hold the knowledge of this path.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }

                                                    client.AddSpell(LearnableSpell(id));
                                                    dialog.Text("Congratulations! You now hold the knowledge of this path!");
                                                    dialog.Option("Thank you, master.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            #endregion
                                            #region Kinetic Spark
                                            case 105:
                                                {
                                                    ushort level = 50, id = 11590;
                                                    if (!(client.Entity.Class >= 41 && client.Entity.Class <= 45))
                                                    {
                                                        dialog.Text("You do not have access to this knowledge!");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }
                                                    if (client.Entity.Level < level)
                                                    {
                                                        dialog.Text("You are not strong enough to have access to this knowledge!");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }
                                                    if (client.Spells.ContainsKey(id))
                                                    {
                                                        dialog.Text("You already hold the knowledge of this path.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }

                                                    client.AddSpell(LearnableSpell(id));
                                                    dialog.Text("Congratulations! You now hold the knowledge of this path!");
                                                    dialog.Option("Thank you, master.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            #endregion
                                            #region Blistering Wave
                                            case 106:
                                                {
                                                    ushort level = 70, id = 11650;
                                                    if (!(client.Entity.Class >= 41 && client.Entity.Class <= 45))
                                                    {
                                                        dialog.Text("You do not have access to this knowledge!");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }
                                                    if (client.Entity.Level < level)
                                                    {
                                                        dialog.Text("You are not strong enough to have access to this knowledge!");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }
                                                    if (client.Spells.ContainsKey(id))
                                                    {
                                                        dialog.Text("You already hold the knowledge of this path.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }

                                                    client.AddSpell(LearnableSpell(id));
                                                    dialog.Text("Congratulations! You now hold the knowledge of this path!");
                                                    dialog.Option("Thank you, master.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            #endregion
                                            #region Spirit Focus
                                            case 107:
                                                {
                                                    ushort level = 90, id = 11670;
                                                    if (!(client.Entity.Class >= 41 && client.Entity.Class <= 45))
                                                    {
                                                        dialog.Text("You do not have access to this knowledge!");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }
                                                    if (client.Entity.Level < level)
                                                    {
                                                        dialog.Text("You are not strong enough to have access to this knowledge!");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }
                                                    if (client.Spells.ContainsKey(id))
                                                    {
                                                        dialog.Text("You already hold the knowledge of this path.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }

                                                    client.AddSpell(LearnableSpell(id));
                                                    dialog.Text("Congratulations! You now hold the knowledge of this path!");
                                                    dialog.Option("Thank you, master.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            #endregion
                                            #region Dagger Storm
                                            case 108:
                                                {
                                                    ushort level = 100, id = 11600;
                                                    if (!(client.Entity.Class >= 41 && client.Entity.Class <= 45))
                                                    {
                                                        dialog.Text("You do not have access to this knowledge!");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }
                                                    if (client.Entity.Level < level)
                                                    {
                                                        dialog.Text("You are not strong enough to have access to this knowledge!");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }
                                                    if (client.Spells.ContainsKey(id))
                                                    {
                                                        dialog.Text("You already hold the knowledge of this path.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }

                                                    client.AddSpell(LearnableSpell(id));
                                                    dialog.Text("Congratulations! You now hold the knowledge of this path!");
                                                    dialog.Option("Thank you, master.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            #endregion
                                            #endregion
                                            case 1:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Class == MClass)
                                                        {
                                                            dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("To promote now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                            dialog.Option("Promote me sir.", 3);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Class == MClass)
                                                        {
                                                            dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            if (client.PromoteItemNeed == 721020)
                                                            {
                                                                if (client.Inventory.Remove("moonbox"))
                                                                {
                                                                    client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                    client.Entity.Class++;
                                                                    _String str = new _String(true);
                                                                    str.UID = client.Entity.UID;
                                                                    str.TextsCount = 1;
                                                                    str.Type = _String.Effect;
                                                                    str.Texts.Add("end_task");
                                                                    client.SendScreen(str, true);
                                                                    dialog.Text("Congratulations! You have been promoted.");
                                                                    dialog.Option("Thank you master.", 255);
                                                                    dialog.Send();
                                                                }
                                                                else
                                                                {
                                                                    dialog.Text("You don't meet the requierments.");
                                                                    dialog.Option("Ahh.", 255);
                                                                    dialog.Send();
                                                                }
                                                                return;
                                                            }
                                                            if (client.Inventory.Contains(client.PromoteItemNeed, client.PromoteItemCountNeed) && client.Entity.Level >= client.PromoteLevelNeed)
                                                            {
                                                                client.Inventory.Remove(client.PromoteItemNeed, client.PromoteItemCountNeed);
                                                                client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                client.Entity.Class++;
                                                                _String str = new _String(true);
                                                                str.UID = client.Entity.UID;
                                                                str.TextsCount = 1;
                                                                str.Type = _String.Effect;
                                                                str.Texts.Add("end_task");
                                                                client.SendScreen(str, true);
                                                                dialog.Text("Congratulations! You have been promoted.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't meet the requierments.");
                                                                dialog.Option("Ahh.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        dialog.Text("Let me know what you want to learn.");
                                                        dialog.Option("XPFly (Lvl 1).", 5);
                                                        dialog.Option("Scatter (Lvl 23).", 6);
                                                        dialog.Option("RapidFire (Lvl 40).", 7);
                                                        dialog.Option("Fly (Lvl 70).", 8);
                                                        dialog.Option("Intensify (Lvl 70).", 9);
                                                        dialog.Option("Arrow rain (Lvl 70).", 10);
                                                        dialog.Option("Advanced Fly (Lvl 100).", 11);
                                                        dialog.Option("Nothing.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        dialog.Text("You have learned the XP Skill of this class.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(8002)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 23)
                                                        {
                                                            dialog.Text("You have learned the scatter.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            if (!client.AddSpell(LearnableSpell(8001)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 23 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 7:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(8000)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the rapid fire.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 70)
                                                        {

                                                            if (!client.AddSpell(LearnableSpell(8003)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the fly.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 70 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 9:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 70)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(9000)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the intensify.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 70 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 10:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 70)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(8030)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the arrow rain.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 70 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 11:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 100)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(8003, 1)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the advanced fly.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 100 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region NinjaMaster
                                case 4720:
                                    {
                                        byte mClass = 50;
                                        byte MClass = 55;
                                        string Class = "ninja";
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        dialog.Text("I am the master of the no sound attack and the master of the katanas. As I see, you started your way on conquering this world. I will try to help you teaching you warrir skills and promoting you.");
                                                        dialog.Option("Promote me.", 1);
                                                        dialog.Option("Learn skills.", 2);
                                                        dialog.Option("Wait a minute.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #region Promote
                                            case 1:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Class == MClass)
                                                        {
                                                            dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("To promote now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                            dialog.Option("Promote me sir.", 3);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Class == MClass)
                                                        {
                                                            dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            if (client.PromoteItemNeed == 721020)
                                                            {
                                                                if (client.Inventory.Remove("moonbox"))
                                                                {
                                                                    client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                    client.Entity.Class++;
                                                                    _String str = new _String(true);
                                                                    str.UID = client.Entity.UID;
                                                                    str.TextsCount = 1;
                                                                    str.Type = _String.Effect;
                                                                    str.Texts.Add("end_task");
                                                                    client.SendScreen(str, true);
                                                                    dialog.Text("Congratulations! You have been promoted.");
                                                                    dialog.Option("Thank you master.", 255);
                                                                    dialog.Send();
                                                                }
                                                                else
                                                                {
                                                                    dialog.Text("You don't meet the requierments.");
                                                                    dialog.Option("Ahh.", 255);
                                                                    dialog.Send();
                                                                }
                                                                return;
                                                            }
                                                            if (client.Inventory.Contains(client.PromoteItemNeed, client.PromoteItemCountNeed) && client.Entity.Level >= client.PromoteLevelNeed)
                                                            {
                                                                client.Inventory.Remove(client.PromoteItemNeed, client.PromoteItemCountNeed);
                                                                client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                client.Entity.Class++;
                                                                _String str = new _String(true);
                                                                str.UID = client.Entity.UID;
                                                                str.TextsCount = 1;
                                                                str.Type = _String.Effect;
                                                                str.Texts.Add("end_task");
                                                                client.SendScreen(str, true);
                                                                dialog.Text("Congratulations! You have been promoted.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't meet the requierments.");
                                                                dialog.Option("Ahh.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Skills
                                            case 2:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        dialog.Text("Let me know what you want to learn. '[...]' and '{...}' means ninja as second life and ninja as third life.");
                                                        dialog.Option("FatalStrike (Lvl 15).", 11);
                                                        dialog.Option("FatalSpin (Lvl 15).", 34);
                                                        dialog.Option("MortalDrag(Lvl 20).", 14);
                                                        dialog.Option("TwofoldBlades (Lvl 40).", 5);
                                                        dialog.Option("TwilightDance (Lvl 40).", 31);
                                                        dialog.Option("SuperTwofoldBlade (Lvl 40).", 32);
                                                        dialog.Option("GapingWounds(Lvl 40).", 13);
                                                        dialog.Option("BloodyScythe(Lvl 40).", 15);
                                                        dialog.Option("ShadowClone (Lvl 50).", 33);
                                                        dialog.Option("Next.", 16);
                                                        dialog.Option("Nothing.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 33:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(12090)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the ShadowClone.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(6000)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the TwofoldBlades.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 70)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(6001)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the ToxicFog.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 70 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 7:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 70)
                                                        {
                                                            if ((client.Entity.Reborn == 1 && client.Entity.Class == 55) || (client.Entity.Reborn == 2 && client.Entity.SecondRebornClass == 55))
                                                            {
                                                                if (!client.AddSpell(LearnableSpell(6002)))
                                                                {
                                                                    dialog.Text("You already know this skill.");
                                                                    dialog.Option("Thank you master.", 255);
                                                                    dialog.Send();
                                                                    break;
                                                                }
                                                                dialog.Text("You have learned the PoisonStar.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You need to be ninja in the second life.");
                                                                dialog.Option("Alright.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 70 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 70)
                                                        {
                                                            if (client.Entity.Reborn == 2 && client.Entity.Class == 55)
                                                            {
                                                                if (!client.AddSpell(LearnableSpell(6003)))
                                                                {
                                                                    dialog.Text("You already know this skill.");
                                                                    dialog.Option("Thank you master.", 255);
                                                                    dialog.Send();
                                                                    break;
                                                                }
                                                                dialog.Text("You have learned the CounterKill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You need to be ninja in the third life.");
                                                                dialog.Option("Alright.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 70 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 9:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 110)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(6004)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the ArcherBane.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 110 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 10:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 70)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(6010)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the ShurikenVortex.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 70 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 11:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 15)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(6011)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the FatalStrike.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 15 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 31:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(12070)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the TwilightDance.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 32:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(12080)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the SuperTwofoldBlade.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 34:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 15)
                                                        {
                                                            if (client.Entity.Reborn == 2 && client.Entity.Class == 55)
                                                            {
                                                                if (!client.AddSpell(LearnableSpell(12110)))
                                                                {
                                                                    dialog.Text("You already know this skill.");
                                                                    dialog.Option("Thank you master.", 255);
                                                                    dialog.Send();
                                                                    break;
                                                                }
                                                                dialog.Text("You have learned the FatalSpin.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You need to be ninja in the third life.");
                                                                dialog.Option("Alright.", 255);
                                                                dialog.Send();
                                                            }
                                                        }

                                                        else
                                                        {
                                                            dialog.Text("You need to be level 70 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 16:
                                                {
                                                    dialog.Text("Let me know what you want to learn. '[...]' and '{...}' means ninja as second life and ninja as third life.");
                                                    dialog.Option("ToxicFog (Lvl 70).", 6);
                                                    dialog.Option("PoisonStar [Lvl 70].", 7);
                                                    dialog.Option("ShurikenVortex (Lvl 70).", 10);
                                                    dialog.Option("CounterKill [Lvl 70].", 8);
                                                    dialog.Option("ArcherBane (Lvl 110).", 9);
                                                    dialog.Option("Previous!.", 2);
                                                    dialog.Option("Nothing!.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 13:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(11230)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the GapingWounds.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 14:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 20)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(11180)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the MortalDrag.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 20 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 15:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(11170)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the BloodyScythe.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }

                                        }
                                        break;
                                    }
                                            #endregion
                                #endregion
                                #region TrojanMaster
                                case 10022:
                                    {
                                        byte mClass = 10;
                                        byte MClass = 15;
                                        string Class = "Trojan";
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        dialog.Text("I am the master of the one hand weapons. As I see, you started your way on conquering this world. I will try to help you teaching you warrir skills and promoting you.");
                                                        dialog.Option("Promote me.", 1);
                                                        dialog.Option("Learn skills.", 2);
                                                        dialog.Option("Learn [XPSkills] .", 5);
                                                        dialog.Option("Learn PureSkills.", 254);
                                                        dialog.Option("Epic~Quest.~(L70,~2nd~reborn)", 100);
                                                        dialog.Option("Wait a minute.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 100:
                                                {
                                                    client.Entity.Teleport(1002, 271, 194);
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Class == MClass)
                                                        {
                                                            dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("To promote now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                            dialog.Option("Promote me sir.", 3);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Class == MClass)
                                                        {
                                                            dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            if (client.PromoteItemNeed == 721020)
                                                            {
                                                                if (client.Inventory.Remove("moonbox"))
                                                                {
                                                                    client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                    client.Entity.Class++;
                                                                    _String str = new _String(true);
                                                                    str.UID = client.Entity.UID;
                                                                    str.TextsCount = 1;
                                                                    str.Type = _String.Effect;
                                                                    str.Texts.Add("end_task");
                                                                    client.SendScreen(str, true);
                                                                    dialog.Text("Congratulations! You have been promoted.");
                                                                    dialog.Option("Thank you master.", 255);
                                                                    dialog.Send();
                                                                }
                                                                else
                                                                {
                                                                    dialog.Text("You don't meet the requierments.");
                                                                    dialog.Option("Ahh.", 255);
                                                                    dialog.Send();
                                                                }
                                                                return;
                                                            }
                                                            if (client.Inventory.Contains(client.PromoteItemNeed, client.PromoteItemCountNeed) && client.Entity.Level >= client.PromoteLevelNeed)
                                                            {
                                                                client.Inventory.Remove(client.PromoteItemNeed, client.PromoteItemCountNeed);
                                                                client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                client.Entity.Class++;
                                                                _String str = new _String(true);
                                                                str.UID = client.Entity.UID;
                                                                str.TextsCount = 1;
                                                                str.Type = _String.Effect;
                                                                str.Texts.Add("end_task");
                                                                client.SendScreen(str, true);
                                                                dialog.Text("Congratulations! You have been promoted.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't meet the requierments.");
                                                                dialog.Option("Ahh.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        dialog.Text("Let me know what you want to learn.");
                                                        dialog.Option("Hercules (Lvl 40).", 6);
                                                        dialog.Option("Golem. (Lvl 40).", 7);
                                                        dialog.Option("Spritual Healing. (Lvl 40).", 8);
                                                        dialog.Option("Nothing.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            dialog.Text("You have learned the XP Skills.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            client.AddSpell(LearnableSpell(1110));
                                                            client.AddSpell(LearnableSpell(11970));
                                                            client.AddSpell(LearnableSpell(1015));
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1115)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the Hercules.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 7:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1270)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the Golem.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 254:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass && client.Entity.FirstRebornClass == 15 && client.Entity.SecondRebornClass == 15)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(10315)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the DragonWhirl.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You aren't 3 Trojans!.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1190)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the Spritual Healing.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region TaoistMoon
                                case 10000:
                                    {
                                        byte mClass = 142;
                                        byte MClass = 145;
                                        byte mClasss = 132;
                                        byte MClasss = 135;
                                        string Class = "Fire-Taoist";
                                        string Classs = "Water-Taoist";
                                        dialog.Avatar(6);
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Entity.Class >= 100 && client.Entity.Class <= 101)
                                                    {
                                                        dialog.Text("I am the master of the toist skills. As I see, you started your way on conquering this world. I will try to help you teaching you warrir skills and promoting you.");
                                                        dialog.Option("Promote me.", 100);
                                                        dialog.Option("Learn skills.", 70);
                                                        dialog.Option("Just passing by.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                        {
                                                            dialog.Text("Every Taoist wants holy spirit and few gain. You`re gifted in controlling inner power. Just pay more attention to details, you may be the next achiever.");
                                                            dialog.Option("I want to get promoted.", 1);
                                                            dialog.Option("Learn class skills.", 2);
                                                            dialog.Option("Learn Pure Fire Taoist.", 70);
                                                            dialog.Option("Learn Epic Skills.", 180);
                                                            dialog.Option("Epic~Quest~(L70,~2nd-reborn).", 233);
                                                            dialog.Option("Okay. I see.", 255);
                                                            dialog.Send();
                                                        }
                                                        else if (client.Entity.Class >= mClasss && client.Entity.Class <= MClasss)
                                                        {
                                                            dialog.Text("Every Taoist wants holy spirit and few gain. You`re gifted in controlling inner power. Just pay more attention to details, you may be the next achiever.");
                                                            dialog.Option("I want to get promoted.", 1);
                                                            dialog.Option("Learn class skills.", 101);
                                                            dialog.Option("Learn Pure WaterTaoist.", 80);
                                                            dialog.Option("Learn Epic Skills.", 200);
                                                            dialog.Option("Epic~Quest~(L70,~2nd-reborn).", 233);
                                                            dialog.Option("Okay. I see.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("The taoists` secrets are not to be trained to outsiders. Train elsewhere, master conqueror.");
                                                            dialog.Option("I~see.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    break;
                                                }
                                            case 233:
                                                {
                                                    dialog.Text("The Great Sun King has acquired the essence of Taoism and made a Divine");
                                                    dialog.Text("Panacea This Mythical pill can be used to reshape the backsword, and");
                                                    dialog.Text("bring out the endless power However, it’s not that easy. You’ll need");
                                                    dialog.Text("guidance from Sun King, Profound understanding on art of Taoism, and also");
                                                    dialog.Text("luck. Many Taoists have set out to find the way of forging an Epic Weapon.");
                                                    dialog.Option("Take me to see Sun King", 232);
                                                    dialog.Option("Learn about other things.", 0);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 232:
                                                {
                                                    if (client.Entity.Level >= 70 && client.Entity.Reborn == 2)
                                                    {
                                                        client.Entity.Teleport(10332, 320, 444);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("It must be a level of 70 births 2");
                                                        dialog.Option("I see.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #region Prometed
                                            case 100:
                                                {
                                                    if (client.Entity.Class >= 100 && client.Entity.Class <= 101)
                                                    {
                                                        if (client.Entity.Class == 101)
                                                        {
                                                            dialog.Text("I Want To promote ?");
                                                            dialog.Option("Water Taoist.", 253);
                                                            dialog.Option("Fire Taoist.", 254);
                                                            dialog.Option("No thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("To promote now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                            dialog.Option("Promote me sir.", 254);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #region Promote Taoist
                                            case 253:
                                                {
                                                    if (client.Entity.Class == 100)
                                                    {
                                                        client.Entity.Class++;
                                                        client.Entity.Update(10, "end_task", true);
                                                        dialog.Text("Congratulations! You have been promoted.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else if (client.Entity.Class == 101)
                                                    {
                                                        client.Entity.Class = 132;
                                                        client.Entity.Update(10, "end_task", true);
                                                        dialog.Text("Congratulations! You have been promoted.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Classs + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 254:
                                                {
                                                    if (client.Entity.Class == 100)
                                                    {
                                                        client.Entity.Class++;
                                                        client.Entity.Update(10, "end_task", true);
                                                        dialog.Text("Congratulations! You have been promoted.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else if (client.Entity.Class == 101)
                                                    {
                                                        client.Entity.Class = 142;
                                                        client.Entity.Update(10, "end_task", true);
                                                        dialog.Text("Congratulations! You have been promoted.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            case 1:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass || client.Entity.Class >= mClasss && client.Entity.Class <= MClasss)
                                                    {
                                                        if (client.Entity.Class == MClass || client.Entity.Class == MClasss)
                                                        {
                                                            dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("To promote now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                            dialog.Option("Promote me sir.", 3);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the taoist secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass || client.Entity.Class >= mClasss && client.Entity.Class <= MClasss)
                                                    {
                                                        if (client.Entity.Class == MClass || client.Entity.Class == MClasss)
                                                        {
                                                            dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            if (client.PromoteItemNeed == 721020)
                                                            {
                                                                if (client.Inventory.Remove("moonbox"))
                                                                {
                                                                    client.Entity.Update(10, "end_task", true);
                                                                    client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                    client.Entity.Class++;
                                                                    dialog.Text("Congratulations! You have been promoted.");
                                                                    dialog.Option("Thank you master.", 255);
                                                                    dialog.Send();
                                                                }

                                                                else
                                                                {
                                                                    dialog.Text("You don't meet the requierments.");
                                                                    dialog.Option("Ahh.", 255);
                                                                    dialog.Send();
                                                                }
                                                                return;
                                                            }
                                                            if (client.Inventory.Contains(client.PromoteItemNeed, client.PromoteItemCountNeed) && client.Entity.Level >= client.PromoteLevelNeed)
                                                            {
                                                                client.Entity.Update(10, "end_task", true);
                                                                client.Inventory.Remove(client.PromoteItemNeed, client.PromoteItemCountNeed);
                                                                client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                client.Entity.Class++;
                                                                dialog.Text("Congratulations! You have been promoted.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't meet the requierments.");
                                                                dialog.Option("Ahh.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the raoist secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Water
                                            #region Learn Epic WaterTaoist
                                            case 200:
                                                {
                                                    if (client.Entity.Class >= mClasss && client.Entity.Class <= MClasss)
                                                    {
                                                        dialog.Text("Which Skill do you want to learn?");
                                                        dialog.Option("FlameLotus", 240);
                                                        dialog.Option("BreakingTouch", 241);
                                                        dialog.Avatar(226);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You are not allowed, I think your not promoted yet or your not Revenge Walter.");
                                                        dialog.Option("Thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 240:
                                                {
                                                    if (!client.AddSpell(LearnableSpell(12370)))
                                                    {

                                                        {
                                                            if (client.Entity.Level >= 15)
                                                            {

                                                                client.AddSpell(LearnableSpell(12370));
                                                                dialog.Text("You~already~know~Flame~Lotus.");
                                                                dialog.Option("Thank~you~master.", 255);
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You~need~to~be~level~15~or~more.");
                                                                dialog.Option("Alright.", 255);
                                                                dialog.Send();
                                                            }
                                                        }

                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You~have~learned~Flame~Lotus.");
                                                        dialog.Option("Thank~you~master.", 255);
                                                    }
                                                    break;
                                                }
                                            case 241:
                                                {
                                                    if (!client.Spells.ContainsKey(12400))
                                                    {

                                                        {
                                                            if (client.Entity.Level >= 15)
                                                            {

                                                                client.AddSpell(LearnableSpell(12400));
                                                                dialog.Text("You~already~know~Breaking~Touch.");
                                                                dialog.Option("Thank~you~master.", 255);
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You~need~to~be~level~15~or~more.");
                                                                dialog.Option("Alright.", 255);
                                                                dialog.Send();
                                                            }
                                                        }

                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You~have~learned~Blessing~Touch.");
                                                        dialog.Option("Thank~you~master.", 255);
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Learn Pure WaterTaoist
                                            case 80:
                                                {
                                                    if (client.Entity.Class >= mClasss && client.Entity.FirstRebornClass >= 132 && client.Entity.SecondRebornClass >= 132)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(30000)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned AzureShield.");
                                                        dialog.Option("Thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You are not allowed, I think your not promoted yet or your not Revenge Walter.");
                                                        dialog.Option("Thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Learn class skills
                                            case 101:
                                                {
                                                    if (client.Entity.Class >= mClasss && client.Entity.Class <= MClasss)
                                                    {
                                                        dialog.Text("i know many types of skills and spells for a true water taoist, like you! which of them do you want to learn, first ?.");
                                                        dialog.Option("Learn water Spell.", 15);
                                                        dialog.Option("Learn XP Skill.", 21);
                                                        dialog.Option("Universal Skills.", 102);
                                                        dialog.Option("Supirior skill.", 4);
                                                        dialog.Option("Nothing.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Classs + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #region Learn water Spell
                                            case 15:
                                                {
                                                    if (client.Entity.Class >= mClasss && client.Entity.Class <= MClasss)
                                                    {
                                                        dialog.Text("There are many Unique Skills and Spells available to those Who study the Path of water What whould you ask of me ?");
                                                        dialog.Option("Healing Rain.", 118);
                                                        dialog.Option("Invisibility [Level 60+].", 112);
                                                        dialog.Option("Star of Accuracy .", 119);
                                                        dialog.Option("Magic Shield [Level 50+].", 110);
                                                        dialog.Option("Stigma.", 111);
                                                        dialog.Option("Pary [Level 70] .", 113);
                                                        dialog.Option("Advanced Cure [Level 81+].", 217);
                                                        dialog.Option("Next.", 20);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Classs + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #region Healing Rain
                                            case 118:
                                                {
                                                    if (client.Entity.Class >= mClasss && client.Entity.Class <= MClasss)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1055)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the fire healing rain.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Classs + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Invisibility
                                            case 112:
                                                {
                                                    if (client.Entity.Class >= mClasss && client.Entity.Class <= MClasss)
                                                    {
                                                        if (client.Entity.Level >= 70)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1075)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the invisibility skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 70 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Classs + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Star of Accuacy
                                            case 119:
                                                {
                                                    if (client.Entity.Class >= mClasss && client.Entity.Class <= MClasss)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1085)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the star of acurracy skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Classs + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Magic Shield
                                            case 110:
                                                {
                                                    if (client.Entity.Class >= mClasss && client.Entity.Class <= MClasss)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1090)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the magic shield skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Classs + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region stigma
                                            case 111:
                                                {
                                                    if (client.Entity.Class >= mClasss && client.Entity.Class <= MClasss)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1095)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the stigma skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Classs + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region pary
                                            case 113:
                                                {
                                                    if (client.Entity.Class >= mClasss && client.Entity.Class <= MClasss)
                                                    {
                                                        if (client.Entity.Level >= 70)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1100)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the pray skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 70 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Classs + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Advanced Cure
                                            case 217:
                                                {
                                                    if (client.Entity.Class >= mClasss && client.Entity.Class <= MClasss)
                                                    {
                                                        if (client.Entity.Level >= 80)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1175)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the advanced cure skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 80 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Classs + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            case 20:
                                                {
                                                    if (client.Entity.Class >= 131 && client.Entity.Class <= 135)
                                                    {
                                                        dialog.Text("Let me know what you want to learn.");
                                                        dialog.Option("Nectar [Level 94+].", 116);
                                                        dialog.Option("Summon Guard.", 88);
                                                        dialog.Option("Summon Bat Boss [Level 40+].", 81);

                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #region Nectar
                                            case 116:
                                                {
                                                    if (client.Entity.Class >= mClasss && client.Entity.Class <= MClasss)
                                                    {
                                                        if (client.Entity.Level >= 70)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1170)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the nectar skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 70 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Classs + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Summon Guard
                                            case 88:
                                                {
                                                    if (client.Entity.Reborn > 0)
                                                    {
                                                        if (client.Inventory.Contains(1072031, 1))
                                                        {
                                                            client.Inventory.Remove(1072031, 1);
                                                            if (!client.AddSpell(LearnableSpell(4000)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You cannot learn those skills until you reborn atleast once.");
                                                        dialog.Option("Alright", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Summon Bat Boss
                                            case 81:
                                                {
                                                    if (client.Entity.Reborn > 0)
                                                    {
                                                        if (client.Entity.Class >= 50 && client.Entity.Class <= 55)
                                                        {
                                                            dialog.Text("You cannot learn skills like this one. Ninjas don't need such thing. They are much more stronger than every other class.");
                                                            dialog.Option("Alright", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        if (client.Inventory.Contains(1072054, 1))
                                                        {
                                                            client.Inventory.Remove(1072054, 1);
                                                            if (client.Entity.Class <= 15)
                                                                client.AddSpell(LearnableSpell(4050));
                                                            else if (client.Entity.Class <= 25)
                                                                client.AddSpell(LearnableSpell(4060));
                                                            else if (client.Entity.Class <= 45)
                                                                client.AddSpell(LearnableSpell(4070));
                                                            else if (client.Entity.Class <= 135)
                                                                client.AddSpell(LearnableSpell(4010));
                                                            else if (client.Entity.Class <= 145)
                                                                client.AddSpell(LearnableSpell(4020));
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You cannot learn those skills until you reborn atleast once.");
                                                        dialog.Option("Alright", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #endregion
                                            #region Learn XP Skill
                                            case 21:
                                                {
                                                    if (client.Entity.Class >= 100)
                                                    {
                                                        dialog.Text("You can Learn lightning, Volcano, Water Elf, Revive, and Chain Bolt From me. ");
                                                        dialog.Option("Volcano [level 40].", 218);
                                                        dialog.Option("Lightning .", 117);
                                                        dialog.Option("XP Revive.", 115);
                                                        dialog.Option("Chain bolt.", 61);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #region Volcano
                                            case 218:
                                                {
                                                    if (client.Entity.Class >= mClasss && client.Entity.Class <= MClasss)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1125)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the volcano xp skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Classs + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Lightning
                                            case 117:
                                                {
                                                    if (client.Entity.Class >= mClasss && client.Entity.Class <= MClasss)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1010)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the lightning xp skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Classs + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region XP Revive
                                            case 115:
                                                {
                                                    if (client.Entity.Class >= mClasss && client.Entity.Class <= MClasss)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1050)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned xp revive skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Classs + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Chain bolt
                                            case 210:
                                                {
                                                    if (client.Entity.Class >= mClasss && client.Entity.Class <= MClasss)
                                                    {
                                                        if (client.Entity.Level >= 80)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(10309)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the chain bolt.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 80 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Classs + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #endregion
                                            #region Universal Skills
                                            case 102:
                                                {
                                                    if (client.Entity.Class >= 100)
                                                    {
                                                        dialog.Text("Thunder and Cure are Two powerful arts that you are ready to practice. Should i teach you now ?");
                                                        dialog.Option("Cure (Lvl 1).", 206);
                                                        dialog.Option("Meditation. (Lvl 40).", 207);
                                                        dialog.Option("Thunder (Lvl 1).", 205);
                                                        dialog.Option("Nothing.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 205:
                                                {
                                                    if (client.Entity.Class >= 100)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1000)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned thunder.");
                                                        dialog.Option("Thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 206:
                                                {
                                                    if (client.Entity.Class >= 100)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1005)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned cure.");
                                                        dialog.Option("Thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 207:
                                                {
                                                    if (client.Entity.Class >= 100)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1195)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned meditation.");
                                                            dialog.Option("Thank you.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }

                                            case 208:
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(10309)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned chain bolt.");
                                                        dialog.Option("Thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need atleast level 40.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Supirior skil
                                            case 4:
                                                {
                                                    if (client.Entity.Class >= 100)
                                                    {
                                                        dialog.Text("Only the most Powerful of taoists can master that are. [Fire Taoist, Level 80+] .");
                                                        dialog.Option("I understand.", 255);
                                                        dialog.Send();
                                                    }

                                                    break;
                                                }
                                            #endregion
                                            #endregion
                                            #endregion
                                            #region Fire
                                            #region Learn Epic FireTaoist
                                            case 180:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        dialog.Text("Which Skill do you want to learn?");
                                                        dialog.Option("AuroraLotus", 230);
                                                        dialog.Option("BlessingTouch", 231);
                                                        dialog.Avatar(226);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You are not allowed, I think your not promoted yet or your not Revenge Water.");
                                                        dialog.Option("Thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 230:
                                                {
                                                    if (!client.AddSpell(LearnableSpell(12380)))
                                                    {

                                                        {
                                                            if (client.Entity.Level >= 15)
                                                            {

                                                                client.AddSpell(LearnableSpell(12380));
                                                                dialog.Text("You~already~know~Aurora~Lotus.");
                                                                dialog.Option("Thank~you~master.", 255);
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You~need~to~be~level~15~or~more.");
                                                                dialog.Option("Alright.", 255);
                                                                dialog.Send();
                                                            }
                                                        }

                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You~have~learned~Aurora~Lotus.");
                                                        dialog.Option("Thank~you~master.", 255);
                                                    }
                                                    break;
                                                }
                                            case 231:
                                                {
                                                    if (!client.AddSpell(LearnableSpell(12400)))
                                                    {

                                                        {
                                                            if (client.Entity.Level >= 15)
                                                            {

                                                                client.AddSpell(LearnableSpell(12400));
                                                                dialog.Text("You~already~know~Blessing~Touch.");
                                                                dialog.Option("Thank~you~master.", 255);
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You~need~to~be~level~15~or~more.");
                                                                dialog.Option("Alright.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You~have~learned~Blessing~Touch.");
                                                        dialog.Option("Thank~you~master.", 255);
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Pure skill
                                            case 70:
                                                {
                                                    if (client.Entity.Class >= 142 && client.Entity.FirstRebornClass >= 142 && client.Entity.SecondRebornClass >= 142)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(10310)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned HeavenBlade.");
                                                        dialog.Option("Thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You are not allowed, I think your not promoted yet or your not Revenge Fire.");
                                                        dialog.Option("Thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Learn class skills
                                            case 2:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        dialog.Text("i know many types of skills and spells for a true water taoist, like you! which of them do you want to learn, first ?.");
                                                        dialog.Option("Learn Magic.", 71);
                                                        dialog.Option("Learn XP Skill.", 22);
                                                        dialog.Option("Universal Skills.", 102);
                                                        dialog.Option("Supirior skill.", 69);
                                                        dialog.Option("Nothing.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Classs + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #region Learn Magic
                                            case 71:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        dialog.Text("There are many Unique Skills and Spells available to those Who study the Path of water What whould you ask of me ?");
                                                        dialog.Option("Fire Ring.", 33);
                                                        dialog.Option("Fire Meteor.", 34);
                                                        dialog.Option("Fire Circle .", 35);
                                                        dialog.Option("Bomb.", 36);
                                                        dialog.Option("Fire of Hell.", 37);
                                                        dialog.Option("Tornado.", 38);
                                                        dialog.Option("Nothing.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #region Fire Ring
                                            case 33:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 52)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1150)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the fire ring skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 52 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }

                                            #endregion
                                            #region Fire Meteor
                                            case 34:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 55)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1180)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the fire meteor skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 55 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Fire Circle
                                            case 35:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 48)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1120)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the fire circle skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 48 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Bomb
                                            case 36:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 43)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1160)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the bomb skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 43 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }

                                            #endregion
                                            #region Fire of Hell
                                            case 37:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 48)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1165)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the fire of Hell skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 48 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region Tornado
                                            case 38:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 81)
                                                        {
                                                            if (client.Spells.ContainsKey(1001) && client.Spells[1001] != null && client.Spells[1001].Level == 3)
                                                            {
                                                                if (!client.AddSpell(LearnableSpell(1002)))
                                                                {
                                                                    dialog.Text("You already know this skill.");
                                                                    dialog.Option("Thank you master.", 255);
                                                                    dialog.Send();
                                                                    break;
                                                                }
                                                                dialog.Text("You have learned the tornado.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You need to know thunder very well to be able to learn the fire skill.");
                                                                dialog.Option("Alright.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 81 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #endregion
                                            #region Learn XP Skill
                                            case 22:
                                                {
                                                    if (client.Entity.Class >= 100)
                                                    {
                                                        dialog.Text("You can Learn lightning, Volcano, Water Elf, Revive, and Chain Bolt From me. ");
                                                        dialog.Option("Chain Bolt.", 61);
                                                        dialog.Option("Lightning .", 62);
                                                        dialog.Option("Volcano.", 63);
                                                        dialog.Option("SpeedLightning.", 64);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 63:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 1)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1125)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the volcano xp skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 1 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 62:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 1)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1010)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the lightning xp skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 1 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 64:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 1)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(5001)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the Speedlightning xp skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 1 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 61:
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(10309)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned chain bolt.");
                                                        dialog.Option("Thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need atleast level 40.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }

                                            #endregion
                                            #region Supirior skil
                                            case 69:
                                                {
                                                    if (client.Entity.Class >= 100)
                                                    {
                                                        dialog.Text("Before learning the Tornado spell, you must first parctice you fire spell. [Fire Spell 3rd Level+] .");
                                                        dialog.Option("I understand.", 255);
                                                        dialog.Send();

                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #endregion
                                            #endregion
                                        }
                                        break;
                                    }
                                #endregion
                                #region MightyTao
                                case 35500:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("If you have reborn atleast one time, you can learn some great skills. With them you will be able to summon some misterious monsters. They will help you conquer this world much faster.");
                                                    dialog.Option("Summon guard - 1 euxite ore.", 1);
                                                    dialog.Option("Summon class monster - 1 gold ore rate5.", 2);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Entity.Reborn > 0)
                                                    {
                                                        if (client.Inventory.Contains(1072031, 1))
                                                        {
                                                            client.Inventory.Remove(1072031, 1);
                                                            if (!client.AddSpell(LearnableSpell(4000)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You cannot learn those skills until you reborn atleast once.");
                                                        dialog.Option("Alright", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Entity.Reborn > 0)
                                                    {
                                                        if (client.Entity.Class >= 50 && client.Entity.Class <= 55)
                                                        {
                                                            dialog.Text("You cannot learn skills like this one. Ninjas don't need such thing. They are much more stronger than every other class.");
                                                            dialog.Option("Alright", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        if (client.Inventory.Contains(1072054, 1))
                                                        {
                                                            client.Inventory.Remove(1072054, 1);
                                                            if (client.Entity.Class <= 15)
                                                                client.AddSpell(LearnableSpell(4050));
                                                            else if (client.Entity.Class <= 25)
                                                                client.AddSpell(LearnableSpell(4060));
                                                            else if (client.Entity.Class <= 45)
                                                                client.AddSpell(LearnableSpell(4070));
                                                            else if (client.Entity.Class <= 135)
                                                                client.AddSpell(LearnableSpell(4010));
                                                            else if (client.Entity.Class <= 145)
                                                                client.AddSpell(LearnableSpell(4020));
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You cannot learn those skills until you reborn atleast once.");
                                                        dialog.Option("Alright", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region KungFuKing
                                case 20:
                                    {
                                        byte mClass = 80;
                                        byte MClass = 85;
                                        string Class = "Dragon-Warrior";
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        dialog.Text("Dragon-Warrior is a kung fu star who fights fast, accurately and ruthlessly, as well as a group training martial arts on the basis");
                                                        dialog.Text("~of practicality. The Dragon Warrior masters martial arts of various schools, and also excels in wielding many kinds of weapons, such as nunchaku.");
                                                        dialog.Option("I~want~to~get~promoted.", 1);
                                                        dialog.Option("Class~skills.", 2);
                                                        //dialog.Option("Universal~skills.", 76);
                                                        dialog.Option("Pure~skill.", 95);
                                                        dialog.Option("Sounds~great.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #region Learn Pure lee long
                                            case 95:
                                                {
                                                    if (client.Entity.Class >= MClass && client.Entity.FirstRebornClass >= 85 && client.Entity.SecondRebornClass >= 85)
                                                    {
                                                        dialog.Text("The pure skill, [Dragon Fury], is exclusive for Dragon-Warrior who were also Dragon-Warrior in previous two lives.");
                                                        dialog.Text("~If you`ve been 2nd-reborn but not a pure Dragon-Warrior, go find the Rebirth Master for reincarnation to get a new class combination.");
                                                        dialog.Option("Learn~[Dragon~Fury].", 17);
                                                        dialog.Option("I~see.", 255);
                                                        dialog.Avatar(259);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You`re not a pure Dragon-Warrior, so you can`t learn [Dragon Fury]. Go find the Rebirth Master for reincarnation.");

                                                        dialog.Option("Okay.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 17:
                                                {
                                                    if (client.Entity.Class >= MClass && client.Entity.FirstRebornClass >= 85 && client.Entity.SecondRebornClass >= 85)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(12300)))
                                                        {
                                                            dialog.Text("You are not allowed, I think your not promoted yet or your not Revenge Walter.");
                                                            dialog.Option("Thank you.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned Dragon~Fury.");
                                                        dialog.Option("Thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You are not allowed, I think your not promoted yet or your not Revenge Walter.");
                                                        dialog.Option("Thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region universal skill
                                            case 76:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        dialog.Text("I got a universal skill to teach. Which one are you interested in?");
                                                        dialog.Option("Divine~Care~(Lv.15).", 80);
                                                        dialog.Option("I`ll~think~about~it.", 255);
                                                        dialog.Avatar(259);

                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 80:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(11960)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the Fatal Cross.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region promoted
                                            case 1:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Class == MClass)
                                                        {
                                                            dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("To promote now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                            dialog.Option("Promote me sir.", 3);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Class == MClass)
                                                        {
                                                            dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            if (client.PromoteItemNeed == 721020)
                                                            {
                                                                if (client.Inventory.Remove("moonbox"))
                                                                {

                                                                    client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                    client.Entity.Class++;
                                                                    dialog.Text("Congratulations! You have been promoted.");
                                                                    dialog.Option("Thank you master.", 255);
                                                                    dialog.Send();
                                                                }
                                                                else
                                                                {
                                                                    dialog.Text("You don't meet the requierments.");
                                                                    dialog.Option("Ahh.", 255);
                                                                    dialog.Send();
                                                                }
                                                                return;
                                                            }
                                                            if (client.Inventory.Contains(client.PromoteItemNeed, client.PromoteItemCountNeed) && client.Entity.Level >= client.PromoteLevelNeed)
                                                            {
                                                                client.Inventory.Remove(client.PromoteItemNeed, client.PromoteItemCountNeed);
                                                                client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                client.Entity.Class++;
                                                                dialog.Text("Congratulations! You have been promoted.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't meet the requierments.");
                                                                dialog.Option("Ahh.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            case 2:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        dialog.Text("Dragon-Warrior enjoys unique and brilliant combo skills. Typically, the striking [Dragon Kicks], destructive [Dragon Swipe]");
                                                        dialog.Text("~and overwhelming [Dragon Strides] enable the caster to get close to enemies at a lightning speed");
                                                        dialog.Text("~and kill the target in a second");
                                                        dialog.Option("Dragon~Punch", 5);
                                                        dialog.Option("Dragon~Cyclone (lv.3Xp).", 6);
                                                        dialog.Option("Dragon~Strides(lv.15).", 7);
                                                        dialog.Option("Dragon~Flow(lv.15).", 8);
                                                        dialog.Option("Speed~Kick(lv.40)..", 9);
                                                        dialog.Option("Cracking~Swipe(lv.70).", 10);
                                                        dialog.Option("More.", 11);
                                                        dialog.Option("Nothing.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 11:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        dialog.Text("Let me know what you want to learn.");
                                                        dialog.Option("Splitting~Swipe(lv.100).", 12);
                                                        dialog.Option("Dragon~Slash(lv.100).", 13);
                                                        dialog.Option("Dragon~Roar(lv.70).", 14);
                                                        dialog.Option("Dragon~Swing(lv.70).", 15);
                                                        dialog.Option("Previous.", 2);
                                                        dialog.Option("I`ll~talk~to~you~later.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(12240)))
                                                            {
                                                                dialog.Text("This passive skill nicely reveals the essence of Dragon-Warrior kung fu which takes the fist strength");
                                                                dialog.Text("~and deals considerable range damage on enemies in front.");

                                                                dialog.Option("It`s~amazing!", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the Dragon~Punch.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(12290)))
                                                            {
                                                                dialog.Text("Stirs up the potency in body for an instant, and subdues the enemies");
                                                                dialog.Text("~without giving them time to response.");
                                                                dialog.Option("Great!", 255);
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the Dragon~Cyclone.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 7:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            client.AddSpell(LearnableSpell(12320));
                                                            client.AddSpell(LearnableSpell(12330));
                                                            client.AddSpell(LearnableSpell(12340));

                                                            dialog.Text("You have learned the Dragon Strides.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(12270)))
                                                            {
                                                                dialog.Text("Descendents of the Dragon will be blessed with Stamina when it is most needed.");
                                                                dialog.Option("Good.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the Dragon~Flow.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 9:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            client.AddSpell(LearnableSpell(12120));
                                                            client.AddSpell(LearnableSpell(12130));
                                                            client.AddSpell(LearnableSpell(12140));

                                                            dialog.Text("You have learned the Dragon Kicks.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 10:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(12160)))
                                                            {
                                                                dialog.Text("[Cracking Swipe], the first hit of [Dragon Swipe], disarms all enemies before the eyes,");
                                                                dialog.Text("~while the second hit, [Splitting Swipe], completely arouses the power at critical moments.");

                                                                dialog.Option("Great!", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the Cracking~Swipe.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 12:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(12170)))
                                                            {
                                                                dialog.Text("[Cracking Swipe], the first hit of [Dragon Swipe], disarms all enemies before the eyes,");
                                                                dialog.Text("~while the second hit, [Splitting Swipe], completely arouses the power at critical moments.");

                                                                dialog.Option("Great!", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the Dragon Swipe.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 13:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(12350)))
                                                            {
                                                                dialog.Text("[Dragon Slash] is a range attack skill which suddenly tears off the opponent`s guard by illusive kicking tails.");

                                                                dialog.Option("Sounds~good.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the Dragon Slash.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 14:
                                                {
                                                    if (client.Entity.Class >= 85 && client.Entity.FirstRebornClass <= 85)
                                                    {
                                                        if (client.Entity.Level >= 110)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(12280)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the Dragon~Roar.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 110 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The ones who fight at your side for justice will also be blessed by the Dragon, recovering Stamina at critical moments.");

                                                        dialog.Option("Great!", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 15:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(12200)))
                                                            {
                                                                dialog.Text("The ones who fight at your side for justice will also be blessed by the Dragon, recovering Stamina at critical moments.");

                                                                dialog.Option("Great!", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the Dragon~Swing.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Freeze Taoist
                                case 100056:
                                    {
                                        byte mClass = 112;
                                        byte MClass = 115;
                                        string Class = "FreezeTaoist";
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    if (client.Entity.Class >= 100 && client.Entity.Class <= 101)
                                                    {
                                                        dialog.Text("I am the master of the fire skills. As I see, you started your way on conquering this world. I will try to help you teaching you warrir skills and promoting you.");
                                                        dialog.Option("Promote me.", 100);
                                                        dialog.Option("Learn basic skills.", 200);
                                                        //dialog.Option("Claim bound items.", 49);  
                                                        dialog.Option("Wait a minute.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                        {
                                                            dialog.Text("I am the master of the fire skills. As I see, you started your way on conquering this world. I will try to help you teaching you warrir skills and promoting you.");
                                                            dialog.Option("Promote me.", 1);
                                                            dialog.Option("Learn skills.", 2);
                                                            dialog.Option("Learn basic skills.", 200);
                                                            //dialog.Option("Realot My Point to Freeze Toaist.", 250);  
                                                            //dialog.Option("Claim bound items.", 49);  
                                                            dialog.Option("HeavenBlade Pure skill.", 85);
                                                            dialog.Option("Wait a minute.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    break;
                                                }
                                            case 85:
                                                {
                                                    if (client.Entity.Level >= 70)
                                                    {
                                                        if (client.Entity.FirstRebornClass == 115 && client.Entity.SecondRebornClass == 115 && client.Entity.Class == 115)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(10310)))
                                                            {
                                                                dialog.Text("You already kNow this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the HeavenBlade .");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be freeze in the third life.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 70 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }

                                                    break;
                                                }






                                            case 242:
                                                {
                                                    if (client.Entity.Class == 115)
                                                    {

                                                        client.Entity.Strength = 176;
                                                        client.Entity.Vitality = 90;
                                                        client.Entity.Agility = 10;
                                                        client.Entity.Spirit = 100;
                                                        dialog.Text("You have Realot Your point To Freeze Toaist.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();

                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 250:
                                                {
                                                    if (client.Entity.Level >= 120)
                                                    {

                                                        client.Entity.Strength = 176;
                                                        client.Entity.Vitality = 90;
                                                        client.Entity.Agility = 10;
                                                        client.Entity.Spirit = 100;
                                                        dialog.Text("You have Realot Your point To Freeze Toaist.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();

                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You Must Be level 120.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 100:
                                                {
                                                    if (client.Entity.Class >= 100 && client.Entity.Class <= 101)
                                                    {
                                                        if (client.Entity.Class == 101)
                                                        {
                                                            dialog.Text("Do you want to become a Freeze Toaist?");
                                                            dialog.Option("Yes sir.", 254);
                                                            dialog.Option("No thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("To promote Now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                            dialog.Option("Promote me sir.", 254);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 254:
                                                {
                                                    if (client.Entity.Class == 100)
                                                    {
                                                        client.Entity.Class++;
                                                        dialog.Text("Congratulations! You have been promoted.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else if (client.Entity.Class == 101)
                                                    {
                                                        client.Entity.Class = 112;
                                                        dialog.Text("Congratulations! You have been promoted.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 200:
                                                {
                                                    if (client.Entity.Class >= 100)
                                                    {
                                                        dialog.Text("Let me kNow what you want to learn.");
                                                        dialog.Option("Thunder (Lvl 1).", 205);
                                                        dialog.Option("Cure (Lvl 1).", 206);
                                                        dialog.Option("Meditation. (Lvl 40).", 207);
                                                        dialog.Option("Nothing.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 205:
                                                {
                                                    if (client.Entity.Class >= 100)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1000)))
                                                        {
                                                            dialog.Text("You already kNow this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned thunder.");
                                                        dialog.Option("Thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 206:
                                                {
                                                    if (client.Entity.Class >= 100)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1005)))
                                                        {
                                                            dialog.Text("You already kNow this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned cure.");
                                                        dialog.Option("Thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 207:
                                                {
                                                    if (client.Entity.Class >= 100)
                                                    {
                                                        if (client.Entity.Level >= 40)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1195)))
                                                            {
                                                                dialog.Text("You already kNow this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned meditation.");
                                                            dialog.Option("Thank you.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 40 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Class == MClass)
                                                        {
                                                            dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("To promote Now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                            dialog.Option("Promote me sir.", 3);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Class == MClass)
                                                        {
                                                            dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            if (client.PromoteItemNeed == 721020)
                                                            {
                                                                if (client.Inventory.Remove("moonbox"))
                                                                {
                                                                    client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                    client.Entity.Class++;
                                                                    dialog.Text("Congratulations! You have been promoted.");
                                                                    dialog.Option("Thank you master.", 255);
                                                                    dialog.Send();
                                                                }
                                                                else
                                                                {
                                                                    dialog.Text("You don't meet the requierments.");
                                                                    dialog.Option("Ahh.", 255);
                                                                    dialog.Send();
                                                                }
                                                                return;
                                                            }
                                                            if (client.Inventory.Contains(client.PromoteItemNeed, client.PromoteItemCountNeed) && client.Entity.Level >= client.PromoteLevelNeed)
                                                            {
                                                                client.Inventory.Remove(client.PromoteItemNeed, client.PromoteItemCountNeed);
                                                                client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                client.Entity.Class++;
                                                                dialog.Text("Congratulations! You have been promoted.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't meet the requierments.");
                                                                dialog.Option("Ahh.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        dialog.Text("Let me kNow what you want to learn.");
                                                        dialog.Option("SperkyFlame.", 101);
                                                        dialog.Option("Burn!.", 102);
                                                        dialog.Option("DragonFire.", 103);
                                                        dialog.Option("FireSkills.", 104);
                                                        dialog.Option("AhmedTorrent.", 105);
                                                        dialog.Option("IceBolt (Lvl 42).", 5);
                                                        dialog.Option("IceShock. (Lvl 43).", 6);
                                                        dialog.Option("Chill. (Lvl 48).", 7);
                                                        dialog.Option("Blade Justic. (Lvl 52).", 8);
                                                        //dialog.Option("Icy Touch. (Lvl 55).", 9);  
                                                        //dialog.Option("Tornado (Lvl 81 + Fire lvl 3).", 10);  
                                                        dialog.Option("Nothing.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 105:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 42)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(7011)))
                                                            {
                                                                dialog.Text("You already kNow this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the IceBolt skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 43 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 104:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 42)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(7015)))
                                                            {
                                                                dialog.Text("You already kNow this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the IceBolt skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 43 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 103:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 42)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(7017)))
                                                            {
                                                                dialog.Text("You already kNow this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the IceBolt skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 43 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 102:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 42)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(7014)))
                                                            {
                                                                dialog.Text("You already kNow this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the IceBolt skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 43 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 101:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 42)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1165)))
                                                            {
                                                                dialog.Text("You already kNow this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the IceBolt skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 43 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 5:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 42)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(30010)))
                                                            {
                                                                dialog.Text("You already kNow this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the IceBolt skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 43 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 10:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 81)
                                                        {
                                                            if (client.Spells.ContainsKey(1001) && client.Spells[1001] != null && client.Spells[1001].Level == 3)
                                                            {
                                                                if (!client.AddSpell(LearnableSpell(1002)))
                                                                {
                                                                    dialog.Text("You already kNow this skill.");
                                                                    dialog.Option("Thank you master.", 255);
                                                                    dialog.Send();
                                                                    break;
                                                                }
                                                                dialog.Text("You have learned the tornado.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You need to kNow thunder very well to be able to learn the fire skill.");
                                                                dialog.Option("Alright.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 81 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 6:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 43)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(30011)))
                                                            {
                                                                dialog.Text("You already kNow this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the IceShock skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 43 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 7:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 48)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(30012)))
                                                            {
                                                                dialog.Text("You already kNow this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the fire Avalanche skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 48 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 8:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 52)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(10500)))
                                                            {
                                                                dialog.Text("You already kNow this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned Blade Justice skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 52 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 9:
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        if (client.Entity.Level >= 55)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1180)))
                                                            {
                                                                dialog.Text("You already kNow this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the fire meteor skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be level 55 or more.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #endregion
                            }
                            break;
                        }
                    #endregion
                    #region Lottery
                    case 700:
                        {
                            switch (client.ActiveNpc)
                            {

                                #region LuckyBox
                                case 925:
                                case 926:
                                case 927:
                                case 928:
                                case 929:
                                case 930:
                                    {
                                        Game.Lottery.LuckyBox(client.ActiveNpc, client, false);
                                        break;
                                    }
                                #endregion
                                #region CollecterWong
                                case 3952:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("I~am~fond~of~collecting~all~kinds~of~treasure.~If~you~happen~to~have~any~Disguise Amulets,~Life Fruit Basket,~or");
                                                    dialog.Text("~PenitenceAmulets,~you~may~sell~them~to~me.~I~will~pay~you~ten~CPs~for~each~one.");

                                                    dialog.Option("Here~are~my~Disguise~Amulets~(No~more~than~15).", 1);
                                                    dialog.Option("Here~are~my~Life~Fruit~Baskets~(No~more~than~15).", 2);
                                                    dialog.Option("Here~are~my~Penitence~Amulets~(No~more~than~15).", 3);
                                                    dialog.Option("I~have~none~of~them.", 255);
                                                    dialog.Avatar(10);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Inventory.Contains(723724, 1))
                                                    {
                                                        client.Inventory.Remove(723724, 1);
                                                        client.Entity.ConquerPoints += 10;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry you dont Have Any DisguiseAmulet.");
                                                        dialog.Option("Alright Thanks", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Inventory.Contains(723725, 1))
                                                    {
                                                        client.Inventory.Remove(723725, 1);
                                                        client.Entity.ConquerPoints += 10;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry you dont Have Any LifeFruitBasket.");
                                                        dialog.Option("Alright Thanks", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    if (client.Inventory.Contains(723727, 1))
                                                    {
                                                        client.Inventory.Remove(723727, 1);
                                                        client.Entity.ConquerPoints += 10;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry you dont Have Any PenitenceAmulet.");
                                                        dialog.Option("Alright Thanks.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                            }
                            break;
                        }
                    #endregion
                    #region Furniture
                    case 1511:
                        {
                            #region Furn Info
                            string FurnName = "Unknown";
                            uint Cost = 0;
                            uint ITEMUID = 0;
                            if (client.ActiveNpc == 3117)
                            {
                                FurnName = "RosewoodCabinet";
                                Cost = 8500;
                                ITEMUID = 721182;
                            }
                            if (client.ActiveNpc == 8924)
                            {
                                FurnName = "Flower Dressing Table";
                                Cost = 8000;
                                ITEMUID = 726083;
                            }
                            if (client.ActiveNpc == 8926)
                            {
                                FurnName = "Walnut Square Table";
                                Cost = 8000;
                                ITEMUID = 726085;
                            }
                            if (client.ActiveNpc == 8925)
                            {
                                FurnName = "Rosewood Flat Table";
                                Cost = 8000;
                                ITEMUID = 726084;
                            }
                            if (client.ActiveNpc == 3124)//itembox
                            {
                                FurnName = "Item Box";
                                Cost = 100000;
                                ITEMUID = 721189;
                            }
                            if (client.ActiveNpc == 3123)
                            {
                                FurnName = "End Table";
                                Cost = 9000;
                                ITEMUID = 721188;
                            }
                            if (client.ActiveNpc == 8917)
                            {
                                FurnName = "Red Oak Table";
                                Cost = 8000;
                                ITEMUID = 726076;
                            }
                            if (client.ActiveNpc == 8918)
                            {
                                FurnName = "Ebony Cabinet";
                                Cost = 8000;
                                ITEMUID = 726077;
                            }
                            if (client.ActiveNpc == 8919)
                            {
                                FurnName = "Beech Closet";
                                Cost = 8000;
                                ITEMUID = 726078;
                            }
                            if (client.ActiveNpc == 8920)
                            {
                                FurnName = "Spruce Closet";
                                Cost = 8000;
                                ITEMUID = 726079;
                            }
                            if (client.ActiveNpc == 8922)
                            {
                                FurnName = "Ashtree Closet";
                                Cost = 8000;
                                ITEMUID = 726081;
                            }
                            if (client.ActiveNpc == 8923)
                            {
                                FurnName = "Chessboard";
                                Cost = 8000;
                                ITEMUID = 726082;
                            }
                            if (client.ActiveNpc == 8921)
                            {
                                FurnName = "Agalloch Table";
                                Cost = 8000;
                                ITEMUID = 726080;
                            }
                            if (client.ActiveNpc == 3122)
                            {
                                FurnName = "Chair";
                                Cost = 9000;
                                ITEMUID = 721187;
                            }
                            if (client.ActiveNpc == 3115)
                            {
                                FurnName = "Cabinet";
                                Cost = 8000;
                                ITEMUID = 721179;
                            }
                            if (client.ActiveNpc == 3116)
                            {
                                FurnName = "BombeChest";
                                Cost = 8000;
                                ITEMUID = 721181;
                            }
                            if (client.ActiveNpc == 3119)
                            {
                                FurnName = "Folding Screen";
                                Cost = 12000;
                                ITEMUID = 721184;
                            }
                            if (client.ActiveNpc == 3113)
                            {
                                FurnName = "Lamp";
                                Cost = 8500;
                                ITEMUID = 721177;
                            }
                            if (client.ActiveNpc == 3114)
                            {
                                FurnName = "Low Chelf";
                                Cost = 8000;
                                ITEMUID = 721178;
                            }
                            if (client.ActiveNpc == 3118)
                            {
                                FurnName = "High Cabinet";
                                Cost = 8000;
                                ITEMUID = 721183;
                            }
                            if (client.ActiveNpc == 3125)
                            {
                                FurnName = "High Shelf";
                                Cost = 8000;
                                ITEMUID = 721180;
                            }
                            if (client.ActiveNpc == 3120)
                            {
                                FurnName = "Dresser";
                                Cost = 12000;
                                ITEMUID = 721185;
                            }
                            if (client.ActiveNpc == 3121)
                            {
                                FurnName = "Basin Rack";
                                Cost = 6000;
                                ITEMUID = 721186;
                            }
                            #endregion
                            switch (client.ActiveNpc)
                            {
                                #region Furnitures
                                default:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("You want to buy this " + FurnName + "? Pay " + Cost + " Silver and it will be yours!");

                                                    dialog.Option("Okay!", 1);
                                                    dialog.Option("Too~expensive~for~me!", 255);
                                                    dialog.Avatar(188);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Entity.Money >= Cost)
                                                    {
                                                        if (client.Inventory.Count <= 39)
                                                        {
                                                            client.Entity.Money -= Cost;
                                                            client.Inventory.Add(ITEMUID, 0, 1);
                                                        }
                                                        else
                                                            client.Send(Constants.FullInventory);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have enough money!");

                                                        dialog.Option("Oops!", 255);
                                                        dialog.Avatar(188);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                            }
                            break;
                        }
                    #endregion
                    #region GaleShallow
                    case 3055:
                        {
                            switch (client.ActiveNpc)
                            {
                                #region CoastGeneral
                                case 9463:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Hi! I`m the Coast General, and I`m here to guard the coast. Don`t make trouble, or we`re going to have problems!");
                                                    dialog.Option("I~won`t.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region SharkSoldier
                                case 16833:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("Tell you what, there`s a monster called Nemesis Tyrant hiding at the bottom of the Bloodshed Sea! No one has come back alive after seeing it!"); dialog.Text("~It`s said that anyone who kills this goddamned monster will receive a Savage Bone, which can be used to explored the P7 Sacred Treasures!");
                                                    dialog.Option("Send~me~to~the~Bloodshed~Sea!", 1);
                                                    dialog.Option("Holy...So~scary!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    client.Entity.Teleport(3856, 381, 269);
                                                    Data data = new Data(true);
                                                    data.UID = client.Entity.UID;
                                                    data.dwParam = 3856;
                                                    data.ID = 104;
                                                    data.TimeStamp = Time32.Now;
                                                    data.dwParam = 16755370;
                                                    client.Send(data);
                                                    client.SendScreen(data, true);
                                                    client.Screen.Reload(null);
                                                    client.MessageBox("You~arrived~at~the~Bloodshed~Sea.");
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                                #region Conductress
                                case 9464:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("With only 100 silver, I can teleport you to somewhere far away. Please choose your destination.");
                                                    dialog.Option("Desert~City", 1);
                                                    dialog.Option("Market.", 2);
                                                    dialog.Option("Just~passing~by.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    if (client.Entity.Money >= 100)
                                                    {
                                                        client.Entity.Teleport(1000, 500, 645);
                                                        client.Entity.Money -= 100;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Hey! You don't have 100 gold do you?\nDon't you dare try to cheat me or I'll call the guards!");
                                                        dialog.Option("Crazy!", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    if (client.Entity.Money >= 100)
                                                    {
                                                        client.Entity.Money -= 100;
                                                        client.Entity.Teleport(1036, 211, 196);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Hey! You don't have 100 gold do you?\nDon't you dare try to cheat me or I'll call the guards!");
                                                        dialog.Option("Crazy!", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                            }
                            break;
                        }
                    #endregion
                    #region BloodshedSea
                    case 3856:
                        {
                            switch (client.ActiveNpc)
                            {

                                #region SharkSoldier
                                case 16834:
                                case 16854:
                                case 16855:
                                case 16856:
                                case 16853:
                                case 16852:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            case 0:
                                                {
                                                    dialog.Text("This is where the Nemesis Tyrant is hiding. I can`t recall the number of the people who came here. I just remember how they got killed. If you wanna"); dialog.Text("~talk about it, tell me any time.");
                                                    dialog.Option("Tell~me~about~the~sea.", 1);
                                                    dialog.Option("I~wanna~buy~some~Sea~Potions.", 2);
                                                    dialog.Option("God!~Send~me~back!", 3);
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 2:
                                                {
                                                    Data data = new Data(true);
                                                    data.ID = Data.OpenWindow;
                                                    data.UID = client.Entity.UID;
                                                    data.TimeStamp = Time32.Now;
                                                    data.dwParam = 32;
                                                    data.ID = 160;
                                                    data.TimeStamp2 = 16834;
                                                    data.wParam1 = client.Entity.X;
                                                    data.wParam2 = client.Entity.Y;
                                                    client.Send(data);
                                                    break;
                                                }
                                            case 1:
                                                {
                                                    dialog.Text("Well, this sea is kinda special. You won`t get PK points and can`t use City Gates. The Nemesis Tyrant will show up at 15 and 45 of each hour. Look at you..."); dialog.Text("~Before it shows up, you`ll find some Gold Boxes! Open the boxes, you`ll receive some Sea Potions and learn the position of the monster in advance!"); dialog.Text("~Oh, you can also get the potions if you defeat the Nightmare Captain!");
                                                    dialog.Option("Tell~me~something~else.", 0);
                                                    dialog.Option("Got~you/", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 3:
                                                {
                                                    client.Entity.Teleport(3055, 61, 91);
                                                    Data data = new Data(true);
                                                    data.UID = client.Entity.UID;
                                                    data.ID = 104;
                                                    data.TimeStamp = Time32.Now;
                                                    data.dwParam = 0;
                                                    client.Send(data);
                                                    client.SendScreen(data, true);
                                                    client.Screen.Reload(null);
                                                    client.MessageBox("You~arrived~at~the~Gale~Shallow.");
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                                #endregion
                            }
                            break;
                        }
                    #endregion
                }
                switch (client.ActiveNpc)
                {                        
                    #region NemesisTyrant
                    case 3080:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hah! Want my treasures? Go to hell! Show me what you`re made of!");
                                        dialog.Option("We`ll~see!", 1);
                                        dialog.Option("Leave.", 255);
                                        dialog.Avatar(0);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        Database.MonsterInformation mob;
                                        Database.MonsterInformation.MonsterInformations.TryGetValue(4220, out mob);
                                        client.Map.Spawnthis(mob, client, npcs.MapID, npcs.X, npcs.Y);
                                        Kernel.SpawnNemesis2 = false;
                                        Kernel.Maps[3856].Npcs.Remove(3080);
                                        client.SendScreen(new Data(true) { UID = 3080, ID = Data.RemoveEntity }, true);
                                    }
                                    break;
                            }
                            break;
                        }
                    #endregion
                    #region SnowBanshee
                    case 2999:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hah! Want my SnowBanshee? Go to hell! Show me what you`re made of!");
                                        dialog.Option("We`ll~see!", 1);
                                        dialog.Option("Leave.", 255);
                                        dialog.Avatar(0);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        Database.MonsterInformation mob;
                                        Database.MonsterInformation.MonsterInformations.TryGetValue(4171, out mob);
                                        client.Map.Spawnthis(mob, client, npcs.MapID, npcs.X, npcs.Y);
                                        Kernel.SpawnBanshee2 = false;
                                        Kernel.Maps[1927].Npcs.Remove(2999);
                                        client.SendScreen(new Data(true) { UID = 2999, ID = Data.RemoveEntity }, true);
                                        FloorItem Send = new FloorItem(true);
                                        Send.UID = 125;
                                        Send.X = client.Entity.X;
                                        Send.Y = client.Entity.Y;
                                        Send.Type = 6;
                                        client.SendScreenSpawn(Send, true);
                                    }
                                    break;
                            }
                            break;
                        }
                    #endregion
                    #region Titan
                    case 29996:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hah! Want my Titan? Go to hell! Show me what you`re made of!");
                                        dialog.Option("We`ll~see!", 1);
                                        dialog.Option("Leave.", 255);
                                        dialog.Avatar(0);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        Database.MonsterInformation mob;
                                        Database.MonsterInformation.MonsterInformations.TryGetValue((uint)Kernel.Random.Next(3134, 3137), out mob);
                                        client.Map.Spawnthis(mob, client, npcs.MapID, npcs.X, npcs.Y);
                                        Kernel.Titan2 = false;
                                        Kernel.Maps[1020].Npcs.Remove(29996);
                                        client.SendScreen(new Data(true) { UID = 29996, ID = Data.RemoveEntity }, true);
                                        FloorItem Send = new FloorItem(true);
                                        Send.UID = 125;
                                        Send.X = client.Entity.X;
                                        Send.Y = client.Entity.Y;
                                        Send.Type = 6;
                                        client.SendScreenSpawn(Send, true);
                                    }
                                    break;
                            }
                            break;
                        }
                    #endregion
                    #region CS-CTF-Manager
                    case 8713:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("The pursuit of ultimate glory will never end! The Kingdom Capture the Flag contest (Kingdom CTF) will be held");
                                        dialog.Text("~from 20:50 - 22:30, every Tuesday. Only the members above Level 120 from the Top 3 guilds of the CTF contest");
                                        dialog.Text("~in each server will be qualified for the Kingdom CTF contest!");
                                        dialog.Option("Sign~me~up!", 1);
                                        dialog.Option("What`re~the~rules?", 2);
                                        dialog.Option("What`re~the~prizes?", 4);
                                        dialog.Option("See~you~then!", 255);
                                        dialog.Avatar(107);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("It`s not the time for the Kingdom CTF contest. Come see me from 20:50 - 22:30, each Tuesday, to sign up!");
                                        dialog.Option("Alright.", 255);
                                        dialog.Avatar(107);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("After entering the arena, you will find 3 unoccupied flag bases and some flags. Attack the flag base to capture it for your guild.");
                                        dialog.Text("~Seize a flag, then carry and plant it in your guild`s flag base to gain points for your guild. The guild with the highest points will");
                                        dialog.Text("~win the Kingdom CTF contest.");
                                        dialog.Option("Anything~else?", 3);
                                        dialog.Avatar(107);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("When the contest begins, some potions will randomly appear in the field. Make good use of them! If killed, you may drop something.");
                                        dialog.Text("~Every 15 minutes during the contest, a random flag base will receive a bonus effect, which will double the points gained by the occupying guild.");
                                        dialog.Text("~The members of the occupying guilds will also receive double Exploits!");
                                        dialog.Option("I~see.", 255);
                                        dialog.Avatar(107);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("The Top 8 guilds of the Kingdom CTF will be rewarded with tons of Silver and CPs! What`s more,");
                                        dialog.Text("~the Top 3 guild`s leaders can claim a honorable garment pack from the awarder within 30 minutes after the contest.");
                                        dialog.Option("I~see.", 255);
                                        dialog.Option("What`re~the~rules?", 2);
                                        dialog.Option("What`re~the~prizes?", 5);
                                        dialog.Option("See~you~then!", 255);
                                        dialog.Avatar(107);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        dialog.Text("The Top 8 guilds of the Kingdom CTF will be rewarded with tons of Silver and CPs! What`s more,");
                                        dialog.Text("~the Top 3 guild`s leaders can claim a honorable garment pack from the awarder within 30 minutes after the contest.");
                                        dialog.Option("I~see.", 255);
                                        dialog.Option("What`re~the~rules?", 2);
                                        dialog.Option("What`re~the~prizes?", 4);
                                        dialog.Option("See~you~then!", 255);
                                        dialog.Avatar(107);
                                        dialog.Send();
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Dragon Island
                    #region Conductress
                    case 20508:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("<tip color=0xffffff00 desc=The#Conductress#inherited#the#station#from#her#father.#She#prospered#the#business#");
                                        dialog.Text("by#adopting#advance#management #methods,#and#is#praised#for#providing#excellent#teleport#services.>");
                                        dialog.Text("Conductress</tip>: ");
                                        dialog.Text("May I help you? I only charge 100 Silver for teleport service per time. It`s free if you want to go to the Market.");

                                        dialog.Option("Twin~City.", 1);
                                        dialog.Option("Market.", 2);
                                        dialog.Option("I`m~just~passing~by.", 255);
                                        dialog.Avatar(1);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Entity.Money >= 100)
                                        {
                                            client.Entity.Money -= 100;
                                            ushort X = 313;
                                            ushort Y = 348;
                                            client.Entity.Update(10, "moveback", true);
                                            client.Entity.Teleport(1002, X, Y);
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry, you do not have 100 silver.");
                                            dialog.Option("I see.", 255);
                                            dialog.Send();
                                        }

                                        break;
                                    }
                                case 2:
                                    {
                                        if (client.Entity.Money >= 100)
                                        {
                                            //client.Entity.Prev();
                                            client.Entity.Money -= 100;
                                            ushort X = 218;
                                            ushort Y = 221;
                                            client.Entity.Update(10, "moveback", true);
                                            client.Entity.Teleport(1036, X, Y);
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry, you do not have 100 silver.");
                                            dialog.Option("I see.", 255);
                                            dialog.Send();
                                        }


                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region IronTong
                    case 20499:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("<tip desc=In#the#battle#several#hundred#years#ago,#the#Five#Great#Masters#defeated#the#King#of#Evil#and#destroyed#his#Twisting#Hell#Array#");
                                        dialog.Text("on#the#Dragon#Island.#After#that,#11#heroes#volunteered#to#station#on#the#island.#Iron#Tong#has#inherited#this#mission#more#than#ten#years.#");
                                        dialog.Text("However,#the#hell#devils#broke#in#again.#To#get#out#of#this#crisis,#he#left#Dragon#Island#for#the#first#time.>Iron Tong</tip>: ");
                                        dialog.Text("The Queen of Evil and her troop suddenly attacked the Dragon Island. Obviously, she came for the Twisting Hell Array.");
                                        dialog.Text("~I`m afraid she has figured out how to reactivate that array. We`d better not to let it happen. For the sake of humans,");
                                        dialog.Text("~please join us to defend the Dragon Island!");

                                        dialog.Option("Send~me~to~Dragon~Island.", 1);
                                        dialog.Option("I`ll~talk~to~you~later.", 255);
                                        dialog.Avatar(55);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {

                                        client.Entity.Teleport(10137, 95, 409);
                                        client.Entity.Update(10, "moveback", true);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region CobbWind
                    case 20500:
                        {
                            switch (npcRequest.OptionID)
                            {

                                case 0:
                                    {
                                        if (DateTime.Now.Minute >= 0 || DateTime.Now.Minute <= 4)
                                        {
                                            dialog.Text("<tip desc=Cobb#Wind,#formerly#a#pirate,#was#save#by#Sky#Shan#from#a#murder.#");
                                            dialog.Text("He#has#turned#to#the#side#of#justice#since#then,#and#made#lots#of#contributions.>");
                                            dialog.Text("Cobb Wind</tip>: ");
                                            dialog.Text("Urgent report from the front line!");
                                            dialog.Text("   [Thrilling Spook] has appeared around (349,635) on the Dragon Island!");
                                            dialog.Text("Many heroes are heading to fight against the beasts. Hurry and go support them!");

                                            dialog.Option("Go~kill~the~[Thrilling~Spook]", 8);
                                            dialog.Option("I`ll~talk~to~you~later.", 255);
                                            dialog.Avatar(53);
                                        }
                                        else if (DateTime.Now.Minute >= 5 || DateTime.Now.Minute <= 13)
                                        {
                                            dialog.Text("<tip desc=Cobb#Wind,#formerly#a#pirate,#was#save#by#Sky#Shan#from#a#murder.#");
                                            dialog.Text("He#has#turned#to#the#side#of#justice#since#then,#and#made#lots#of#contributions.>");
                                            dialog.Text("Cobb Wind</tip>: ");
                                            dialog.Text("You came at the right time! The devils have occupied the Twisting Hell Array, and are trying to summon ");
                                            dialog.Text("<tip color=0xfff05050 desc=Killing#Nemesis#Tyrant#brings#Savage#Bone,#P7#Weapon/Armor/Accessory#Soul#Pack#Fragment,#Senior#EXP#Nut,#etc.>Nemesis Tyrant</tip>,");
                                            dialog.Text("~<tip color=0xfff05050 desc=Killing#Snow#Banshee#brings#P5-6#Dragon#Soul,#Dragon#Ball,#+2#Stone,#Senior#EXP#Nut,#etc.>Snow Banshee</tip> and");
                                            dialog.Text("~<tip color=0xfff05050 desc=Killing#Thrilling#Spook#brings#P6#Dragon#Soul,#Dragon#Ball,#Senior#EXP#Nut,#etc.>Thrilling Spook</tip>");
                                            dialog.Text("~to the Dragon Island. Commander Shan has given order to kill them at any cost. Dragon Island is not allowed to sink!");
                                            dialog.Text("   * [Nemesis Tyrant] will appear at 0" + DateTime.Now.Hour + ":15 today around (568,372) on the Dragon Island.* ");

                                            dialog.Option("Learn~more~about~these~beasts.", 1);
                                            dialog.Option("I`ll~keep~an~eye~on~them.", 255);
                                            dialog.Avatar(53);
                                        }
                                        else if (DateTime.Now.Minute == 14)
                                        {
                                            dialog.Text("<tip desc=Cobb#Wind,#formerly#a#pirate,#was#save#by#Sky#Shan#from#a#murder.#");
                                            dialog.Text("He#has#turned#to#the#side#of#justice#since#then,#and#made#lots#of#contributions.>");
                                            dialog.Text("Cobb Wind</tip>: ");
                                            dialog.Text("You came at the right time! The devils have occupied the Twisting Hell Array, and are trying to summon ");
                                            dialog.Text("<tip color=0xfff05050 desc=Killing#Nemesis#Tyrant#brings#Savage#Bone,#P7#Weapon/Armor/Accessory#Soul#Pack#Fragment,#Senior#EXP#Nut,#etc.>Nemesis Tyrant</tip>,");
                                            dialog.Text("~<tip color=0xfff05050 desc=Killing#Snow#Banshee#brings#P5-6#Dragon#Soul,#Dragon#Ball,#+2#Stone,#Senior#EXP#Nut,#etc.>Snow Banshee</tip> and");
                                            dialog.Text("~<tip color=0xfff05050 desc=Killing#Thrilling#Spook#brings#P6#Dragon#Soul,#Dragon#Ball,#Senior#EXP#Nut,#etc.>Thrilling Spook</tip>");
                                            dialog.Text("~to the Dragon Island. Commander Shan has given order to kill them at any cost. Dragon Island is not allowed to sink!");
                                            dialog.Text("   * [Snow Banshee] will appear at 0" + DateTime.Now.Hour + ":27 today around (658,718) on the Dragon Island.* ");

                                            dialog.Option("Learn~more~about~these~beasts.", 1);
                                            dialog.Option("I`ll~keep~an~eye~on~them.", 255);
                                            dialog.Avatar(53);
                                        }
                                        else if (DateTime.Now.Minute >= 15 || DateTime.Now.Minute <= 17)
                                        {
                                            dialog.Text("<tip desc=Cobb#Wind,#formerly#a#pirate,#was#save#by#Sky#Shan#from#a#murder.#");
                                            dialog.Text("He#has#turned#to#the#side#of#justice#since#then,#and#made#lots#of#contributions.>");
                                            dialog.Text("Cobb Wind</tip>: ");
                                            dialog.Text("Urgent report from the front line!");
                                            dialog.Text("   [Nemesis Tyrant] has appeared around (568,372) on the Dragon Island!");
                                            dialog.Text("Many heroes are heading to fight against the beasts. Hurry and go support them!");

                                            dialog.Option("Go~kill~the~[Nemesis~Tyrant].", 3);
                                            dialog.Option("I`ll~talk~to~you~later.", 255);
                                            dialog.Avatar(53);
                                        }
                                        else if (DateTime.Now.Minute >= 18 || DateTime.Now.Minute <= 26)
                                        {
                                            dialog.Text("<tip desc=Cobb#Wind,#formerly#a#pirate,#was#save#by#Sky#Shan#from#a#murder.#");
                                            dialog.Text("He#has#turned#to#the#side#of#justice#since#then,#and#made#lots#of#contributions.>");
                                            dialog.Text("Cobb Wind</tip>: ");
                                            dialog.Text("You came at the right time! The devils have occupied the Twisting Hell Array, and are trying to summon ");
                                            dialog.Text("<tip color=0xfff05050 desc=Killing#Nemesis#Tyrant#brings#Savage#Bone,#P7#Weapon/Armor/Accessory#Soul#Pack#Fragment,#Senior#EXP#Nut,#etc.>Nemesis Tyrant</tip>,");
                                            dialog.Text("~<tip color=0xfff05050 desc=Killing#Snow#Banshee#brings#P5-6#Dragon#Soul,#Dragon#Ball,#+2#Stone,#Senior#EXP#Nut,#etc.>Snow Banshee</tip> and");
                                            dialog.Text("~<tip color=0xfff05050 desc=Killing#Thrilling#Spook#brings#P6#Dragon#Soul,#Dragon#Ball,#Senior#EXP#Nut,#etc.>Thrilling Spook</tip>");
                                            dialog.Text("~to the Dragon Island. Commander Shan has given order to kill them at any cost. Dragon Island is not allowed to sink!");
                                            dialog.Text("   * [Snow Banshee] will appear at 0" + DateTime.Now.Hour + ":27 today around (658,718) on the Dragon Island.* ");

                                            dialog.Option("Learn~more~about~these~beasts.", 1);
                                            dialog.Option("I`ll~keep~an~eye~on~them.", 255);
                                            dialog.Avatar(53);
                                        }
                                        else if (DateTime.Now.Minute >= 27 || DateTime.Now.Minute <= 28)
                                        {
                                            dialog.Text("<tip desc=Cobb#Wind,#formerly#a#pirate,#was#save#by#Sky#Shan#from#a#murder.#");
                                            dialog.Text("He#has#turned#to#the#side#of#justice#since#then,#and#made#lots#of#contributions.>");
                                            dialog.Text("Cobb Wind</tip>: ");
                                            dialog.Text("Urgent report from the front line!");
                                            dialog.Text("   [Snow Banshee] has appeared around (658,718) on the Dragon Island!");
                                            dialog.Text("Many heroes are heading to fight against the beasts. Hurry and go support them!");

                                            dialog.Option("Go~kill~the~[Snow~Banshee].", 5);
                                            dialog.Option("I`ll~talk~to~you~later.", 255);
                                            dialog.Avatar(53);
                                        }
                                        else if (DateTime.Now.Minute == 29)
                                        {
                                            dialog.Text("<tip desc=Cobb#Wind,#formerly#a#pirate,#was#save#by#Sky#Shan#from#a#murder.#");
                                            dialog.Text("He#has#turned#to#the#side#of#justice#since#then,#and#made#lots#of#contributions.>");
                                            dialog.Text("Cobb Wind</tip>: ");
                                            dialog.Text("You came at the right time! The devils have occupied the Twisting Hell Array, and are trying to summon ");
                                            dialog.Text("<tip color=0xfff05050 desc=Killing#Nemesis#Tyrant#brings#Savage#Bone,#P7#Weapon/Armor/Accessory#Soul#Pack#Fragment,#Senior#EXP#Nut,#etc.>Nemesis Tyrant</tip>,");
                                            dialog.Text("~<tip color=0xfff05050 desc=Killing#Snow#Banshee#brings#P5-6#Dragon#Soul,#Dragon#Ball,#+2#Stone,#Senior#EXP#Nut,#etc.>Snow Banshee</tip> and");
                                            dialog.Text("~<tip color=0xfff05050 desc=Killing#Thrilling#Spook#brings#P6#Dragon#Soul,#Dragon#Ball,#Senior#EXP#Nut,#etc.>Thrilling Spook</tip>");
                                            dialog.Text("~to the Dragon Island. Commander Shan has given order to kill them at any cost. Dragon Island is not allowed to sink!");
                                            dialog.Text("   * [Thrilling Spook] will appear at 0" + DateTime.Now.Hour + " :30 today around (349,635) on the Dragon Island.* ");

                                            dialog.Option("Learn~more~about~these~beasts.", 1);
                                            dialog.Option("I`ll~keep~an~eye~on~them.", 255);
                                            dialog.Avatar(53);
                                            dialog.Avatar(53);
                                        }
                                        else if (DateTime.Now.Minute >= 30 || DateTime.Now.Minute <= 34)
                                        {
                                            dialog.Text("<tip desc=Cobb#Wind,#formerly#a#pirate,#was#save#by#Sky#Shan#from#a#murder.#");
                                            dialog.Text("He#has#turned#to#the#side#of#justice#since#then,#and#made#lots#of#contributions.>");
                                            dialog.Text("Cobb Wind</tip>: ");
                                            dialog.Text("Urgent report from the front line!");
                                            dialog.Text("   [Thrilling Spook] has appeared around (349,635) on the Dragon Island!");
                                            dialog.Text("Many heroes are heading to fight against the beasts. Hurry and go support them!");

                                            dialog.Option("Go~kill~the~[Thrilling~Spook]", 8);
                                            dialog.Option("I`ll~talk~to~you~later.", 255);
                                            dialog.Avatar(53);
                                        }
                                        else if (DateTime.Now.Minute >= 35 || DateTime.Now.Minute <= 44)
                                        {
                                            dialog.Text("<tip desc=Cobb#Wind,#formerly#a#pirate,#was#save#by#Sky#Shan#from#a#murder.#");
                                            dialog.Text("He#has#turned#to#the#side#of#justice#since#then,#and#made#lots#of#contributions.>");
                                            dialog.Text("Cobb Wind</tip>: ");
                                            dialog.Text("You came at the right time! The devils have occupied the Twisting Hell Array, and are trying to summon ");
                                            dialog.Text("<tip color=0xfff05050 desc=Killing#Nemesis#Tyrant#brings#Savage#Bone,#P7#Weapon/Armor/Accessory#Soul#Pack#Fragment,#Senior#EXP#Nut,#etc.>Nemesis Tyrant</tip>,");
                                            dialog.Text("~<tip color=0xfff05050 desc=Killing#Snow#Banshee#brings#P5-6#Dragon#Soul,#Dragon#Ball,#+2#Stone,#Senior#EXP#Nut,#etc.>Snow Banshee</tip> and");
                                            dialog.Text("~<tip color=0xfff05050 desc=Killing#Thrilling#Spook#brings#P6#Dragon#Soul,#Dragon#Ball,#Senior#EXP#Nut,#etc.>Thrilling Spook</tip>");
                                            dialog.Text("~to the Dragon Island. Commander Shan has given order to kill them at any cost. Dragon Island is not allowed to sink!");
                                            dialog.Text("   * [Nemesis Tyrant] will appear at 0" + DateTime.Now.Hour + ":15 today around (568,372) on the Dragon Island.* ");

                                            dialog.Option("Learn~more~about~these~beasts.", 1);
                                            dialog.Option("I`ll~keep~an~eye~on~them.", 255);
                                            dialog.Avatar(53);
                                        }
                                        else if (DateTime.Now.Minute >= 45 || DateTime.Now.Minute <= 49)
                                        {
                                            dialog.Text("<tip desc=Cobb#Wind,#formerly#a#pirate,#was#save#by#Sky#Shan#from#a#murder.#");
                                            dialog.Text("He#has#turned#to#the#side#of#justice#since#then,#and#made#lots#of#contributions.>");
                                            dialog.Text("Cobb Wind</tip>: ");
                                            dialog.Text("Urgent report from the front line!");
                                            dialog.Text("   [Nemesis Tyrant] has appeared around (568,372) on the Dragon Island!");
                                            dialog.Text("Many heroes are heading to fight against the beasts. Hurry and go support them!");

                                            dialog.Option("Go~kill~the~[Nemesis~Tyrant].", 3);
                                            dialog.Option("I`ll~talk~to~you~later.", 255);
                                            dialog.Avatar(53);
                                        }
                                        else if (DateTime.Now.Minute >= 57 || DateTime.Now.Minute <= 59)
                                        {
                                            dialog.Text("<tip desc=Cobb#Wind,#formerly#a#pirate,#was#save#by#Sky#Shan#from#a#murder.#");
                                            dialog.Text("He#has#turned#to#the#side#of#justice#since#then,#and#made#lots#of#contributions.>");
                                            dialog.Text("Cobb Wind</tip>: ");
                                            dialog.Text("Urgent report from the front line!");
                                            dialog.Text("   [Snow Banshee] has appeared around (658,718) on the Dragon Island!");
                                            dialog.Text("Many heroes are heading to fight against the beasts. Hurry and go support them!");

                                            dialog.Option("Go~kill~the~[Snow~Banshee].", 5);
                                            dialog.Option("I`ll~talk~to~you~later.", 255);
                                            dialog.Avatar(53);
                                        }
                                        else
                                        {

                                            dialog.Text("<tip desc=Cobb#Wind,#formerly#a#pirate,#was#save#by#Sky#Shan#from#a#murder.#");
                                            dialog.Text("He#has#turned#to#the#side#of#justice#since#then,#and#made#lots#of#contributions.>");
                                            dialog.Text("Cobb Wind</tip>: ");
                                            dialog.Text("You came at the right time! The devils have occupied the Twisting Hell Array, and are trying to summon ");
                                            dialog.Text("<tip color=0xfff05050 desc=Killing#Nemesis#Tyrant#brings#Savage#Bone,#P7#Weapon/Armor/Accessory#Soul#Pack#Fragment,#Senior#EXP#Nut,#etc.>Nemesis Tyrant</tip>,");
                                            dialog.Text("~<tip color=0xfff05050 desc=Killing#Snow#Banshee#brings#P5-6#Dragon#Soul,#Dragon#Ball,#+2#Stone,#Senior#EXP#Nut,#etc.>Snow Banshee</tip> and");
                                            dialog.Text("~<tip color=0xfff05050 desc=Killing#Thrilling#Spook#brings#P6#Dragon#Soul,#Dragon#Ball,#Senior#EXP#Nut,#etc.>Thrilling Spook</tip>");
                                            dialog.Text("~to the Dragon Island. Commander Shan has given order to kill them at any cost. Dragon Island is not allowed to sink!");
                                            dialog.Text("   * [Snow Banshee] will appear at" + DateTime.Now.Hour + ":57 Minute  today around (658,718) on the Dragon Island.* ");

                                            dialog.Option("Learn~more~about~these~beasts.", 1);
                                            dialog.Option("I`ll~keep~an~eye~on~them.", 255);
                                            dialog.Avatar(53);
                                        }
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {

                                        dialog.Text("،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ");
                                        dialog.Text("     [Beast]                    [Location]             [Appear Time]");
                                        dialog.Text("Nemesis Tyrant    (DragonIsland 568,372)      the " + DateTime.Now.Day + "th and 45th minute of each hour, every day");
                                        dialog.Text("Thrilling Spook     (DragonIsland 349,635)   the 00th and 30th minute of each hour, every day");
                                        dialog.Text("Snow Banshee    (DragonIsland 658,718)   the" + DateTime.Now.Day + "th and " + DateTime.Now.Hour + ":57th  of each hour, every day");
                                        dialog.Text("،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ");
                                        dialog.Text("All the beasts above have left their lair for the Dragon Island.");

                                        dialog.Option("I~see.", 255);
                                        dialog.Avatar(53);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        ushort x = 568;
                                        ushort y = 372;
                                        //uint NpcUid = 17436;
                                        Data datapacket = new Data(true);
                                        datapacket.UID = client.Entity.UID;
                                        datapacket.ID = Data.PathFinding;
                                        //datapacket.ShopID = NpcUid;
                                        datapacket.X = x;
                                        datapacket.Y = y;
                                        client.Send(datapacket);
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("The beast must be killed without any delay. You can find it with pathfinding or pay 1 CP to instantly get teleported.");

                                        dialog.Option("Go~there~with~pathfinding.", 2);
                                        dialog.Option("Instant~teleport.~(1~CP)", 4);
                                        dialog.Avatar(53);


                                        break;
                                    }
                                case 4:
                                    {
                                        if (client.Entity.ConquerPoints >= 1)
                                        {
                                            client.Entity.Teleport(10137, 567, 372);
                                            client.Entity.Update(10, "moveback", true);
                                        }
                                        else
                                        {

                                            dialog.Text("Please make sure you have 1 CP to activate the instant portal.");

                                            dialog.Option("Okay. ", 255);
                                            dialog.Avatar(53);
                                        }
                                        break;
                                    }
                                case 5:
                                    {
                                        dialog.Text("The beast must be killed without any delay. You can find it with pathfinding or pay 1 CP to instantly get teleported.");

                                        dialog.Option("Go~there~with~pathfinding.", 6);
                                        dialog.Option("Instant~teleport.~(1~CP)", 7);
                                        dialog.Avatar(53);
                                        break;
                                    }
                                case 6:
                                    {
                                        ushort x = 658;
                                        ushort y = 718;
                                        //uint NpcUid = 17436;
                                        Data datapacket = new Data(true);
                                        datapacket.UID = client.Entity.UID;
                                        datapacket.ID = Data.PathFinding;
                                        //datapacket.ShopID = NpcUid;
                                        datapacket.X = x;
                                        datapacket.Y = y;
                                        client.Send(datapacket);
                                        break;
                                    }
                                case 7:
                                    {
                                        if (client.Entity.ConquerPoints >= 1)
                                        {
                                            client.Entity.Teleport(10137, 658, 718);
                                            client.Entity.Update(10, "moveback", true);
                                        }
                                        else
                                        {

                                            dialog.Text("Please make sure you have 1 CP to activate the instant portal.");

                                            dialog.Option("Okay. ", 255);
                                            dialog.Avatar(53);
                                        }
                                        break;
                                    }
                                case 8:
                                    {
                                        dialog.Text("The beast must be killed without any delay. You can find it with pathfinding or pay 1 CP to instantly get teleported.");

                                        dialog.Option("Go~there~with~pathfinding.", 9);
                                        dialog.Option("Instant~teleport.~(1~CP)", 10);
                                        dialog.Avatar(53);
                                        break;
                                    }
                                case 9:
                                    {
                                        ushort x = 349;
                                        ushort y = 635;
                                        //uint NpcUid = 17436;
                                        Data datapacket = new Data(true);
                                        datapacket.UID = client.Entity.UID;
                                        datapacket.ID = Data.PathFinding;
                                        //datapacket.ShopID = NpcUid;
                                        datapacket.X = x;
                                        datapacket.Y = y;
                                        client.Send(datapacket);
                                        break;
                                    }
                                case 10:
                                    {
                                        if (client.Entity.ConquerPoints >= 1)
                                        {
                                            client.Entity.Teleport(10137, 349, 635);
                                            client.Entity.Update(10, "moveback", true);
                                        }
                                        else
                                        {

                                            dialog.Text("Please make sure you have 1 CP to activate the instant portal.");

                                            dialog.Option("Okay. ", 255);
                                            dialog.Avatar(53);
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #endregion
                    #region Ganoderma
                    case 29995:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hah! Want my Ganoderma? Go to hell! Show me what you`re made of!");
                                        dialog.Option("We`ll~see!", 1);
                                        dialog.Option("Leave.", 255);
                                        dialog.Avatar(0);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        Database.MonsterInformation mob;
                                        Database.MonsterInformation.MonsterInformations.TryGetValue((uint)Kernel.Random.Next(3130, 3134), out mob);
                                        client.Map.Spawnthis(mob, client, npcs.MapID, npcs.X, npcs.Y);
                                        Kernel.Ganoderma2 = false;
                                        Kernel.Maps[1010].Npcs.Remove(29995);
                                        client.SendScreen(new Data(true) { UID = 29995, ID = Data.RemoveEntity }, true);
                                        FloorItem Send = new FloorItem(true);
                                        Send.UID = 125;
                                        Send.X = client.Entity.X;
                                        Send.Y = client.Entity.Y;
                                        Send.Type = 6;
                                        client.SendScreenSpawn(Send, true);
                                    }
                                    break;
                            }
                            break;
                        }
                    #endregion
                    #region Alluring Witch
                    case 29994:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hah! Want to challenge Alluring Witch? Go to hell! Show me what you`re made of!");
                                        dialog.Option("We`ll~see!", 1);
                                        dialog.Option("Leave.", 255);
                                        dialog.Avatar(0);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        Database.MonsterInformation mob;
                                        Database.MonsterInformation.MonsterInformations.TryGetValue(7883, out mob); //AlluringWitch
                                        client.Map.Spawnthis(mob, client, npcs.MapID, npcs.X, npcs.Y);
                                        Database.MonsterInformation mob2;
                                        Database.MonsterInformation.MonsterInformations.TryGetValue(7971, out mob2); // DarkCrystalOfWind
                                        client.Map.Spawnthis(mob2, client, npcs.MapID, 380, 393);
                                        Database.MonsterInformation mob3;
                                        Database.MonsterInformation.MonsterInformations.TryGetValue(7973, out mob3); // DarkCrystalOfFire
                                        client.Map.Spawnthis(mob3, client, npcs.MapID, 395, 395);
                                        Database.MonsterInformation mob4;
                                        Database.MonsterInformation.MonsterInformations.TryGetValue(7972, out mob4); //ThunderCrystal
                                        client.Map.Spawnthis(mob4, client, npcs.MapID, 380, 378);
                                        Database.MonsterInformation mob5;
                                        Database.MonsterInformation.MonsterInformations.TryGetValue(7884, out mob5);
                                        client.Map.Spawnthis(mob5, client, npcs.MapID, 396, 379);
                                        Kernel.AlluringWitchHisCrystals2 = false;
                                        Kernel.Maps[3935].Npcs.Remove(29994);
                                        client.SendScreen(new Data(true) { UID = 29994, ID = Data.RemoveEntity }, true);
                                        FloorItem Send = new FloorItem(true);
                                        Send.UID = 125;
                                        Send.X = client.Entity.X;
                                        Send.Y = client.Entity.Y;
                                        Send.Type = 6;
                                        client.SendScreenSpawn(Send, true);
                                    }
                                    break;
                            }
                            break;
                        }
                    #endregion
                    #region Stables
                    #region MountOfficer
                    case 5603:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("What? A group of Cattle Thieves stole the Saddles of the cavalry! Without the Saddles, they won`t be able to hold any drills.");
                                        dialog.Text("~If you can help get the Saddles from the Cattle Thieves, I just might give you a Steed as a reward!");
                                        dialog.Option("Here~is~the~Saddle.", 1);
                                        dialog.Option("Where~are~the~thieves?", 3);
                                        dialog.Option("I~have~no~time.", 255);
                                        dialog.Avatar(107);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Inventory.Contains(723903, 1))
                                        {
                                            dialog.Text("Great! You`ve brought back a Saddle from the Cattle Thieves! You can take a Steed as reward! Which one do you like?");

                                            dialog.Option("Maroon~Steed", 4);
                                            dialog.Option("White~Steed", 5);
                                            dialog.Option("Black~Steed", 6);
                                            dialog.Option("I`ll~think~about~it.", 255);
                                            dialog.Avatar(107);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("You haven`t brought back a Saddle from the Cattle Thieves. What are you waiting on? Christmas? Get on it!");

                                            dialog.Option("Where~are~the~thieves?", 3);
                                            dialog.Option("I`ll~get~it~back~now!", 255);
                                            dialog.Avatar(107);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("The Cattle Thieves stole Saddles and hid separately. I heard someone saw them in Kylin Cave, Dragon Pool, and Tiger Cave.");
                                        dialog.Text("~They must be planning something... Find the Plains Thief or the Thief Leader to get some clues.");

                                        dialog.Option("Okay,~I`ll~go~now.", 255);
                                        dialog.Avatar(107);
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("Each Saddle that you retrieved can be used to exchange for a Maroon Steed. Well, how many Saddles have you collected?");

                                        dialog.Option("1~Saddle.", 7 * 4);
                                        dialog.Option("5~Saddles.", 8 * 4);
                                        dialog.Option("10~Saddles.", 9 * 4);
                                        dialog.Option("20~Saddles.", 11 * 4);
                                        dialog.Option("Let~me~see.", 255);
                                        dialog.Avatar(107);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        dialog.Text("Each Saddle that you retrieved can be used to exchange for a White Steed. Well, how many Saddles have you collected?");

                                        dialog.Option("1~Saddle.", 7 * 5);
                                        dialog.Option("5~Saddles.", 8 * 5);
                                        dialog.Option("10~Saddles.", 9 * 5);
                                        dialog.Option("20~Saddles.", 10 * 5);
                                        dialog.Option("Let~me~see.", 255);
                                        dialog.Avatar(107);
                                        dialog.Send();
                                        break;
                                    }
                                case 6:
                                    {
                                        dialog.Text("Each Saddle that you retrieved can be used to exchange for a Black Steed. Well, how many Saddles have you collected?");

                                        dialog.Option("1~Saddle.", 7 * 6);
                                        dialog.Option("5~Saddles.", 8 * 6);
                                        dialog.Option("10~Saddles.", 9 * 6);
                                        dialog.Option("20~Saddles.", 10 * 6);
                                        dialog.Option("Let~me~see.", 255);
                                        dialog.Avatar(107);
                                        dialog.Send();
                                        break;
                                    }
                                default:
                                    {
                                        switch (npcRequest.OptionID)
                                        {
                                            #region 1 Saddle
                                            case 7 * 4:
                                            case 7 * 5:
                                            case 7 * 6:
                                                {
                                                    if (client.Inventory.Contains(723903, 1))
                                                    {
                                                        if (client.Inventory.Count <= 39)
                                                        {
                                                            if (npcRequest.OptionID == 7 * 4)
                                                            {
                                                                client.Inventory.Add(723900, 0, 1);
                                                                client.MessageBox("You`ve~brought~back~the~Saddle~and~swapped~it~for~a~+0~Maroon~Steed~Pack!");
                                                            }
                                                            if (npcRequest.OptionID == 7 * 5)
                                                            {
                                                                client.Inventory.Add(723901, 0, 1);
                                                                client.MessageBox("You`ve~brought~back~the~Saddle~and~swapped~it~for~a~+0~White~Steed~Pack!");
                                                            }
                                                            if (npcRequest.OptionID == 7 * 6)
                                                            {
                                                                client.Inventory.Add(723902, 0, 1);
                                                                client.MessageBox("You`ve~brought~back~the~Saddle~and~swapped~it~for~a~+0~Black~Steed~Pack!");
                                                            }
                                                            client.Inventory.Remove(723903, 1);
                                                        }
                                                        else
                                                        {
                                                            client.MessageBox("You Inventory Is Full!");
                                                        }
                                                    }
                                                    else
                                                    {
                                                        client.MessageBox("You Don't Have Enough Saddles!");
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region 5 Saddles
                                            case 8 * 4:
                                            case 8 * 5:
                                            case 8 * 6:
                                                {
                                                    if (client.Inventory.Contains(723903, 5))
                                                    {
                                                        if (client.Inventory.Count <= 35)
                                                        {
                                                            if (npcRequest.OptionID == 8 * 4)
                                                            {
                                                                client.Inventory.Add(723900, 0, 5);
                                                                client.MessageBox("You`ve~brought~back~the~Saddle~and~swapped~it~for~5~+0~Maroon~Steed~Pack!");
                                                            }
                                                            if (npcRequest.OptionID == 8 * 5)
                                                            {
                                                                client.Inventory.Add(723901, 0, 5);
                                                                client.MessageBox("You`ve~brought~back~the~Saddle~and~swapped~it~for~5~+0~White~Steed~Pack!");
                                                            }
                                                            if (npcRequest.OptionID == 8 * 6)
                                                            {
                                                                client.Inventory.Add(723902, 0, 5);
                                                                client.MessageBox("You`ve~brought~back~the~Saddle~and~swapped~it~for~5~+0~Black~Steed~Pack!");
                                                            }
                                                            client.Inventory.Remove(723903, 5);
                                                        }
                                                        else
                                                        {
                                                            client.MessageBox("You Inventory Is Full!");
                                                        }
                                                    }
                                                    else
                                                    {
                                                        client.MessageBox("You Don't Have Enough Saddles!");
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region 10 Saddles
                                            case 9 * 4:
                                            case 9 * 5:
                                            case 9 * 6:
                                                {
                                                    if (client.Inventory.Contains(723903, 10))
                                                    {
                                                        if (client.Inventory.Count <= 30)
                                                        {
                                                            if (npcRequest.OptionID == 9 * 4)
                                                            {
                                                                client.Inventory.Add(723900, 0, 10);
                                                                client.MessageBox("You`ve~brought~back~the~Saddle~and~swapped~it~for~5~+0~Maroon~Steed~Pack!");
                                                            }
                                                            if (npcRequest.OptionID == 9 * 5)
                                                            {
                                                                client.Inventory.Add(723901, 0, 10);
                                                                client.MessageBox("You`ve~brought~back~the~Saddle~and~swapped~it~for~5~+0~White~Steed~Pack!");
                                                            }
                                                            if (npcRequest.OptionID == 9 * 6)
                                                            {
                                                                client.Inventory.Add(723902, 0, 10);
                                                                client.MessageBox("You`ve~brought~back~the~Saddle~and~swapped~it~for~5~+0~Black~Steed~Pack!");
                                                            }
                                                            client.Inventory.Remove(723903, 10);
                                                        }
                                                        else
                                                        {
                                                            client.MessageBox("You Inventory Is Full!");
                                                        }
                                                    }
                                                    else
                                                    {
                                                        client.MessageBox("You Don't Have Enough Saddles!");
                                                    }
                                                    break;
                                                }
                                            #endregion
                                            #region 20 Saddles
                                            case 11 * 4:
                                            case 10 * 5:
                                            case 10 * 6:
                                                {
                                                    if (client.Inventory.Contains(723903, 20))
                                                    {
                                                        if (client.Inventory.Count <= 20)
                                                        {
                                                            if (npcRequest.OptionID == 11 * 4)
                                                            {
                                                                client.Inventory.Add(723900, 0, 20);
                                                                client.MessageBox("You`ve~brought~back~the~Saddle~and~swapped~it~for~20~+0~Maroon~Steed~Pack!");
                                                            }
                                                            if (npcRequest.OptionID == 11 * 5)
                                                            {
                                                                client.Inventory.Add(723901, 0, 20);
                                                                client.MessageBox("You`ve~brought~back~the~Saddle~and~swapped~it~for~20~+0~White~Steed~Pack!");
                                                            }
                                                            if (npcRequest.OptionID == 11 * 6)
                                                            {
                                                                client.Inventory.Add(723902, 0, 20);
                                                                client.MessageBox("You`ve~brought~back~the~Saddle~and~swapped~it~for~20~+0~Black~Steed~Pack!");
                                                            }
                                                            client.Inventory.Remove(723903, 20);
                                                        }
                                                        else
                                                        {
                                                            client.MessageBox("You Inventory Is Full!");
                                                        }
                                                    }
                                                    else
                                                    {
                                                        client.MessageBox("You Don't Have Enough Saddles!");
                                                    }
                                                    break;
                                                }
                                            #endregion
                                        }
                                        break;
                                    }
                                case 255:
                                    {
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #endregion
                    #region TowerOfMystery
                    #region Spawn
                    case 56550:
                    case 56551:
                    case 56552:
                    case 56553:
                    case 56554:
                    case 56555:
                    case 56556:
                    case 56557:
                    case 56558:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.Entity.TOMRC > 0)
                                        {
                                            if (client.Entity.TOMQ == 255)
                                                client.Entity.TOMQ = (byte)Kernel.Random.Next(1, 6);
                                            if (client.ActiveNpc == 56550)
                                            {
                                                dialog.Text(" Guguga! Guguguga! (You don`t understand the Great Pheasant`s words,");
                                                dialog.Text("but its arrogant expression is really annoying.)");
                                            }
                                            if (client.ActiveNpc == 56551)
                                            {
                                                dialog.Text(" Is my birthday approaching? There are so many human sacrifices coming to me recently.");
                                                dialog.Text("No hurry, I`ll peel your skin off gently before eating you raw.");
                                            }
                                            if (client.ActiveNpc == 56552)
                                            {
                                                dialog.Text(" (A voice inclines your ear when you`re moving close to the Water Terror.)");
                                                dialog.Text("Let me out... Let me out... I need water... Just water... Water!!!");
                                            }
                                            if (client.ActiveNpc == 56553)
                                            {
                                                dialog.Text(" Most humans are guilty of greed, wrath or lust.");
                                                dialog.Text("For the compassionate Buddha, I`d like to drain your blood and give you a chance of rebirth. Be grateful!");
                                            }
                                            if (client.ActiveNpc == 56554)
                                            {
                                                dialog.Text(" You must feel ashamed for sealing me by using ignoble tricks. Fight me if you dare!");
                                                dialog.Text("So, they brought you here? Good, I can`t wait to fight, tearing you into pieces.");
                                            }
                                            if (client.ActiveNpc == 56555)
                                            {
                                                dialog.Text(" (The devil, in front of you, is getting impatient with corrosive saliva constantly dripping from its mouth.)");
                                                dialog.Text("I`m so hungry... I want something to eat! YUM...YUM...");
                                            }
                                            if (client.Entity.TOMQ == 1)
                                            {
                                                dialog.Text("                    **************************************");
                                                dialog.Text("											<tip color=0xffffffff desc=Item#Reward:#a#Blazing#CP#Fragment,#30-min#EXP#Pack>Normal</tip>");
                                                dialog.Text("											<tip color=0xffffffff desc=Item#Reward:#a#Blazing#CP#Fragment,#30-min#EXP#Pack>1-Star</tip>");
                                                dialog.Text("                    **************************************");
                                            }
                                            if (client.Entity.TOMQ == 2)
                                            {
                                                dialog.Text("                    **************************************");
                                                dialog.Text("											<tip color=0xff5d86c9 desc=Item#Reward:#a#Blazing#CP#Fragment,#60-min#EXP#Pack>Refined</tip>");
                                                dialog.Text("											<tip color=0xff5d86c9 desc=Item#Reward:#a#Blazing#CP#Fragment,#60-min#EXP#Pack>2-Stars</tip>");
                                                dialog.Text("                    **************************************");
                                            }
                                            if (client.Entity.TOMQ == 3)
                                            {
                                                dialog.Text("                    **************************************");
                                                dialog.Text("											<tip color=0xff00fa00 desc=Item#Reward:#a#Blazing#CP#Fragment,#90-min#EXP#Pack,#a#Super#Protection#Pill>Unique</tip>");
                                                dialog.Text("											<tip color=0xff00fa00 desc=Item#Reward:#a#Blazing#CP#Fragment,#90-min#EXP#Pack,#a#Super#Protection#Pill>3-Stars</tip>");
                                                dialog.Text("                    **************************************");
                                            }
                                            if (client.Entity.TOMQ == 4)
                                            {
                                                dialog.Text("                    **************************************");
                                                dialog.Text("											<tip color=0xffc501e7 desc=Item#Reward:#a#Blazing#CP#Fragment,#120-min#EXP#Pack,#2#Super#Protection#Pills>Elite</tip>");
                                                dialog.Text("											<tip color=0xffc501e7 desc=Item#Reward:#a#Blazing#CP#Fragment,#120-min#EXP#Pack,#2#Super#Protection#Pills>4-Stars</tip>");
                                                dialog.Text("                    **************************************");

                                            }
                                            if (client.Entity.TOMQ >= 5)
                                            {
                                                dialog.Text("                    **************************************");
                                                dialog.Text("											<tip color=0xffffae00 desc=Item#Reward:#a#Blazing#CP#Fragment,#180-min#EXP#Pack,#3#Super#Protection#Pills>Super</tip>");
                                                dialog.Text("											<tip color=0xffffae00 desc=Item#Reward:#a#Blazing#CP#Fragment,#180-min#EXP#Pack,#3#Super#Protection#Pills>5-Stars</tip>");
                                                dialog.Text("                    **************************************");
                                                dialog.Option("Unseal~devils~for~challenge.", 4);
                                                dialog.Option("Return~to~tower~passage.", 5);
                                                dialog.Send();
                                                break;
                                            }
                                            dialog.Option("Refresh~reward.~(1~CP)", 1);
                                            dialog.Option("Refresh~reward.~(25~Study~Pts)", 2);
                                            dialog.Option("Refresh~reward.~(FierceSpirit)", 3);
                                            dialog.Option("Unseal~devils~for~challenge.", 4);
                                            dialog.Option("Return~to~tower~passage.", 5);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("You`ve already challenged the Tower of Mystery for 3 times today. If you`re still interested, come here tomorrow.");

                                            dialog.Option("Leave~the~tower.", 110);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 110:
                                    {
                                        client.Entity.Teleport(4020, 83, 73);
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Entity.ConquerPoints >= 1)
                                        {
                                            client.Entity.ConquerPoints -= 1;
                                            dialog.Text("The Tower of Mystery provides 5 levels of rewards from 1-star to 5-star. Currently, you can claim a 4-star reward. Are you sure you want to refresh the level of reward?");

                                            dialog.Option("Yes.", 6);
                                            dialog.Option("I~haven`t~decided,~yet!", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("You don't have enough Conquer Points!");

                                            dialog.Option("Sorry!", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        if (client.Entity.SubClasses.StudyPoints >= 25)
                                        {
                                            client.Entity.SubClasses.StudyPoints -= 25;
                                            dialog.Text("The Tower of Mystery provides 5 levels of rewards from 1-star to 5-star. Currently, you can claim a 4-star reward. Are you sure you want to refresh the level of reward?");

                                            dialog.Option("Yes.", 6);
                                            dialog.Option("I~haven`t~decided,~yet!", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("You don't have enough Study Points!");

                                            dialog.Option("Sorry!", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 3:
                                    {
                                        if (client.Inventory.Contains(3008735, 1))
                                        {
                                            client.Inventory.Remove(3008735, 1);
                                            dialog.Text("The Tower of Mystery provides 5 levels of rewards from 1-star to 5-star. Currently, you can claim a 4-star reward. Are you sure you want to refresh the level of reward?");

                                            dialog.Option("Yes.", 6);
                                            dialog.Option("I~haven`t~decided,~yet!", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("You don't have enough Fierence Spirit!");

                                            dialog.Option("Sorry!", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 6:
                                    {
                                        client.Entity.TOMQ = (byte)Kernel.Random.Next(1, 6);
                                        if (client.ActiveNpc == 56550)
                                        {
                                            dialog.Text(" Guguga! Guguguga! (You don`t understand the Great Pheasant`s words,");
                                            dialog.Text("but its arrogant expression is really annoying.)");
                                        }
                                        if (client.ActiveNpc == 56551)
                                        {
                                            dialog.Text(" Is my birthday approaching? There are so many human sacrifices coming to me recently.");
                                            dialog.Text("No hurry, I`ll peel your skin off gently before eating you raw.");
                                        }
                                        if (client.ActiveNpc == 56552)
                                        {
                                            dialog.Text(" (A voice inclines your ear when you`re moving close to the Water Terror.)");
                                            dialog.Text("Let me out... Let me out... I need water... Just water... Water!!!");
                                        }
                                        if (client.ActiveNpc == 56553)
                                        {
                                            dialog.Text(" Most humans are guilty of greed, wrath or lust.");
                                            dialog.Text("For the compassionate Buddha, I`d like to drain your blood and give you a chance of rebirth. Be grateful!");
                                        }
                                        if (client.ActiveNpc == 56554)
                                        {
                                            dialog.Text(" You must feel ashamed for sealing me by using ignoble tricks. Fight me if you dare!");
                                            dialog.Text("So, they brought you here? Good, I can`t wait to fight, tearing you into pieces.");
                                        }
                                        if (client.ActiveNpc == 56555)
                                        {
                                            dialog.Text(" (The devil, in front of you, is getting impatient with corrosive saliva constantly dripping from its mouth.)");
                                            dialog.Text("I`m so hungry... I want something to eat! YUM...YUM...");
                                        }
                                        if (client.Entity.TOMQ == 1)
                                        {
                                            dialog.Text("                    **************************************");
                                            dialog.Text("											<tip color=0xffffffff desc=Item#Reward:#a#Blazing#CP#Fragment,#30-min#EXP#Pack>Normal</tip>");
                                            dialog.Text("											<tip color=0xffffffff desc=Item#Reward:#a#Blazing#CP#Fragment,#30-min#EXP#Pack>1-Star</tip>");
                                            dialog.Text("                    **************************************");
                                        }
                                        if (client.Entity.TOMQ == 2)
                                        {
                                            dialog.Text("                    **************************************");
                                            dialog.Text("											<tip color=0xff5d86c9 desc=Item#Reward:#a#Blazing#CP#Fragment,#60-min#EXP#Pack>Refined</tip>");
                                            dialog.Text("											<tip color=0xff5d86c9 desc=Item#Reward:#a#Blazing#CP#Fragment,#60-min#EXP#Pack>2-Stars</tip>");
                                            dialog.Text("                    **************************************");
                                        }
                                        if (client.Entity.TOMQ == 3)
                                        {
                                            dialog.Text("                    **************************************");
                                            dialog.Text("											<tip color=0xff00fa00 desc=Item#Reward:#a#Blazing#CP#Fragment,#90-min#EXP#Pack,#a#Super#Protection#Pill>Unique</tip>");
                                            dialog.Text("											<tip color=0xff00fa00 desc=Item#Reward:#a#Blazing#CP#Fragment,#90-min#EXP#Pack,#a#Super#Protection#Pill>3-Stars</tip>");
                                            dialog.Text("                    **************************************");
                                        }
                                        if (client.Entity.TOMQ == 4)
                                        {
                                            dialog.Text("                    **************************************");
                                            dialog.Text("											<tip color=0xffc501e7 desc=Item#Reward:#a#Blazing#CP#Fragment,#120-min#EXP#Pack,#2#Super#Protection#Pills>Elite</tip>");
                                            dialog.Text("											<tip color=0xffc501e7 desc=Item#Reward:#a#Blazing#CP#Fragment,#120-min#EXP#Pack,#2#Super#Protection#Pills>4-Stars</tip>");
                                            dialog.Text("                    **************************************");

                                        }
                                        if (client.Entity.TOMQ >= 5)
                                        {
                                            dialog.Text("                    **************************************");
                                            dialog.Text("											<tip color=0xffffae00 desc=Item#Reward:#a#Blazing#CP#Fragment,#180-min#EXP#Pack,#3#Super#Protection#Pills>Super</tip>");
                                            dialog.Text("											<tip color=0xffffae00 desc=Item#Reward:#a#Blazing#CP#Fragment,#180-min#EXP#Pack,#3#Super#Protection#Pills>5-Stars</tip>");
                                            dialog.Text("                    **************************************");
                                            dialog.Option("Unseal~devils~for~challenge.", 4);
                                            dialog.Option("Return~to~tower~passage.", 5);
                                            dialog.Send();
                                            break;
                                        }
                                        dialog.Option("Refresh~reward.~(1~CP)", 1);
                                        dialog.Option("Refresh~reward.~(25~Study~Pts)", 2);
                                        dialog.Option("Refresh~reward.~(FierceSpirit)", 3);
                                        dialog.Option("Unseal~devils~for~challenge.", 4);
                                        dialog.Option("Return~to~tower~passage.", 5);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        dialog.Text("Are you sure you want to return to the tower passage?");

                                        dialog.Option("Yes.", 7);
                                        dialog.Option("No,~not~now.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 7:
                                    {
                                        client.Entity.Teleport((ushort)(4000 + client.Entity.TOM), 45, 35);
                                        client.Entity.InTOM = false;
                                        break;
                                    }
                                case 4:
                                    {
                                        INpc npc2 = null;
                                        if (!client.Map.Npcs.TryGetValue(client.ActiveNpc, out npc2))
                                        {
                                            break;
                                        }
                                        client.Entity.TOMM.RemoveNpc(npc2);
                                        client.SendScreen(new Data(true)
                                        {
                                            UID = client.ActiveNpc,
                                            ID = Data.RemoveEntity
                                        }, true);
                                        INpc npc = new NpcSpawn(true);
                                        npc.UID = client.ActiveNpc;
                                        client.Entity.TOMM.RemoveNpc(npc);
                                        _String str = new _String(true);
                                        str.UID = client.Entity.UID;
                                        str.TextsCount = 1;
                                        str.Type = 10;
                                        str.Texts.Add("new_gamebegin");
                                        client.SendScreen(str, true);

                                        Database.MonsterInformation monster = new Database.MonsterInformation();
                                        monster.Boss = true;
                                        if (client.ActiveNpc == 56550)
                                        {
                                            monster.Hitpoints = 5000000;
                                            monster.Level = 123;
                                            monster.ID = 7976;
                                            monster.Mesh = 906;
                                            monster.Name = "GreatPheasant(Nor.)";
                                        }
                                        if (client.ActiveNpc == 56551)
                                        {
                                            monster.Hitpoints = 8000000;
                                            monster.Level = 123;
                                            monster.ID = 7977;
                                            monster.Mesh = 397;
                                            monster.Name = "WingedLord(Nor.)";
                                        }
                                        if (client.ActiveNpc == 56552)
                                        {
                                            monster.Hitpoints = 10000000;
                                            monster.Level = 123;
                                            monster.ID = 7979;
                                            monster.Mesh = 273;
                                            monster.Name = "WaterTerror(Nor.)";
                                        }
                                        if (client.ActiveNpc == 56553)
                                        {
                                            monster.Hitpoints = 15000000;
                                            monster.Level = 123;
                                            monster.ID = 7980;
                                            monster.Mesh = 953;
                                            monster.Name = "RuthlessAsura(Nor.)";
                                        }
                                        if (client.ActiveNpc == 56554)
                                        {
                                            monster.Hitpoints = 15000000;
                                            monster.Level = 135;
                                            monster.ID = 7981;
                                            monster.Mesh = 251;
                                            monster.Name = "SoulStrangler(Nor.)";
                                        }
                                        if (client.ActiveNpc == 56555)
                                        {
                                            monster.Hitpoints = 28000000;
                                            monster.Level = 120;
                                            monster.ID = 7976;
                                            monster.Mesh = 952;
                                            monster.Name = "DarkGlutton(Nor.)";
                                        }
                                        if (client.ActiveNpc == 56556)
                                        {
                                            monster.Hitpoints = 40000000;
                                            monster.Level = 138;
                                            monster.ID = 7983;
                                            monster.Mesh = 950;
                                            monster.Name = "AlienDragon(Nor.)";
                                        }
                                        if (client.ActiveNpc == 56557)
                                        {
                                            monster.Hitpoints = 50000000;
                                            monster.Level = 138;
                                            monster.ID = 7984;
                                            monster.Mesh = 951;
                                            monster.Name = "ShadowSpider(Nor.)";
                                        }
                                        if (client.ActiveNpc == 56558)
                                        {
                                            monster.Hitpoints = 60000000;
                                            monster.Level = 140;
                                            monster.ID = 7985;
                                            monster.Mesh = 984;
                                            monster.Name = "FlameGiant(Nor.)";
                                        }
                                        monster.MaxAttack = 7000;
                                        monster.AttackRange = 17;
                                        monster.AttackType = 2;
                                        monster.AttackSpeed = 3000;
                                        monster.ViewRange = 17;
                                        monster.MoveSpeed = 1000;
                                        monster.RunSpeed = 1000;
                                        monster.MinAttack = 6000;
                                        Game.Entity entity = new Game.Entity(Game.EntityFlag.Monster, false);
                                        entity.MapObjType = Game.MapObjectType.Monster;
                                        entity.MonsterInfo = monster;
                                        entity.MonsterInfo.Owner = entity;
                                        entity.Name = monster.Name;
                                        entity.MinAttack = monster.MinAttack;
                                        entity.MaxAttack = entity.MagicAttack = monster.MaxAttack;
                                        entity.Hitpoints = entity.MaxHitpoints = monster.Hitpoints;
                                        entity.Body = monster.Mesh;
                                        entity.Level = monster.Level;
                                        entity.Defence = ushort.MaxValue;
                                        entity.X = 70;
                                        entity.Y = 70;
                                        entity.UID = Kernel.Maps[client.Entity.MapID].EntityUIDCounter.Next;
                                        entity.MapID = client.Entity.MapID;
                                        entity.SendUpdates = true;
                                        client.Map.RemoveEntity(entity);
                                        client.Map.AddEntity(entity);
                                        foreach (var client2 in Kernel.GamePool.Values)
                                        {
                                            if (client2.Entity.MapID != client.Entity.MapID) continue;
                                            client.Screen.Reload(null);
                                            client.SendScreenSpawn(entity, true);
                                        }
                                        client.Send(new Message("The seal on [" + entity.Name + "] has been removed, and [" + entity.Name + "] appeared at the center of this floor. Raise your weapon and knock down [" + entity.Name + "]!", Color.Red, Message.System));
                                        client.Entity.TOMRC--;
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Bright(REWARD)
                    case 200028:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.Entity.ClaimedTOM)
                                        {
                                            dialog.Text("You`ve already claimed the rewards in this box. Go ahead and challenge the next floor.");

                                            dialog.Option("Enter~passage~to~next~floor.", 2);
                                            dialog.Option("Leave~the~tower.", 3);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("                       Bright Tribe`s Reward         ");
                                            if (client.Entity.TOMQ == 1)
                                            {
                                                dialog.Text("                    **************************************");
                                                dialog.Text("											<tip color=0xffffffff desc=Item#Reward:#a#Blazing#CP#Fragment,#30-min#EXP#Pack>Normal</tip>");
                                                dialog.Text("											<tip color=0xffffffff desc=Item#Reward:#a#Blazing#CP#Fragment,#30-min#EXP#Pack>1-Star</tip>");
                                                dialog.Text("                    **************************************");
                                            }
                                            if (client.Entity.TOMQ == 2)
                                            {
                                                dialog.Text("                    **************************************");
                                                dialog.Text("											<tip color=0xff5d86c9 desc=Item#Reward:#a#Blazing#CP#Fragment,#60-min#EXP#Pack>Refined</tip>");
                                                dialog.Text("											<tip color=0xff5d86c9 desc=Item#Reward:#a#Blazing#CP#Fragment,#60-min#EXP#Pack>2-Stars</tip>");
                                                dialog.Text("                    **************************************");
                                            }
                                            if (client.Entity.TOMQ == 3)
                                            {
                                                dialog.Text("                    **************************************");
                                                dialog.Text("											<tip color=0xff00fa00 desc=Item#Reward:#a#Blazing#CP#Fragment,#90-min#EXP#Pack,#a#Super#Protection#Pill>Unique</tip>");
                                                dialog.Text("											<tip color=0xff00fa00 desc=Item#Reward:#a#Blazing#CP#Fragment,#90-min#EXP#Pack,#a#Super#Protection#Pill>3-Stars</tip>");
                                                dialog.Text("                    **************************************");
                                            }
                                            if (client.Entity.TOMQ == 4)
                                            {
                                                dialog.Text("                    **************************************");
                                                dialog.Text("											<tip color=0xffc501e7 desc=Item#Reward:#a#Blazing#CP#Fragment,#120-min#EXP#Pack,#2#Super#Protection#Pills>Elite</tip>");
                                                dialog.Text("											<tip color=0xffc501e7 desc=Item#Reward:#a#Blazing#CP#Fragment,#120-min#EXP#Pack,#2#Super#Protection#Pills>4-Stars</tip>");
                                                dialog.Text("                    **************************************");

                                            }
                                            if (client.Entity.TOMQ >= 5)
                                            {
                                                dialog.Text("                    **************************************");
                                                dialog.Text("											<tip color=0xffffae00 desc=Item#Reward:#a#Blazing#CP#Fragment,#180-min#EXP#Pack,#3#Super#Protection#Pills>Super</tip>");
                                                dialog.Text("											<tip color=0xffffae00 desc=Item#Reward:#a#Blazing#CP#Fragment,#180-min#EXP#Pack,#3#Super#Protection#Pills>5-Stars</tip>");
                                                dialog.Text("                    **************************************");

                                            }

                                            dialog.Option("Claim~the~reward.", 1);
                                            dialog.Send();
                                        }
                                        break;
                                    }

                                case 1:
                                    {
                                        _String str = new _String(true);
                                        str.UID = client.Entity.UID;
                                        str.TextsCount = 1;
                                        str.Type = 9;
                                        str.Texts.Add("coattryon");
                                        client.SendScreen(str, true);
                                        client.Inventory.Add(3008727, 0, 1);
                                        if (client.Entity.TOMQ == 1)
                                        {
                                            client.Inventory.AddTime(3008956, 1 * 24 * 60 * 60);
                                            dialog.Text("    You received a Blazing CP Fragment, 30-min EXP Pack!");
                                        }
                                        if (client.Entity.TOMQ == 2)
                                        {
                                            client.Inventory.AddTime(3008957, 1 * 24 * 60 * 60);
                                            dialog.Text("    You received a Blazing CP Fragment, 60-min EXP Pack!");
                                        }
                                        if (client.Entity.TOMQ == 3)
                                        {
                                            client.Inventory.Add(3002030, 0, 1);
                                            client.Inventory.AddTime(3008958, 1 * 24 * 60 * 60);
                                            dialog.Text("    You received a Blazing CP Fragment, 90-min EXP Pack, 1 Super Protection Pills!");
                                        }
                                        if (client.Entity.TOMQ == 4)
                                        {
                                            client.Inventory.Add(3002030, 0, 2);
                                            client.Inventory.AddTime(3008959, 1 * 24 * 60 * 60);
                                            dialog.Text("    You received a Blazing CP Fragment, 120-min EXP Pack, 2 Super Protection Pills!");
                                        }
                                        if (client.Entity.TOMQ >= 5)
                                        {
                                            client.Inventory.Add(3002030, 0, 3);
                                            client.Inventory.AddTime(3008962, 1 * 24 * 60 * 60);
                                            dialog.Text("    You received a Blazing CP Fragment, 180-min EXP Pack, 3 Super Protection Pills!");
                                        }
                                        if (client.Entity.TOM != 9)
                                            dialog.Option("Enter~passage~to~next~floor.", 2);
                                        dialog.Option("Leave~the~tower.", 3);
                                        dialog.Send();
                                        client.Entity.ClaimedTOM = true;
                                        client.Entity.InTOM = true;
                                        if (client.Entity.TOM != 9)
                                            client.Entity.TOM++;
                                        break;
                                    }
                                case 2:
                                case 3:
                                    {
                                        client.Entity.ClaimedTOM = false;
                                        if (client.Entity.TOM != 9)
                                        {
                                            client.Entity.Teleport((ushort)(4000 + client.Entity.TOM), 45, 35);
                                        }
                                        else
                                        {
                                            client.Entity.Teleport(4020, 83, 73);
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region TowerGuardian
                    case 19147:
                    case 19146:
                    case 19145:
                    case 19144:
                    case 19143:
                    case 19142:
                    case 19141:
                    case 19140:
                    case 19139:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("You can enter the Tower of Mystery " + client.Entity.TOM + "F through this passage. If you`ve made up your mind");
                                        dialog.Text("~to challenge this floor, I can help. While if you want to directly complete the challenge of this floor and get the reward,");
                                        dialog.Text("~you need to enable `Sweep` function by donating CPs or Meteor Scroll. So, what do you say?");

                                        dialog.Option("Challenge~Floor~" + client.Entity.TOM + ".", 1);
                                        dialog.Option("Leave~the~tower.", 2);
                                        dialog.Option("I~need~to~think~about~it.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Entity.TOM == 0)
                                            client.Entity.TOM = 1;
                                        client.Entity.InTOM = true;
                                        client.Entity.TOMQ = 255;
                                        var DM = Kernel.Maps[4000].MakeDynamicMap();
                                        INpc npc = new Network.GamePackets.NpcSpawn();
                                        if (client.Entity.TOM == 1)
                                        {
                                            npc.UID = 56550;
                                            npc.Mesh = 40460;
                                            npc.Name = "GreatPheasant";
                                            client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 1F where an aggressive devil, GreatPheasant(Common), was sealed. Be careful! ", Color.Red, Message.System));

                                        }
                                        if (client.Entity.TOM == 2)
                                        {
                                            npc.UID = 56551;
                                            npc.Mesh = 40470;
                                            npc.Name = "WingedLord";
                                            client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 2F where an aggressive devil, WingedLord(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                        }
                                        if (client.Entity.TOM == 3)
                                        {
                                            npc.UID = 56552;
                                            npc.Mesh = 40480;
                                            npc.Name = "WaterTerror";
                                            client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 3F where an aggressive devil, WaterTerror(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                        }
                                        if (client.Entity.TOM == 4)
                                        {
                                            npc.UID = 56553;
                                            npc.Mesh = 40490;
                                            npc.Name = "RuthlessAsura";
                                            client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 4F where an aggressive devil, RuthlessAsura(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                        }
                                        if (client.Entity.TOM == 5)
                                        {
                                            npc.UID = 56554;
                                            npc.Mesh = 40500;
                                            npc.Name = "SoulStrangler";
                                            client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 5F where an aggressive devil, SoulStrangler(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                        }
                                        if (client.Entity.TOM == 6)
                                        {
                                            npc.UID = 56555;
                                            npc.Mesh = 40510;
                                            npc.Name = "InfernalGlutton";
                                            client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 6F where an aggressive devil, InfernalGlutton(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                        }
                                        if (client.Entity.TOM == 7)
                                        {
                                            npc.UID = 56556;
                                            npc.Mesh = 40520;
                                            npc.Name = "AlienDragon";
                                            client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 7F where an aggressive devil, AlienDragon(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                        }
                                        if (client.Entity.TOM == 8)
                                        {
                                            npc.UID = 56557;
                                            npc.Mesh = 40530;
                                            npc.Name = "ShadowSpider";
                                            client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 8F where an aggressive devil, ShadowSpider(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                        }
                                        if (client.Entity.TOM == 9)
                                        {
                                            npc.UID = 56558;
                                            npc.Mesh = 40540;
                                            npc.Name = "FlameGiant";
                                            client.Send(new Message("You`ve already arrived (Common) in Tower of Mystery 9F where an aggressive devil, FlameGiant(Common), was sealed. Be careful! ", Color.Red, Message.System));
                                        }
                                        npc.Type = (Enums.NpcType)2;
                                        npc.X = 66;
                                        npc.Y = 66;
                                        npc.MapID = DM.ID;
                                        DM.AddNpc(npc);
                                        client.Entity.TOMM = DM;
                                        if (client.Team != null)
                                        {
                                            bool da5al = false;
                                            foreach (var teammate in client.Team.Teammates)
                                            {
                                                if (teammate.Map.BaseID == 4000)
                                                {
                                                    da5al = true;
                                                    client.Entity.Teleport(teammate.Map.ID, (ushort)Kernel.Random.Next(49, 79), (ushort)Kernel.Random.Next(49, 79));
                                                }
                                                if (da5al)
                                                    break;
                                            }
                                            if (da5al)
                                                break;
                                        }
                                        client.Entity.Teleport(DM.ID, (ushort)Kernel.Random.Next(49, 79), (ushort)Kernel.Random.Next(49, 79));

                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(4020, 83, 73);
                                        client.Entity.InTOM = false;
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #endregion
                    #region GuildGateKeeper
                    case 7005:
                    case 7000:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.ActiveNpc == 7005)
                                        {

                                            dialog.Text("You are now in the safe zone! Remember, you can`t use any skills or PK here! You can buy some items here if necessary. I can send you back to Twin City if you want to leave.");

                                            dialog.Option("Send~me~back~to~Twin~City!", 1);
                                            dialog.Option("Capture~the~Flag?", 2);
                                            dialog.Option("Nothing,~yet.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        dialog.Text("Are~you~going~to~leave~here?");

                                        dialog.Option("Yes.", 1);
                                        dialog.Option("No.~Wait~a~moment.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("Are you sure you want to return to Twin City?");

                                        dialog.Option("Yes!", 5);
                                        dialog.Option("No~thanks.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        client.Entity.Teleport(1002, 300, 280);
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("Capture the Flag is held every Saturday night, from 21:00 to 22:00. You will find 3 unoccupied flag bases in the Capture the Flag arena. Attack the flag base to occupy it for your guild. There are also some flags in the arena. Seize a flag, then carry and");
                                        dialog.Text("flag base your guild occupies within 60 seconds to gain points for your guild. The guild with the highest points will win the CTF contest! The Top 3 Guilds will be qualified to enter the Cross-server Capture the Flag Contest. The Top 8 guilds");
                                        dialog.Text("will also be rewarded.");

                                        dialog.Option("Anything~Else?", 3);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("When Capture the Flag begins, attack the flag base to occupy it for your guild. After your guild occupies a flag base, the location of the flag base will be marked with a yellow icon on the mini map. Seize a flag, then carry and plant it in the flag");
                                        dialog.Text("base your guild occupies within 60 seconds to gain points for your guild. Every 15 minutes during the Cross-server Capture the Flag Contest, a random flag base will receive a bonus effect, which will double the points gain by the occupying guild.");
                                        dialog.Text("The members of the occupying guilds will also receive double Exploits!");

                                        dialog.Option("Thank~you~for~your~advice.", 255);
                                        dialog.Send();
                                        break;
                                    }
                            }
                            break;
                        }

                    #endregion
                    #region SealerProtector
                /*    case 102060:
                    case 102061:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hush! The Snow Banshee is sealed here! As years passed, the power of the seal weakened and the Snow Banshee may break out, at any time!"); dialog.Text("~We must stop it, before the disaster occurs!");
                                        dialog.Option("Count~me~in?", 1);
                                        dialog.Option("Any~reward?", 2);
                                        dialog.Option("Tell~me~more!", 3);
                                        dialog.Option("None~of~my~business!", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("Well, you can summon the soul of Snow Banshee from the seal. Destroy the soul to weaken the Snow Banshee."); dialog.Text("~Do not look down on the soul, because it is extremely dangerous, too! Team up! That is my suggestion. So, are you ready?");
                                        dialog.Option("Yes!", 4);
                                        dialog.Option("No.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("Are you sure you want to summon Snow Banshee Soul right now?");
                                        dialog.Option("Yes!", 5);
                                        dialog.Option("Later.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        if ((DateTime.Now.Minute == 00 || DateTime.Now.Minute == 30) && !Kernel.Maps[1300].Entities.ContainsKey(4212))
                                        {
                                            ushort MapID = 1300;
                                            if (Kernel.Maps[MapID].Entities.Where(i => i.Value.MonsterInfo.ID == 4212).Count() == 0)
                                            {
                                                if (Kernel.Maps.ContainsKey(MapID))
                                                {
                                                    var Map = Kernel.Maps[MapID];
                                                    if (Database.MonsterInformation.MonsterInformations.ContainsKey(4212))
                                                    {
                                                        Database.MonsterInformation mt = Database.MonsterInformation.MonsterInformations[4212];
                                                        mt.BoundX = 439;
                                                        mt.BoundY = 353;
                                                        Entity entity = new Entity(EntityFlag.Monster, false);
                                                        entity.MapObjType = MapObjectType.Monster;
                                                        entity.MonsterInfo = mt.Copy();
                                                        entity.MonsterInfo.Owner = entity;
                                                        entity.Name = mt.Name;
                                                        entity.MinAttack = mt.MinAttack;
                                                        entity.MaxAttack = entity.MagicAttack = mt.MaxAttack;
                                                        entity.Hitpoints = entity.MaxHitpoints = mt.Hitpoints;
                                                        entity.Defence = mt.Defence;
                                                        entity.Body = mt.Mesh;
                                                        entity.Level = mt.Level;
                                                        entity.UID = Kernel.Maps[1300].EntityUIDCounter.Next;
                                                        entity.MapID = MapID;
                                                        entity.Boss = 1;
                                                        entity.SendUpdates = true;
                                                        entity.X = 439;
                                                        entity.Y = 353;
                                                        if (entity.X == 0 || entity.Y == 0)
                                                        {
                                                            do
                                                            {
                                                                entity.X = 439;
                                                                entity.Y = 353;
                                                            }
                                                            while (!Map.Floor[entity.X, entity.Y, MapObjectType.Monster]);
                                                        }

                                                        Map.AddEntity(entity);
                                                        Network.GamePackets._String stringPacket =
                                        new Conquord.Network.GamePackets._String(true);
                                                        stringPacket.UID = entity.UID;
                                                        stringPacket.Type = Network.GamePackets._String.Effect;
                                                        stringPacket.Texts.Add("MBStandard");
                                                        Data data = new Data(true);
                                                        data.UID = entity.UID;
                                                        data.ID = Network.GamePackets.Data.AddEntity;
                                                        data.wParam1 = entity.X;
                                                        data.wParam2 = entity.Y;
                                                        foreach (Client.GameClient clllient in Kernel.GamePool.Values)
                                                        {
                                                            if (clllient.Map.ID == entity.MapID)
                                                            {
                                                                if (Kernel.GetDistance(clllient.Entity.X, clllient.Entity.Y, entity.X, entity.Y) <
                                                                    Constants.nScreenDistance)
                                                                {
                                                                    entity.SendSpawn(clllient, false);
                                                                    clllient.Send(stringPacket);
                                                                    clllient.Send(data);
                                                                    if (entity.MaxHitpoints > 65535)
                                                                    {
                                                                        Update upd = new Update(true) { UID = entity.UID };
                                                                        upd.Append(Update.MaxHitpoints, entity.MaxHitpoints);
                                                                        upd.Append(Update.Hitpoints, entity.Hitpoints);
                                                                        clllient.Send(upd);
                                                                    }

                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Every time we summon the soul of Snow Banshee, the seal`s power weakens, so we must wait 30 minutes to summon the soul, again."); dialog.Text("~Otherwise, the Snow Banshee would break the seal!");
                                            dialog.Option("I`ll~wait.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("Yup, definitely! If your team kill the Snow Banshee Soul, each of you will receive 150 Study Points."); dialog.Text("~Besides, the soul may even drop a Dragon Ball, P6 Dragon Soul or other good items!");
                                        dialog.Option("That`s~great!", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("You can summon the soul of Snow Banshee from the seal. Destroy the soul to weaken the Snow Banshee.");
                                        dialog.Text("~Remember, every time we summon the soul of Snow Banshee, the seal`s power weakens, so you must wait 30 minutes to summon the soul, again.");
                                        dialog.Option("Got~it.", 255);
                                        dialog.Send();
                                        break;
                                    }
                            }
                            break;
                        }*/
                    #endregion
                    #region SealerProtector
                    case 102060:
                    case 102061:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hush! The Snow Banshee is sealed here! As years passed, the power of the seal weakened and the Snow Banshee may break out, at any time!");
                                        dialog.Text("~We must stop it, before the disaster occurs!");
                                        dialog.Option("Count~me~in?", 1);
                                        dialog.Option("Any~reward?", 2);
                                        dialog.Option("Tell~me~more!", 3);
                                        dialog.Option("None~of~my~business!", 255);
                                        dialog.Avatar(67);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("Well, you can summon the soul of Snow Banshee from the seal. Destroy the soul to weaken the Snow Banshee.");
                                        dialog.Text("~Do not look down on the soul, because it is extremely dangerous, too! Team up! That is my suggestion. So, are you ready?");
                                        dialog.Option("Yes!", 4);
                                        dialog.Option("No.", 255);
                                        dialog.Avatar(67);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("Yup, definitely! If your team kill the Snow Banshee Soul, each of you will receive 150 Study Points.");
                                        dialog.Text("~Besides, the soul may even drop a Dragon Ball, P6 Dragon Soul or other good items!");
                                        dialog.Option("That`s~great!", 255);
                                        dialog.Avatar(67);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("You can summon the soul of Snow Banshee from the seal. Destroy the soul to weaken the Snow Banshee.");
                                        dialog.Text("~Remember, every time we summon the soul of Snow Banshee, the seal`s power weakens, so you must wait 30 minutes to summon the soul, again.");
                                        dialog.Option("Got~it.", 255);
                                        dialog.Avatar(67);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("Are you sure you want to summon Snow Banshee Soul right now?");
                                        dialog.Option("Yes!", 5);
                                        dialog.Option("Later.", 255);
                                        dialog.Avatar(67);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        if (Kernel.SpawnBansheeSoulKeep)
                                        {
                                            dialog.Text("the soul of Snow Banshee is awake now. Go find it.");
                                            dialog.Option("Oh Sorry.", 255);
                                            dialog.Avatar(67);
                                            dialog.Send();
                                        }
                                        else if (!Kernel.SpawnBansheeSoul)
                                        {
                                            if (client.Entity.MapID == 1300)
                                            {
                                                Database.MonsterInformation mob;
                                                Database.MonsterInformation.MonsterInformations.TryGetValue(4212, out mob);
                                                client.Map.Spawnthis(mob, client, npcs.MapID, 441, 354);
                                                Kernel.SpawnBansheeSoul = true;
                                                Kernel.SpawnBansheeSoulKeep = true;
                                                Kernel.SpawnBansheeSoulStamp = Time32.Now;

                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Every time we summon the soul of Snow Banshee, the seal`s power weakens, so we must wait 30 minutes to summon the soul, again.");
                                            dialog.Text("~Otherwise, the Snow Banshee would break the seal!");
                                            dialog.Option("I`ll~wait.", 255);
                                            dialog.Avatar(67);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region CloudSaintJar
                    #region TC Monster Hunter Quest
                    case 2001:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.Entity.QuestFrom == "")
                                        {
                                            if (client.Entity.Level <= 90)
                                            {
                                                dialog.Text("Glad to see you are here! Twin City is being besieged by monsters recently. If you can help us out, your reward will be EXP worth a ExpBall and Meteor. But remember you can only get 3 opportunities everyday.");
                                                dialog.Option("Go kill Pheasant (Level 7)", 1);
                                                dialog.Option("Go kill Robins (Level 12)", 2);
                                                dialog.Option("Go kill Apparitions (Level 17)", 3);
                                                dialog.Option("Go kill Poltergeists (Level 22)", 4);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 100)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Phoenix City, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Phoenix City.", 10);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 110)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Ape Mountain, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Ape Mountain.", 11);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 120)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Desert City, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Desert City.", 12);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 130)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Bird Island, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Bird Island.", 13);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 140)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Mystic Castle, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Mystic Castle.", 14);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level > 140)
                                            {
                                                dialog.Text("You have made the land peaceful! There is nothing left for you to do!");
                                                dialog.Option("Okay.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                        }
                                        else if (client.Entity.QuestFrom == "TC")
                                        {
                                            if (client.Entity.QuestKO >= 300 && client.Inventory.Contains(750000, 1))
                                            {
                                                client.Inventory.Remove(750000, 1);
                                                client.Entity.QuestKO = 0;
                                                client.Entity.QuestMob = "";
                                                client.Entity.QuestFrom = "";
                                                client.IncreaseExperience((ulong)(1295000 + client.Entity.Level * 100000), false);
                                                client.Inventory.Add(1088001, 0, 1);

                                                dialog.Text("Good job! You killed 300 Monsters! Here is your Exp worth 2 ExpBalls and a Meteor.");
                                                dialog.Option("Thanks.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.QuestKO >= 0)
                                            {
                                                if (client.Inventory.Contains(750000, 1))
                                                {
                                                    dialog.Text("Why do you hurry to come back? What happened? How about your quest to kill 300 " + client.Entity.QuestMob + "?");
                                                    dialog.Option("I'll get to it.", 255);
                                                    dialog.Option("I want to end the Quest.", 9);
                                                    dialog.Avatar(30);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("Alas! Where is the CloudSaint'sJar that I lent you? If you can't find it, I suggest you to give up the quest. But don't worry, you can get a new quest again.");
                                                    dialog.Option("Sorry its my fault.", 9);
                                                    dialog.Avatar(30);
                                                    dialog.Send();
                                                }
                                            }
                                        }
                                        else if (client.Entity.QuestFrom == "PC")
                                        {
                                            dialog.Text("The quest you got from PCCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "AC")
                                        {
                                            dialog.Text("The quest you got from ACCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "DC")
                                        {
                                            dialog.Text("The quest you got from DCCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "BI")
                                        {
                                            dialog.Text("The quest you got from BICaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "MC")
                                        {
                                            dialog.Text("The quest you got from MCCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 15:
                                    {
                                        if (client.Inventory.Contains(750000, 1))
                                        {
                                            client.Inventory.Remove(750000, 1);
                                            client.Entity.QuestKO = 0;
                                            client.Entity.QuestMob = "";
                                            client.Entity.QuestFrom = "";
                                        }
                                        else
                                        {
                                            client.Entity.QuestKO = 0;
                                            client.Entity.QuestMob = "";
                                            client.Entity.QuestFrom = "";
                                        }
                                        break;
                                    }
                                case 9:
                                    {
                                        dialog.Text("Are you sure you want to end the quest?");
                                        dialog.Option("Yes, end the Quest.", 15);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("If you can go and kill 300 Pheasants, Twin City will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 5);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("If you can go and kill 300 Robins, Twin City will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 6);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("If you can go and kill 300 Apparition, Twin City will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 7);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("If you can go and kill 300 Poltergeist, Twin City will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 8);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        client.Entity.QuestMob = "Pheasant";
                                        client.Entity.QuestFrom = "TC";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 6:
                                    {
                                        client.Entity.QuestMob = "Robin";
                                        client.Entity.QuestFrom = "TC";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 7:
                                    {
                                        client.Entity.QuestMob = "Apparition";
                                        client.Entity.QuestFrom = "TC";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 8:
                                    {
                                        client.Entity.QuestMob = "Poltergeist";
                                        client.Entity.QuestFrom = "TC";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 10:
                                    {
                                        client.Entity.Teleport(1011, 230, 258);
                                        break;
                                    }
                                case 11:
                                    {
                                        client.Entity.Teleport(1020, 569, 622);
                                        break;
                                    }
                                case 12:
                                    {
                                        client.Entity.Teleport(1000, 477, 634);
                                        break;
                                    }
                                case 13:
                                    {
                                        client.Entity.Teleport(1015, 791, 569);
                                        break;
                                    }
                                case 14:
                                    {
                                        client.Entity.Teleport(1000, 083, 319);
                                        break;
                                    }
                            }
                        }
                        break;
                    #endregion
                    #region PC Monster Hunter Quest
                    case 2002:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.Entity.QuestFrom == "")
                                        {
                                            if (client.Entity.Level <= 90)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Twin City, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Twin City.", 9);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 100)
                                            {
                                                dialog.Text("Glad to see you are here! Phoenix City is being besieged by monsters recently. If you can help us out, your reward will be EXP worth a ExpBall and Meteor. But remember you can only get 3 opportunities everyday.");
                                                dialog.Option("Go kill WingedSnakes (Level 27)", 1);
                                                dialog.Option("Go kill Bandits (Level 32)", 2);
                                                dialog.Option("Go kill FireRats (Level 42)", 3);
                                                dialog.Option("Go kill FireSpirits (Level 47)", 4);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 110)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Ape Mountain, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Ape Mountain.", 11);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 120)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Desert City, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Desert City.", 12);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 130)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Bird Island, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Bird Island.", 13);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 140)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Mystic Castle, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Mystic Castle.", 14);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level > 140)
                                            {
                                                dialog.Text("You have made the land peaceful! There is nothing left for you to do!");
                                                dialog.Option("Okay.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                        }
                                        else if (client.Entity.QuestFrom == "PC")
                                        {
                                            if (client.Entity.QuestKO >= 300 && client.Inventory.Contains(750000, 1))
                                            {
                                                client.Inventory.Remove(750000, 1);
                                                client.Entity.QuestKO = 0;
                                                client.Entity.QuestMob = "";
                                                client.Entity.QuestFrom = "";
                                                client.IncreaseExperience((ulong)(1295000 + client.Entity.Level * 50000), false);
                                                client.Inventory.Add(1088001, 0, 1);

                                                dialog.Text("Good job! You killed 300 Monsters! Here is your Exp and Meteor.");
                                                dialog.Option("Thanks.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.QuestKO >= 0)
                                            {
                                                if (client.Inventory.Contains(750000, 1))
                                                {
                                                    dialog.Text("Why do you hurry to come back? What happened? How about your quest to kill 300 " + client.Entity.QuestMob + "?");
                                                    dialog.Option("I'll get to it.", 255);
                                                    dialog.Option("I want to end the Quest.", 9);
                                                    dialog.Avatar(30);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("Alas! Where is the CloudSaint'sJar that I lent you? If you can't find it, I suggest you to give up the quest. But don't worry, you can get a new quest again.");
                                                    dialog.Option("Sorry its my fault.", 9);
                                                    dialog.Avatar(30);
                                                    dialog.Send();
                                                }
                                            }
                                        }
                                        else if (client.Entity.QuestFrom == "TC")
                                        {
                                            dialog.Text("The quest you got from TCCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "AC")
                                        {
                                            dialog.Text("The quest you got from ACCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "DC")
                                        {
                                            dialog.Text("The quest you got from DCCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "BI")
                                        {
                                            dialog.Text("The quest you got from BICaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "MC")
                                        {
                                            dialog.Text("The quest you got from MCCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 15:
                                    {
                                        if (client.Inventory.Contains(750000, 1))
                                        {
                                            client.Inventory.Remove(750000, 1);
                                            client.Entity.QuestKO = 0;
                                            client.Entity.QuestMob = "";
                                            client.Entity.QuestFrom = "";
                                        }
                                        else
                                        {
                                            client.Entity.QuestKO = 0;
                                            client.Entity.QuestMob = "";
                                            client.Entity.QuestFrom = "";
                                        }
                                        break;
                                    }
                                case 9:
                                    {
                                        dialog.Text("Are you sure you want to end the quest?");
                                        dialog.Option("Yes, end the Quest.", 15);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("If you can go and kill 300 WingedSnakes, Phoenix City will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 5);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("If you can go and kill 300 Bandits, Phoenix City will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 6);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("If you can go and kill 300 FireRats, Phoenix City will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 7);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("If you can go and kill 300 FireSpirits, Phoenix City will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 8);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        client.Entity.QuestMob = "WingedSnake";
                                        client.Entity.QuestFrom = "PC";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 6:
                                    {
                                        client.Entity.QuestMob = "Bandit";
                                        client.Entity.QuestFrom = "TC";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 7:
                                    {
                                        client.Entity.QuestMob = "FireRat";
                                        client.Entity.QuestFrom = "PC";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 8:
                                    {
                                        client.Entity.QuestMob = "FireSpirit";
                                        client.Entity.QuestFrom = "PC";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 10:
                                    {
                                        client.Entity.Teleport(1011, 230, 258);
                                        break;
                                    }
                                case 11:
                                    {
                                        client.Entity.Teleport(1020, 569, 622);
                                        break;
                                    }
                                case 12:
                                    {
                                        client.Entity.Teleport(1000, 477, 634);
                                        break;
                                    }
                                case 13:
                                    {
                                        client.Entity.Teleport(1015, 791, 569);
                                        break;
                                    }
                                case 14:
                                    {
                                        client.Entity.Teleport(1000, 083, 319);
                                        break;
                                    }
                            }
                        }
                        break;
                    #endregion
                    #region AC Monster Hunter Quest
                    case 2003:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.Entity.QuestFrom == "")
                                        {
                                            if (client.Entity.Level <= 90)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Twin City, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Twin City.", 9);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 100)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Pheonix City, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Pheonix City.", 10);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 110)
                                            {
                                                dialog.Text("Glad to see you are here! Ape Mountain is being besieged by monsters recently. If you can help us out, your reward will be EXP worth a ExpBall and Meteor. But remember you can only get 3 opportunities everyday.");
                                                dialog.Option("Go kill Macaquees (Level 47)", 1);
                                                dialog.Option("Go kill GiantAps (Level 52)", 2);
                                                dialog.Option("Go kill ThunderApes (Level 57)", 3);
                                                dialog.Option("Go kill SnakeMen (Level 62)", 4);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 120)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Desert City, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Desert City.", 12);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 130)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Bird Island, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Bird Island.", 13);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 140)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Mystic Castle, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Mystic Castle.", 14);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level > 140)
                                            {
                                                dialog.Text("You have made the land peaceful! There is nothing left for you to do!");
                                                dialog.Option("Okay.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                        }
                                        else if (client.Entity.QuestFrom == "AC")
                                        {
                                            if (client.Entity.QuestKO >= 300 && client.Inventory.Contains(750000, 1))
                                            {
                                                client.Inventory.Remove(750000, 1);
                                                client.Entity.QuestKO = 0;
                                                client.Entity.QuestMob = "";
                                                client.Entity.QuestFrom = "";
                                                client.IncreaseExperience((ulong)(1295000 + client.Entity.Level * 50000), false);
                                                client.Inventory.Add(1088001, 0, 1);

                                                dialog.Text("Good job! You killed 300 Monsters! Here is your Exp and Meteor.");
                                                dialog.Option("Thanks.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.QuestKO >= 0)
                                            {
                                                if (client.Inventory.Contains(750000, 1))
                                                {
                                                    dialog.Text("Why do you hurry to come back? What happened? How about your quest to kill 300 " + client.Entity.QuestMob + "?");
                                                    dialog.Option("I'll get to it.", 255);
                                                    dialog.Option("I want to end the Quest.", 9);
                                                    dialog.Avatar(30);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("Alas! Where is the CloudSaint'sJar that I lent you? If you can't find it, I suggest you to give up the quest. But don't worry, you can get a new quest again.");
                                                    dialog.Option("Sorry its my fault.", 9);
                                                    dialog.Avatar(30);
                                                    dialog.Send();
                                                }
                                            }
                                        }
                                        else if (client.Entity.QuestFrom == "TC")
                                        {
                                            dialog.Text("The quest you got from TCCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "PC")
                                        {
                                            dialog.Text("The quest you got from PCCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "DC")
                                        {
                                            dialog.Text("The quest you got from DCCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "BI")
                                        {
                                            dialog.Text("The quest you got from BICaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "MC")
                                        {
                                            dialog.Text("The quest you got from MCCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 15:
                                    {
                                        if (client.Inventory.Contains(750000, 1))
                                        {
                                            client.Inventory.Remove(750000, 1);
                                            client.Entity.QuestKO = 0;
                                            client.Entity.QuestMob = "";
                                            client.Entity.QuestFrom = "";
                                        }
                                        else
                                        {
                                            client.Entity.QuestKO = 0;
                                            client.Entity.QuestMob = "";
                                            client.Entity.QuestFrom = "";
                                        }
                                        break;
                                    }
                                case 9:
                                    {
                                        dialog.Text("Are you sure you want to end the quest?");
                                        dialog.Option("Yes, end the Quest.", 15);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("If you can go and kill 300 Macaques, Ape City will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 5);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("If you can go and kill 300 GiantApes, Ape City will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 6);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("If you can go and kill 300 ThunderApes, Ape City will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 7);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("If you can go and kill 300 Snakemen, Ape City will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 8);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        client.Entity.QuestMob = "Macaque";
                                        client.Entity.QuestFrom = "AC";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 6:
                                    {
                                        client.Entity.QuestMob = "GiantApe";
                                        client.Entity.QuestFrom = "AC";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 7:
                                    {
                                        client.Entity.QuestMob = "ThunderApe";
                                        client.Entity.QuestFrom = "AC";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 8:
                                    {
                                        client.Entity.QuestMob = "Snakeman";
                                        client.Entity.QuestFrom = "AC";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 10:
                                    {
                                        client.Entity.Teleport(1011, 230, 258);
                                        break;
                                    }
                                case 11:
                                    {
                                        client.Entity.Teleport(1020, 569, 622);
                                        break;
                                    }
                                case 12:
                                    {
                                        client.Entity.Teleport(1000, 477, 634);
                                        break;
                                    }
                                case 13:
                                    {
                                        client.Entity.Teleport(1015, 791, 569);
                                        break;
                                    }
                                case 14:
                                    {
                                        client.Entity.Teleport(1000, 083, 319);
                                        break;
                                    }
                            }
                        }
                        break;
                    #endregion
                    #region DC Monster Hunter Quest
                    case 2004:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.Entity.QuestFrom == "")
                                        {
                                            if (client.Entity.Level <= 90)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Twin City, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Twin City.", 9);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 100)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Phoenix City, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Phoenix City.", 10);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 110)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Ape Mountain, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Ape Mountain.", 11);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();

                                            }
                                            else if (client.Entity.Level <= 120)
                                            {
                                                dialog.Text("Glad to see you are here! Desert City is being besieged by monsters recently. If you can help us out, your reward will be EXP worth a ExpBall and Meteor. But remember you can only get 3 opportunities everyday.");
                                                dialog.Option("Go kill SandMonsters (Level 67)", 1);
                                                dialog.Option("Go kill HillMonsters (Level 72)", 2);
                                                dialog.Option("Go kill RockMonsters (Level 77)", 3);
                                                dialog.Option("Go kill BladeGhosts (Level 82)", 4);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 130)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Bird Island, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Bird Island.", 13);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 140)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Mystic Castle, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Mystic Castle.", 14);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level > 140)
                                            {
                                                dialog.Text("You have made the land peaceful! There is nothing left for you to do!");
                                                dialog.Option("Okay.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                        }
                                        else if (client.Entity.QuestFrom == "DC")
                                        {
                                            if (client.Entity.QuestKO >= 300 && client.Inventory.Contains(750000, 1))
                                            {
                                                client.Inventory.Remove(750000, 1);
                                                client.Entity.QuestKO = 0;
                                                client.Entity.QuestMob = "";
                                                client.Entity.QuestFrom = "";
                                                client.IncreaseExperience((ulong)(1295000 + client.Entity.Level * 50000), false);
                                                client.Inventory.Add(1088001, 0, 1);

                                                dialog.Text("Good job! You killed 300 Monsters! Here is your Exp and Meteor.");
                                                dialog.Option("Thanks.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.QuestKO >= 0)
                                            {
                                                if (client.Inventory.Contains(750000, 1))
                                                {
                                                    dialog.Text("Why do you hurry to come back? What happened? How about your quest to kill 300 " + client.Entity.QuestMob + "?");
                                                    dialog.Option("I'll get to it.", 255);
                                                    dialog.Option("I want to end the Quest.", 9);
                                                    dialog.Avatar(30);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("Alas! Where is the CloudSaint'sJar that I lent you? If you can't find it, I suggest you to give up the quest. But don't worry, you can get a new quest again.");
                                                    dialog.Option("Sorry its my fault.", 9);
                                                    dialog.Avatar(30);
                                                    dialog.Send();
                                                }
                                            }
                                        }
                                        else if (client.Entity.QuestFrom == "TC")
                                        {
                                            dialog.Text("The quest you got from TCCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "PC")
                                        {
                                            dialog.Text("The quest you got from PCCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "AC")
                                        {
                                            dialog.Text("The quest you got from ACCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "BI")
                                        {
                                            dialog.Text("The quest you got from BICaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "MC")
                                        {
                                            dialog.Text("The quest you got from MCCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 15:
                                    {
                                        if (client.Inventory.Contains(750000, 1))
                                        {
                                            client.Inventory.Remove(750000, 1);
                                            client.Entity.QuestKO = 0;
                                            client.Entity.QuestMob = "";
                                            client.Entity.QuestFrom = "";
                                        }
                                        else
                                        {
                                            client.Entity.QuestKO = 0;
                                            client.Entity.QuestMob = "";
                                            client.Entity.QuestFrom = "";
                                        }
                                        break;
                                    }
                                case 9:
                                    {
                                        dialog.Text("Are you sure you want to end the quest?");
                                        dialog.Option("Yes, end the Quest.", 15);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("If you can go and kill 300 SandMonsters, Desert City will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 5);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("If you can go and kill 300 HillMonsters, Desert City will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 6);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("If you can go and kill 300 RockMonsters, Desert City will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 7);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("If you can go and kill 300 BladeGhosts, Desert City will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 8);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        client.Entity.QuestMob = "SandMonster";
                                        client.Entity.QuestFrom = "DC";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 6:
                                    {
                                        client.Entity.QuestMob = "HillMonster";
                                        client.Entity.QuestFrom = "DC";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 7:
                                    {
                                        client.Entity.QuestMob = "RockMonster";
                                        client.Entity.QuestFrom = "DC";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 8:
                                    {
                                        client.Entity.QuestMob = "BladeGhost";
                                        client.Entity.QuestFrom = "DC";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 10:
                                    {
                                        client.Entity.Teleport(1011, 230, 258);
                                        break;
                                    }
                                case 11:
                                    {
                                        client.Entity.Teleport(1020, 569, 622);
                                        break;
                                    }
                                case 12:
                                    {
                                        client.Entity.Teleport(1000, 477, 634);
                                        break;
                                    }
                                case 13:
                                    {
                                        client.Entity.Teleport(1015, 791, 569);
                                        break;
                                    }
                                case 14:
                                    {
                                        client.Entity.Teleport(1000, 083, 319);
                                        break;
                                    }
                            }
                        }
                        break;
                    #endregion
                    #region BI Monster Hunter Quest
                    case 2005:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.Entity.QuestFrom == "")
                                        {
                                            if (client.Entity.Level <= 90)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Twin City, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Twin City.", 9);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 100)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Pheonix City, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Pheonix City.", 10);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 110)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Ape Mountain, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Ape Mountain.", 11);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();

                                            }
                                            else if (client.Entity.Level <= 120)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Desert City, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Desert City.", 12);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();

                                            }
                                            else if (client.Entity.Level <= 130)
                                            {
                                                dialog.Text("Glad to see you are here! Bird Island is being besieged by monsters recently. If you can help us out, your reward will be EXP worth a ExpBall and Meteor. But remember you can only get 3 opportunities everyday.");
                                                dialog.Option("Go kill Birdmen (Level 87)", 1);
                                                dialog.Option("Go kill Hawkings (Level 92)", 2);
                                                dialog.Option("Go kill BanditL97, BanditL98, or Robbers (Level 97)", 3);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 140)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Mystic Castle, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Mystic Castle.", 14);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level > 140)
                                            {
                                                dialog.Text("You have made the land peaceful! There is nothing left for you to do!");
                                                dialog.Option("Okay.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                        }
                                        else if (client.Entity.QuestFrom == "BI")
                                        {
                                            if (client.Entity.QuestKO >= 300 && client.Inventory.Contains(750000, 1))
                                            {
                                                client.Inventory.Remove(750000, 1);
                                                client.Entity.QuestKO = 0;
                                                client.Entity.QuestMob = "";
                                                client.Entity.QuestFrom = "";
                                                client.IncreaseExperience((ulong)(1295000 + client.Entity.Level * 50000), false);
                                                client.Inventory.Add(1088001, 0, 1);

                                                dialog.Text("Good job! You killed 300 Monsters! Here is your Exp and Meteor.");
                                                dialog.Option("Thanks.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.QuestKO >= 0)
                                            {
                                                if (client.Inventory.Contains(750000, 1))
                                                {
                                                    dialog.Text("Why do you hurry to come back? What happened? How about your quest to kill 300 " + client.Entity.QuestMob + "?");
                                                    dialog.Option("I'll get to it.", 255);
                                                    dialog.Option("I want to end the Quest.", 9);
                                                    dialog.Avatar(30);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("Alas! Where is the CloudSaint'sJar that I lent you? If you can't find it, I suggest you to give up the quest. But don't worry, you can get a new quest again.");
                                                    dialog.Option("Sorry its my fault.", 9);
                                                    dialog.Avatar(30);
                                                    dialog.Send();
                                                }
                                            }
                                        }
                                        else if (client.Entity.QuestFrom == "TC")
                                        {
                                            dialog.Text("The quest you got from TCCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "PC")
                                        {
                                            dialog.Text("The quest you got from PCCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "AC")
                                        {
                                            dialog.Text("The quest you got from ACCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "DC")
                                        {
                                            dialog.Text("The quest you got from DCCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "MC")
                                        {
                                            dialog.Text("The quest you got from MCCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 15:
                                    {
                                        if (client.Inventory.Contains(750000, 1))
                                        {
                                            client.Inventory.Remove(750000, 1);
                                            client.Entity.QuestKO = 0;
                                            client.Entity.QuestMob = "";
                                            client.Entity.QuestFrom = "";
                                        }
                                        else
                                        {
                                            client.Entity.QuestKO = 0;
                                            client.Entity.QuestMob = "";
                                            client.Entity.QuestFrom = "";
                                        }
                                        break;
                                    }
                                case 9:
                                    {
                                        dialog.Text("Are you sure you want to end the quest?");
                                        dialog.Option("Yes, end the Quest.", 15);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("If you can go and kill 300 Birdmen, Bird Island will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 5);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("If you can go and kill 300 Hawkings, Bird Island will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 6);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("If you can go and kill 300 BanditL97, Bird Island will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 7);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        client.Entity.QuestMob = "Birdman";
                                        client.Entity.QuestFrom = "BI";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 6:
                                    {
                                        client.Entity.QuestMob = "HawKing";
                                        client.Entity.QuestFrom = "BI";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 7:
                                    {
                                        client.Entity.QuestMob = "BanditL97";
                                        client.Entity.QuestFrom = "BI";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 10:
                                    {
                                        client.Entity.Teleport(1011, 230, 258);
                                        break;
                                    }
                                case 11:
                                    {
                                        client.Entity.Teleport(1020, 569, 622);
                                        break;
                                    }
                                case 12:
                                    {
                                        client.Entity.Teleport(1000, 477, 634);
                                        break;
                                    }
                                case 13:
                                    {
                                        client.Entity.Teleport(1015, 791, 569);
                                        break;
                                    }
                                case 14:
                                    {
                                        client.Entity.Teleport(1000, 083, 319);
                                        break;
                                    }
                            }
                        }
                        break;
                    #endregion
                    #region MC Monster Hunter Quest
                    case 2006:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.Entity.QuestFrom == "")
                                        {
                                            if (client.Entity.Level <= 90)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Twin City, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Twin City.", 9);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 100)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Phoenix City, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Phoenix City.", 10);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 110)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Ape Mountain, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Ape Mountain.", 11);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();

                                            }
                                            else if (client.Entity.Level <= 120)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Desert City, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Desert City.", 12);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();

                                            }
                                            else if (client.Entity.Level <= 130)
                                            {
                                                dialog.Text("You are powerful now. I suggest you go to the Captain of Bird Island, because I heard he is annoyed by the rampant monsters there. I believe you can help him a lot. I will teleport you there to save time.");
                                                dialog.Option("Please send me to Bird Island.", 13);
                                                dialog.Option("I don't want to go there.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level <= 140)
                                            {
                                                dialog.Text("Glad to see you are here! Mystic Castle is being besieged by monsters recently. If you can help us out, your reward will be EXP worth a ExpBall and Meteor. But remember you can only get 3 opportunities everyday.");
                                                dialog.Option("Go kill Tombats (Level 102)", 1);
                                                dialog.Option("Go kill Bloodybats (Level 107)", 2);
                                                dialog.Option("Go kill BullMonsters (Level 112)", 3);
                                                dialog.Option("Go kill RedDevils (Level 117)", 4);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.Level > 140)
                                            {
                                                dialog.Text("You have made the land peaceful! There is nothing left for you to do!");
                                                dialog.Option("Okay.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                        }
                                        else if (client.Entity.QuestFrom == "MC")
                                        {
                                            if (client.Entity.QuestKO >= 300 && client.Inventory.Contains(750000, 1))
                                            {
                                                client.Inventory.Remove(750000, 1);
                                                client.Entity.QuestKO = 0;
                                                client.Entity.QuestMob = "";
                                                client.Entity.QuestFrom = "";
                                                client.IncreaseExperience((ulong)(1295000 + client.Entity.Level * 50000), false);
                                                client.Inventory.Add(1088001, 0, 1);

                                                dialog.Text("Good job! You killed 300 Monsters! Here is your Exp and Meteor.");
                                                dialog.Option("Thanks.", 255);
                                                dialog.Avatar(30);
                                                dialog.Send();
                                            }
                                            else if (client.Entity.QuestKO >= 0)
                                            {
                                                if (client.Inventory.Contains(750000, 1))
                                                {
                                                    dialog.Text("Why do you hurry to come back? What happened? How about your quest to kill 300 " + client.Entity.QuestMob + "?");
                                                    dialog.Option("I'll get to it.", 255);
                                                    dialog.Option("I want to end the Quest.", 9);
                                                    dialog.Avatar(30);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("Alas! Where is the CloudSaint'sJar that I lent you? If you can't find it, I suggest you to give up the quest. But don't worry, you can get a new quest again.");
                                                    dialog.Option("Sorry its my fault.", 9);
                                                    dialog.Avatar(30);
                                                    dialog.Send();
                                                }
                                            }
                                        }
                                        else if (client.Entity.QuestFrom == "TC")
                                        {
                                            dialog.Text("The quest you got from TCCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "PC")
                                        {
                                            dialog.Text("The quest you got from PCCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "AC")
                                        {
                                            dialog.Text("The quest you got from ACCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "DC")
                                        {
                                            dialog.Text("The quest you got from DCCaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.QuestFrom == "BI")
                                        {
                                            dialog.Text("The quest you got from BICaptain hasn't been finished yet. Please finish it or give up before getting the new quest from me.");
                                            dialog.Option("I'm going to finish it right away.", 255);
                                            dialog.Option("I want to end the Quest.", 9);
                                            dialog.Avatar(30);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 15:
                                    {
                                        if (client.Inventory.Contains(750000, 1))
                                        {
                                            client.Inventory.Remove(750000, 1);
                                            client.Entity.QuestKO = 0;
                                            client.Entity.QuestMob = "";
                                            client.Entity.QuestFrom = "";
                                        }
                                        else
                                        {
                                            client.Entity.QuestKO = 0;
                                            client.Entity.QuestMob = "";
                                            client.Entity.QuestFrom = "";
                                        }
                                        break;
                                    }
                                case 9:
                                    {
                                        dialog.Text("Are you sure you want to end the quest?");
                                        dialog.Option("Yes, end the Quest.", 15);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("If you can go and kill 300 TomBats, Mystic Castle will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 5);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("If you can go and kill 300 BloodyBats, Mystic Castle will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 6);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("If you can go and kill 300 BullMonsters, Mystic Castle will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 7);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("If you can go and kill 300 RedDevils, Mystic Castle will become much more peaceful. By the way, if you team up with other players, the soul of the monsters killed by your teammates can be drawn into your CloudSaint'sJar.");
                                        dialog.Option("I accept the Quest.", 8);
                                        dialog.Avatar(30);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        client.Entity.QuestMob = "TombBat";
                                        client.Entity.QuestFrom = "MC";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 6:
                                    {
                                        client.Entity.QuestMob = "BloodyBat";
                                        client.Entity.QuestFrom = "MC";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 7:
                                    {
                                        client.Entity.QuestMob = "BullMonster";
                                        client.Entity.QuestFrom = "MC";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);

                                        break;
                                    }
                                case 8:
                                    {
                                        client.Entity.QuestMob = "RedDevilL117";
                                        client.Entity.QuestFrom = "MC";
                                        client.Entity.QuestKO = 0;
                                        client.Inventory.Add(new ConquerItem(true) { ID = 750000, Durability = 300, MaximDurability = (ushort)Database.MonsterInformation.GetIDFromName(client.Entity.QuestMob) }, Enums.ItemUse.CreateAndAdd);
                                        break;
                                    }
                                case 10:
                                    {
                                        client.Entity.Teleport(1011, 230, 258);
                                        break;
                                    }
                                case 11:
                                    {
                                        client.Entity.Teleport(1020, 569, 622);
                                        break;
                                    }
                                case 12:
                                    {
                                        client.Entity.Teleport(1000, 477, 634);
                                        break;
                                    }
                                case 13:
                                    {
                                        client.Entity.Teleport(1015, 791, 569);
                                        break;
                                    }
                                case 14:
                                    {
                                        client.Entity.Teleport(1000, 083, 319);
                                        break;
                                    }
                            }
                        }
                        break;
                    #endregion
                    #endregion
                    #region Discity
                    #region SolarSaint
                    case 32150:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("A thousand years ago, Ultimate Pluto, the leader of the demons, was defeated by our ancestors. However,");
                                        dialog.Text("~he escaped and swore to make a comeback. Now, he is on the way. Heroes, come and join the army against");
                                        dialog.Text("~the demons in Dis City every Monday, Wednesday and Friday. Let`s fight for peace and justice!");

                                        if (DateTime.Now.DayOfWeek == DayOfWeek.Monday || DateTime.Now.DayOfWeek == DayOfWeek.Wednesday || DateTime.Now.DayOfWeek == DayOfWeek.Friday)
                                        {
                                            dialog.Option("I`m~in!", 1);
                                        }
                                        dialog.Option("Could~you~tell~me~more?", 2);
                                        dialog.Avatar(67);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Quests.GetQuest(QuestID.DisCity1) == null || client.Quests.GetQuest(QuestID.DisCity1).QItem.Status != QuestPacket.QuestData.QuestStatus.Finished)
                                        {
                                            client.Entity.Teleport(3955, 288, 503);
                                            client.Quests.Accept(QuestID.DisCity1);
                                        }
                                        else
                                        {
                                            client.MessageBox("You Already Finished It");
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("Black magic has occupied the Dis City where Battle Power has little effect and PKs will not result in punishment.");
                                        dialog.Text("~You`ll receive rewards for completing a stage. After clearing all the stages, you can unlock the Hell Treasury");
                                        dialog.Text("~for a harvest.In addition, the top 10 heroes on the rankings can claim a rank prize on the next day.");

                                        dialog.Option("How~to~complete?", 3);
                                        dialog.Option("What`re~the~rewards?", 4);
                                        //   dialog.Option("View~the~rank~prizes.", 5);
                                        // dialog.Option("What`s~in~the~treasury?", 6);
                                        dialog.Option("Learn~about~something~else.", 0);
                                        dialog.Option("I`ll~talk~to~you~later.", 255);
                                        dialog.Avatar(67);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("1. Hell Gate: Collect 5 Soul Stones by killing monsters in Dis City.2. Hell Hall: Earn 400 Slayer Points (Archer needs 600 points, and Taoist needs 300 points).");
                                        dialog.Text("3. Hell Cloister: kill the Hell Wraith guarding the 9 Hell Crystals in proper order.4. Battle Formation: Collect 4 Pluto Token Scraps from the Syren, and combine them into a Pluto Token");
                                        dialog.Text("~which is used to summon the Ultimate Pluto. Defeat the final boss to claim ultimate victory.");

                                        dialog.Option("I~see.", 255);
                                        dialog.Avatar(67);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("    Stage           [Easy]                       [Common]                [Elite]");
                                        dialog.Text("   Stage 1      50-min EXP             60-min EXP             120-min EXP");
                                        dialog.Text("   Stage 2      100-min EXP           120-min EXP           240-min EXP");
                                        dialog.Text("   Stage 3      150-min EXP           180-min EXP           360-min EXP");
                                        dialog.Text("   ----------------------------------------------------------------------------------------");
                                        dialog.Text("                     200-min EXP              240-min EXP              480-min EXP");
                                        dialog.Text("   Stage 4    300 Champion Pts    400 Champion Pts    500 Champion Pts");
                                        dialog.Text("                                                           1 Yin Jade                   1 Yin Jade----------------------------------------------------------------------------------------");

                                        dialog.Option("Rewards~for~Max-level~heroes.", 9);
                                        dialog.Option("Learn~about~something~else.", 0);
                                        dialog.Avatar(67);
                                        dialog.Send();
                                        break;
                                    }
                                case 9:
                                    {
                                        dialog.Text("    Stage           [Easy]                     [Common]                [Elite]");
                                        dialog.Text("   Stage 1      20 Study Pts           30 Study Pts            60 Chi Pts");
                                        dialog.Text("   Stage 2      40 Study Pts           60 Study Pts            120 Chi Pts");
                                        dialog.Text("   Stage 3      60 Study Pts           90 Study Pts            180 Chi Pts");
                                        dialog.Text("   ----------------------------------------------------------------------------------------");
                                        dialog.Text("                      80 Study Pts               120 Study Pts             240 Chi Pts");
                                        dialog.Text("   Stage 4     300 Champion Pts    400 Champion Pts    500 Champion Pts");
                                        dialog.Text("                                                            1 Yin Jade                   1 Yin Jade----------------------------------------------------------------------------------------");
                                        dialog.Option("Learn~about~something~else.", 0);
                                        dialog.Option("I~see.", 1);
                                        dialog.Avatar(67);
                                        dialog.Send();
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region SolarSaint(Floor1)
                    case 18716:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hell Gate is shielded from poisonous fog. Look, the monsters outside the city are carrying Soul Stones,");
                                        dialog.Text("~with detox element. Go collect 5 Soul Stones, and I`ll help you break through the gate.");

                                        dialog.Option("I~brought~you~5~Soul~Stones.", 1);
                                        dialog.Option("Return~to~Twin~City.", 2);
                                        dialog.Option("I~see.", 2);
                                        dialog.Avatar(67);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Inventory.Contains(723085, 5))
                                        {
                                            dialog.Text("You`ve successfully pass through the Hell Gate. I`ll reward you with 50-min EXP.");

                                            dialog.Option("Thanks!", 255);
                                            dialog.Avatar(67);
                                            dialog.Send();
                                            client.Inventory.Remove(723085, 5);
                                            client.Quests.FinishQuest(QuestID.DisCity1);
                                            client.Inventory.Add(723087, 0, (ushort)Kernel.Random.Next(1, 3));
                                            client.Entity.Teleport(3956, 214, 338);
                                            client.Quests.Accept(QuestID.Discity2);
                                            client.IncreaseExperience(client.ExpBall, false);
                                        }
                                        else
                                        {
                                            dialog.Text("I`m not that old, and I can still count. You don`t have 5 Soul Stones.");

                                            dialog.Option("I~see.", 255);
                                            dialog.Avatar(67);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region SolarSaint(Floor2)
                    case 18717:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.Quests.GetQuest(QuestID.Discity2) == null || client.Quests.GetQuest(QuestID.Discity2).QItem.Status != QuestPacket.QuestData.QuestStatus.Accepted)
                                            client.Quests.Accept(QuestID.Discity2);
                                        dialog.Text("In the Hell Hall, demons swear their oaths of allegiance to Ultimate Pluto. Killing different demons brings you different amount of Slayer Points.");
                                        dialog.Text("~When you earn totally 600 points, I`ll help you enter the Hell Cloister. (Current Slay Points: " + client.Quests.GetQuest(QuestID.Discity2).Kills1 + ")");

                                        dialog.Option("I`ve~reached~the~goal.", 1);
                                        dialog.Option("Return~to~Twin~City.", 2);
                                        dialog.Option("Got~it.", 2);
                                        dialog.Avatar(67);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Quests.GetQuest(QuestID.Discity2) == null || client.Quests.GetQuest(QuestID.Discity2).QItem.Status != QuestPacket.QuestData.QuestStatus.Accepted)
                                            client.Quests.Accept(QuestID.Discity2);
                                        if (client.Quests.GetQuest(QuestID.Discity2).Kills1 >= 600)
                                        {
                                            client.Entity.Teleport(3957, 591, 241);
                                            client.Quests.Accept(QuestID.DisCity3);
                                            client.Quests.FinishQuest(QuestID.Discity2);
                                            client.IncreaseExperience(client.ExpBall * 3, false);
                                            client.Inventory.Add(723087, 0, (ushort)Kernel.Random.Next(1, 3));
                                            client.MessageBox("You`ve arrived in the Hell Cloister. Go break the first sealing crystal.");

                                        }
                                        else
                                        {
                                            dialog.Text("It seems you haven`t earned 600 Slayer Points. You must try harder to reach the goal.");

                                            dialog.Option("Okay.", 255);
                                            dialog.Avatar(67);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region SolarSaint(Floor3)
                    case 18718:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hell Cloister is sealed by nine Hell Crystals, with each crystal guarded by a Hell Wraith.");
                                        dialog.Text("~After defeating all the Hell Wraith in proper order, you can advance towards the Battle Formation.");

                                        dialog.Option("I`ve~finished~the~job~here.", 1);
                                        dialog.Option("Return~to~Twin~City.", 2);
                                        dialog.Option("I~see.", 255);
                                        dialog.Avatar(67);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        client.IncreaseExperience(client.ExpBall * 5, false);
                                        client.Inventory.Add(723087, 0, (ushort)Kernel.Random.Next(1, 3));
                                        client.MessageBox("You`ve entered the Battle Formation. Go eliminate Syren to collect Pluto Token Scraps.");
                                        client.Entity.Teleport(3958, 147, 253);
                                        client.Quests.FinishQuest(QuestID.DisCity3); client.Quests.Accept(QuestID.DisCity4);
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region SolarSaint(Floor4)
                    case 18719:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("You finally arrived at the Battle Formation with the most dangerous threat. Go collect 4 Pluto Token Scraps by killing the Syren,");
                                        dialog.Text("~and combine the scraps into a Pluto Token. With the token, you can summon the Ultimate Pluto. Kill this final boss to destroy");
                                        dialog.Text("~the formation, and get a chance to unlock the Hell Treasury.");

                                        dialog.Option("Ultimate~Pluto~is~dead!.", 1);
                                        dialog.Option("Return~to~Twin~City.", 2);
                                        dialog.Option("I~see.", 2);
                                        dialog.Avatar(67);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Entity.KilledPluto)
                                        {
                                            client.IncreaseExperience(client.ExpBall * 8, false);
                                            client.Entity.Teleport(1002, 300, 278);
                                            _String str = new _String(true);
                                            str.UID = client.Entity.UID;
                                            str.TextsCount = 1;
                                            str.Type = _String.Effect;
                                            client.Quests.FinishQuest(QuestID.DisCity4);
                                            str.Texts.Add("end_task");
                                            client.Inventory.Add(723087, 0, (ushort)Kernel.Random.Next(1, 3));
                                            client.SendScreen(str, true);
                                        }
                                        else
                                        {
                                            dialog.Text("He didn't die! Go to kill him first and come to claim your prize!");

                                            dialog.Option("Ok!.", 255);
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #endregion
                    #region Treasure in Blue
                    #region SquidwardOctopus
                    case 42251:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Ladies and gentlemen, the `Treasure In The Blue` has started! No matter you are male or female, old or young, if you have interested in treasure hunting or pirates and have reached,");
                                        dialog.Text("~Level 80, sign up with me for a sea adventure! Rewards? Of course!");
                                        if (DateTime.Now.DayOfWeek != DayOfWeek.Sunday)
                                        {
                                            if (Kernel.TreasureInTheBlue)
                                            {
                                                dialog.Option("Send~me~to~the~Proud~Sea!", 1);
                                            }
                                        }
                                        dialog.Option("Treasure~hunting?", 5);
                                        dialog.Option("What~are~the~rewards?", 3);
                                        dialog.Option("I`ll~think~it~over.", 255);
                                        dialog.Send();

                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("It seems you have made up the mind. Wait, have you put away all the valuables? You know, the Proud Sea is so dangerous that you wouldn`t know what strong enemies you may meet. So, I suggest you recheck your inventory.");
                                        dialog.Option("Don`t~worry.~I`m~ready.", 2);
                                        dialog.Option("I`ll~be~back~soon.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(3071, 199, 65);
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("Trust me, you will be more than satisfied with the rewards. I can take some examples. When you exchange the Gold Coin with Mammon Envoy in the Prize Center, you`ll receive a Small");
                                        dialog.Text("~Lottery Ticket and have a chance to get a rare mount armor. For the Silver Coin, you can get an Endurance Book and a small gift. When you exchange the Copper Coin, you`ll receive a");
                                        dialog.Text("~mysterious gift. Interested? You`d better be quick, since the rewards are limited.");
                                        dialog.Option("What~do~you~mean~limited?", 4);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("Eh... You know we are a small team with limited human resources, so we accept Gold Coins exchange 100 times at most; Silver Coins exchange 200 times at most and Copper Coins exchange");
                                        dialog.Text("~400 times at most. When all the rewards are taken or it is 1 hour after the event time, we won`t accept any exchange. Hope you get what you like!");
                                        dialog.Option("I~know,~time~is~money.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        dialog.Text("Our ship will send treasure hunters to the Proud Sea at 12:30-13:29 and 20:30-21:29, Monday - Saturday. If you have reached Level 80, I`d be glad to count you in. Join our `Treasure In The Blue` adventure!");
                                        dialog.Option("What?~`Treasure~In~The~Blue`?", 6);
                                        dialog.Send();
                                        break;
                                    }
                                case 6:
                                    {
                                        dialog.Text("Alas... That`s what I want, but you came too late and all the gifts have been claimed. So, come earlier in the next hour!");
                                        dialog.Option("What~are~the~treasures?", 7);
                                        dialog.Send();
                                        break;
                                    }
                                case 7:
                                    {
                                        dialog.Text("Stop kidding me! You don`t bring any Gold Coins with you. Do I look like a fool?");
                                        dialog.Option("Special~sea~monsters?", 8);
                                        dialog.Send();
                                        break;
                                    }
                                case 8:
                                    {
                                        dialog.Text("Really? You have the Silver Coin? If you give it to me, you`ll receive an Endurance Book. Not enough? How about adding a Weapon Accessory Pack or a Mount Armor?");
                                        dialog.Text("~So, what do you say? Deal?");
                                        dialog.Option("I`ll~think~it~over.", 9);
                                        dialog.Send();
                                        break;
                                    }
                                case 9:
                                    {
                                        dialog.Text("Mammon Envoy is in the Prize Center and he is my partner. You can find any one of the 8 PC Teleporters in the Proud Sea to send you there.");
                                        dialog.Text("~If you just returned from the Prize Center, you need to wait 3 minutes to go there again. Did I miss anything?");
                                        dialog.Option("Any~tips?", 10);
                                        dialog.Send();
                                        break;
                                    }
                                case 10:
                                    {
                                        dialog.Text("Let me see... Yeah, I mentioned that you can get coins from other treasure hunters. Whereas, you may be the target of others, too. Though no PK point will be counted in the Proud Sea,");
                                        dialog.Text("~the items in your inventory may drop, including the coins, if you were killed. Take care!");
                                        dialog.Option("Sure,~I~will.", 255);
                                        dialog.Send();
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region MammonEnvoy
                    case 9623:
                        {
                            if (!Kernel.TreasureInTheBlue) break;

                            if (GoldCoinsCount == 0 && CopperCoinsCount == 0 && SilverCoinsCount == 0)
                            {
                                Kernel.TreasureInTheBlue = false;
                                foreach (var player in Kernel.GamePool.Values)
                                {
                                    client.Send(new Message("This round of `Treasure In The Blue` event has ended, since all the rewards have been taken. Look forward to the next round!", Color.Red, Message.System));
                                    if (player.Entity.MapID == 3071 || player.Entity.MapID == 1068)
                                    {
                                        player.Entity.Teleport(1002, 300, 278);
                                    }
                                }
                            }
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Welcome to the Prize Center! Did you bring the treasure we want? So, which kind of coins you want to exchange, the Gold, Silver or the Copper?");
                                        dialog.Option("Gold.(Remain:" + GoldCoinsCount + ")", 1);
                                        dialog.Option("Silver.(Remain:" + SilverCoinsCount + ")", 2);
                                        dialog.Option("Copper.(Remain:" + CopperCoinsCount + ")", 3);
                                        dialog.Option("Send~me~to~Twin~City.", 4);
                                        dialog.Option("I`ll~think~it~over.", 255);
                                        dialog.Avatar(60);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("Really? You got a Gold Coin? That`s great! So, are you sure you want to exchange now?  You`ll receive a Small Lottery Ticket and have a chance to get a rare mount armor.");
                                        dialog.Option("Yeah,~please!", 5);
                                        dialog.Option("Sorry,~wait!~Wait!", 255);
                                        dialog.Avatar(60);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        if (client.Inventory.Contains(711609, 1))
                                        {
                                            if (GoldCoinsCount > 0)
                                            {
                                                GoldCoinsCount--;
                                                if (GoldCoinsCount == 100)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Mammon Envoy only have 100 pieces of rewards left for the GoldCoins, now. Quicken your pace!", Color.White, Message.Talk));
                                                    }
                                                }
                                                if (GoldCoinsCount == 50)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Mammon Envoy only have 50 pieces of rewards left for the GoldCoins, now. Quicken your pace!", Color.White, Message.Talk));
                                                    }
                                                }
                                                if (GoldCoinsCount == 30)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Mammon Envoy only have 30 pieces of rewards left for the GoldCoins, now. Quicken your pace!", Color.White, Message.Talk));
                                                    }
                                                }
                                                if (GoldCoinsCount == 20)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Mammon Envoy only have 20 pieces of rewards left for the GoldCoins, now. Quicken your pace!", Color.White, Message.Talk));
                                                    }
                                                }
                                                if (GoldCoinsCount == 10)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Mammon Envoy only have 10 pieces of rewards left for the GoldCoins, now. Quicken your pace!", Color.White, Message.Talk));
                                                    }
                                                }
                                                if (GoldCoinsCount == 5)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Mammon Envoy only have 5 pieces of rewards left for the GoldCoins, now. Quicken your pace!", Color.White, Message.Talk));
                                                    }
                                                }
                                                if (GoldCoinsCount == 0)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Pay attention! All the rewards for the Gold Coins have been taken. Hurry to exchange your other kinds of coins!", Color.Red, Message.TopLeft));
                                                    }
                                                }
                                                client.Inventory.Remove(711609, 1);
                                                int R = Kernel.Random.Next(1, 4);
                                                if (R == 1)
                                                    client.Inventory.Add(711504, 0, 1);
                                                if (R == 2)
                                                    client.Inventory.Add(200425, 0, 1);
                                                if (R == 3)
                                                    client.Inventory.Add(200466, 0, 1);
                                                if (R == 4)
                                                    client.Inventory.Add(200413, 0, 1);
                                                client.Entity.DidTIB = true;
                                                client.Activenes.SendSinglePacket(client, Activeness.Types.TIBTask, 1);
                                                client.Entity.Update(_String.Effect, "zf2-e290", true);
                                            }
                                            else
                                            {
                                                dialog.Text("Sigh... Sorry, but you are too late. All the rewards I prepared for the Gold Coins have been taken. Come to exchange the Gold Coins earlier, next time.");

                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Are you kidding? You don`t have the Gold Coin we want. It isn`t a right place to play jokes, okay?");
                                            dialog.Option("Sorry,~bye!", 255);
                                            dialog.Avatar(60);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("Are you sure you want to exchange the Silver Coin, now? You`ll receive a gift randomly picked from a Tiny Class2 Money Pouch, a Tiny Horse Racing Points Bag, 3 Praying Stone ");
                                        dialog.Text("~Scraps(S) and 3 Special EXP Ball Scraps. Not only that gift, you will also get an Endurance Book.");
                                        dialog.Option("Yeah,~please!", 6);
                                        dialog.Option("No,~not~now!", 255);
                                        dialog.Avatar(60);
                                        dialog.Send();
                                        break;
                                    }
                                case 6:
                                    {
                                        if (client.Inventory.Contains(711610, 1))
                                        {
                                            if (SilverCoinsCount > 0)
                                            {
                                                SilverCoinsCount--;
                                                if (SilverCoinsCount == 100)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Mammon Envoy only have 100 pieces of rewards left for the SilverCoins, now. Quicken your pace!", Color.White, Message.Talk));
                                                    }
                                                }
                                                if (SilverCoinsCount == 50)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Mammon Envoy only have 50 pieces of rewards left for the SilverCoins, now. Quicken your pace!", Color.White, Message.Talk));
                                                    }
                                                }
                                                if (SilverCoinsCount == 30)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Mammon Envoy only have 30 pieces of rewards left for the SilverCoins, now. Quicken your pace!", Color.White, Message.Talk));
                                                    }
                                                }
                                                if (SilverCoinsCount == 20)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Mammon Envoy only have 20 pieces of rewards left for the SilverCoins, now. Quicken your pace!", Color.White, Message.Talk));
                                                    }
                                                }
                                                if (SilverCoinsCount == 10)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Mammon Envoy only have 10 pieces of rewards left for the SilverCoins, now. Quicken your pace!", Color.White, Message.Talk));
                                                    }
                                                }
                                                if (SilverCoinsCount == 5)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Mammon Envoy only have 5 pieces of rewards left for the SilverCoins, now. Quicken your pace!", Color.White, Message.Talk));
                                                    }
                                                }
                                                if (SilverCoinsCount == 0)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Pay attention! All the rewards for the Silver Coins have been taken. Hurry to exchange your other kinds of coins!", Color.Red, Message.TopLeft));
                                                    }
                                                }
                                                client.Inventory.Remove(711610, 1);
                                                int R = Kernel.Random.Next(1, 3);
                                                if (R == 1)
                                                    client.Inventory.Add(723341, 0, 1);
                                                if (R == 2)
                                                    client.Inventory.Add(723714, 0, 1);
                                                if (R == 3)
                                                    client.Inventory.Add(720880, 0, 1);
                                                client.Entity.DidTIB = true;
                                                client.Activenes.SendSinglePacket(client, Activeness.Types.TIBTask, 1);
                                                client.Entity.Update(_String.Effect, "zf2-e290", true);
                                            }
                                            else
                                            {
                                                dialog.Text("Sigh... Sorry, but you are too late. All the rewards I prepared for the Silver Coins have been taken. Come to exchange the Silver Coins earlier, next time.");

                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry, but I can`t find it in your inventory. Did you lose the Silver Coin somewhere? ");
                                            dialog.Option("Oh,~no!", 255);
                                            dialog.Avatar(60);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("You have a Copper Coin, right? Let me see what you can get. Oh, here. You`ll receive a gift randomly picked from a Meteor, a Tiny Class1 Money Pouch, a Praying Stone Scrap(S) and a");
                                        dialog.Text("~Special EXP Ball Scrap.");
                                        dialog.Option("Yeah,~please!", 7);
                                        dialog.Option("Can~I~say~`NO`?", 255);
                                        dialog.Avatar(60);
                                        dialog.Send();
                                        break;
                                    }
                                case 7:
                                    {
                                        if (client.Inventory.Contains(711611, 1))
                                        {
                                            if (CopperCoinsCount > 0)
                                            {
                                                CopperCoinsCount--;
                                                if (CopperCoinsCount == 100)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Mammon Envoy only have 100 pieces of rewards left for the CopperCoins, now. Quicken your pace!", Color.White, Message.Talk));
                                                    }
                                                }
                                                if (CopperCoinsCount == 50)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Mammon Envoy only have 50 pieces of rewards left for the CopperCoins, now. Quicken your pace!", Color.White, Message.Talk));
                                                    }
                                                }
                                                if (CopperCoinsCount == 30)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Mammon Envoy only have 30 pieces of rewards left for the CopperCoins, now. Quicken your pace!", Color.White, Message.Talk));
                                                    }
                                                }
                                                if (CopperCoinsCount == 20)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Mammon Envoy only have 20 pieces of rewards left for the CopperCoins, now. Quicken your pace!", Color.White, Message.Talk));
                                                    }
                                                }
                                                if (CopperCoinsCount == 10)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Mammon Envoy only have 10 pieces of rewards left for the CopperCoins, now. Quicken your pace!", Color.White, Message.Talk));
                                                    }
                                                }
                                                if (CopperCoinsCount == 5)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Mammon Envoy only have 5 pieces of rewards left for the CopperCoins, now. Quicken your pace!", Color.White, Message.Talk));
                                                    }
                                                }
                                                if (CopperCoinsCount == 0)
                                                {
                                                    foreach (var player in Kernel.GamePool.Values)
                                                    {
                                                        player.Send(new Message("Pay attention! All the rewards for the Copper Coins have been taken. Hurry to exchange your other kinds of coins!", Color.Red, Message.TopLeft));
                                                    }
                                                }
                                                client.Inventory.Remove(711611, 1);
                                                int R = Kernel.Random.Next(1, 3);
                                                if (R == 1)
                                                    client.Inventory.Add(723713, 0, 1);
                                                else
                                                    client.Inventory.Add(1088001, 0, 1);
                                                client.Entity.DidTIB = true;
                                                client.Activenes.SendSinglePacket(client, Activeness.Types.TIBTask, 1);
                                                client.Entity.Update(_String.Effect, "zf2-e290", true);
                                            }
                                            else
                                            {
                                                dialog.Text("Sigh... Sorry, but you are too late. All the rewards I prepared for the Copper Coins have been taken. Come to exchange the Copper Coins earlier, next time.");

                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Stop kidding me, okay? You don`t have any Copper Coins with you. A hero wouldn`t try to cheat someone!");
                                            dialog.Option("Sorry,~bye!", 255);
                                            dialog.Avatar(60);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 4:
                                    {
                                        client.Entity.Teleport(1002, 300, 280);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Teleporter
                    case 9619:
                    case 9620:
                    case 9622:
                    case 9653:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        INpc npc = null;
                                        if (!client.Map.Npcs.TryGetValue(client.ActiveNpc, out npc))
                                        {
                                            break;
                                        }
                                        if (Kernel.GetDistance(client.Entity.X, client.Entity.Y, npc.X, npc.Y) > 4)
                                        {
                                            client.MessageBox("You~need~to~be~closer~to~the~PC~Teleporter.");
                                            return;
                                        }
                                        dialog.Text("Hello! You want to exchange for rewards of the `Treasure In The Blue` event? I can send you to the Prize Center. If I just sent you to somewhere, you need to wait 3 minutes to use");
                                        dialog.Text("~the teleporter again, since there are too many people. So, where do you want to go?");
                                        dialog.Option("The~Prize~Center.", 1);
                                        dialog.Option("Twin~City.", 2);
                                        dialog.Option("I`m~just~passing~by.", 255);
                                        dialog.Avatar(14);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        ushort x = Convert.ToUInt16(Kernel.Random.Next(40, 60));
                                        ushort y = Convert.ToUInt16(Kernel.Random.Next(40, 60));
                                        client.Entity.Teleport(1068, x, y);
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(1002, 300, 280);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #endregion
                    #region LadyLuck
                    case 923:
                    case 924:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.InLottery)
                                        {
                                            dialog.Text("Look!~Here~is~the~LuckyBox,~a~kind~of~magical~box~which~makes~your~dream~come~true.");

                                            dialog.Option("Get~me~out~of~here!", 4);
                                            dialog.Option("Tell~me~more~about~it~please.", 5);
                                            dialog.Option("Exchange~Small~Lottery~Ticket.", 2);
                                            dialog.Option("Really?~I~don`t~believe~it.", 255);
                                            dialog.Avatar(159);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("Welcome to the Lottery Center! There are many Lucky Boxes here, each containing incredible treasures! Pay me 3 Small Lottery Tickets to draw from the Lucky Box in the Lottery Center. You are allowed to enter the Lottery Center and try your luck upto 10");
                                            dialog.Text("~times a day. You will have extra lottery chances if you are a VIP player. If you are new to this place, let me show you around the Lottery Center, first!");

                                            dialog.Option("Let`s~try~my~luck!", 1);
                                            dialog.Option("Exchange~Small~Lottery~Ticket.", 2);
                                            dialog.Option("May~I~know~the~rules~first?", 3);
                                            dialog.Option("How~about~the~VIP~privilege?", 6);
                                            dialog.Option("Nice~to~see~you.", 255);
                                            dialog.Avatar(123);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Entity.Level >= 70)
                                        {
                                            client.InLottery = true;
                                            client.LotteryEntries++;
                                            client.Entity.Teleport(700, 40, 47);
                                        }

                                        else
                                        {
                                            dialog.Text("You may not join the lottery , you need level 70 first.");
                                            dialog.Option("Ahh sorry.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        if (!client.Inventory.Contains(711504, 3))
                                        {
                                            dialog.Text("You don`t have 3 Lottery Tickets to exchange for the Small Lottery Tickets.");

                                            dialog.Option("Oops.", 255);
                                            dialog.Avatar(123);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            client.Inventory.Remove(711504, 3);
                                            client.Inventory.Add(3008856, 0, 1);
                                        }
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("There are many Lucky Boxes in the Lottery Center. Pay 3 Small Lottery Tickets, and you can draw from the Lucky Box! If you are not satisfied with the item you get, you can pay 1 more Small Lottery Ticket to change the item you drew. However, you can");
                                        dialog.Text("~only pay and change the item for 2 times. Each player is allowed to draw from the Lottery up to 10 times, each day.");

                                        dialog.Option("Okay,~I~see.", 255);
                                        dialog.Avatar(123);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        client.Entity.Teleport(1036, 219, 193);
                                        client.InLottery = false;
                                        break;
                                    }
                                case 5:
                                    {
                                        dialog.Text("You~have~chance~to~get~whatever~you~desire~from~a~LuckyBox.~It~May~be~a~Dragonball,~+8~weapon,~or");
                                        dialog.Text("~two-socket~boot,~you~don`t~know~what~you~will~get~from~the~Box,~it~totally~depends~on~your~luck.~Well,");
                                        dialog.Text("~let`s~get~started~now.~Good~luck!");

                                        dialog.Option("Thanks~a~lot.", 255);
                                        dialog.Avatar(159);
                                        dialog.Send();
                                        break;
                                    }
                                case 6:
                                    {
                                        dialog.Text("Each player can draw from the Lottery up to 10 times, each day. But if you are a VIP, you will have extra chances to play! Level 1 VIP: 10 extra chances. Level 2 VIP: 20 extra chances. Level 3 VIP: 30 extra chances.");
                                        dialog.Text("~Level 4 VIP: 40 extra chances. Level 5 VIP: 50 extra chances. Level 6 VIP: 60 extra chances.");

                                        dialog.Option("Got~it!", 255);
                                        dialog.Avatar(123);
                                        dialog.Send();
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Alcoholist
                    case 600100:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (!client.Inventory.Contains(723030, 1))
                                        {
                                            dialog.Text("Great~people~talk~about~ideas,~average~talk~about~things,~and~small~people~talk~about~wine.");
                                            dialog.Option("It~sounds~true.", 1);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("Wow,~your~wine~is~so~spicy.~It~must~be~fine~wine.~Can~I~have~a~look?");
                                            dialog.Option("Here~you~are.", 4);
                                            dialog.Option("Sorry,~you~can`t.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("It~is~HealthWine.~My~favorite.~It~would~be~much~appreciated~if~you~let~me~have~the~wine.");
                                        dialog.Option("Well...", 5);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        dialog.Text("Do~you~have~any~requirements?~Please~tell~me~frankly.");
                                        dialog.Option("Can~I~enter~Demon~Cave?", 6);
                                        dialog.Option("No,~I~will~keep~the~wine.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 7:
                                    {
                                        if (client.Inventory.Contains(723030, 1))
                                        {
                                            client.Inventory.Remove(723030, 1);
                                            client.Entity.Teleport(1300, 312, 646);
                                        }
                                        break;
                                    }
                                case 6:
                                    {
                                        dialog.Text("Nothing is left except for poems and wine. You can go there if you like.");
                                        dialog.Option("Thanks~a~lot.", 7);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("Thanks. I have been guarding the Demon Cave for ages. When I am at leisure, I will write poems and drink some wine...");
                                        dialog.Option("What~is~Demon~Cave?", 2);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("You`d better not go there, because it is dangerous. There are ferocious demons of Level 120 and 122. So I`m guarding here"); dialog.Text("in~case~people~brush~in~mistakenly.");
                                        dialog.Option("I~can~deal~with~them.", 3);
                                        dialog.Option("Luckily,~I~did~not~get~in.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("It~is~my~duty,~I~won`t~let~you~in.");
                                        dialog.Option("I~see.", 255);
                                        dialog.Send();
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region MoonBoxQuest
                    case 600050:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hello, there! Would you like to challenge the Eight-Diagram Dimensions, or any other quests?");

                                        dialog.Option("Dimensions?", 1);
                                        dialog.Option("Just~passing~by.", 255);
                                        dialog.Avatar(7);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("It`s a secret, and I`ll only tell people who are really interested. Understand?");

                                        dialog.Option("Yeah,~please~go~ahead.", 2);
                                        dialog.Option("Sorry,~I~am~very~busy.", 255);
                                        dialog.Avatar(7);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("I stumbled upon a mystic dimension a few days ago. I tried to work it out, but I failed and almost died from it.");

                                        dialog.Option("I`d~like~to~have~a~try.", 3);
                                        dialog.Option("Too~dangerous.", 255);
                                        dialog.Avatar(7);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("Are you sure? That`s a horrible space filled with dangers. I`ll introduce you to Maggie if you have made up your mind. She is a know-it-all.");

                                        dialog.Option("Yeah.", 4);
                                        dialog.Option("I~changed~my~mind.", 255);
                                        dialog.Avatar(7);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        if (client.Entity.Level >= 70)
                                        {
                                            client.Entity.Teleport(1042, 23, 24);
                                        }
                                        else
                                        {
                                            client.MessageBox("Only level 70 players can do the quest!");
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    case 600003://Maggie
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hey! What are you here for? You`d better not go ahead, or you`ll get involved in a weird dimension. Look, I`m the best example!");
                                        dialog.Text("~Maybe you want to leave? If so, I can help you.");

                                        dialog.Option("So,~that`s~real?", 1);
                                        dialog.Option("I`ve~decided~to~try.", 1);
                                        dialog.Option("Take~me~to~the~Life~Tactic.", 2);
                                        dialog.Option("I~had~better~leave~here.", 255);
                                        dialog.Avatar(237);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        if (client.Inventory.Contains(721010) && client.Inventory.Contains(721011) && client.Inventory.Contains(721012) && client.Inventory.Contains(721013) && client.Inventory.Contains(721014) && client.Inventory.Contains(721015))
                                        {
                                            client.Entity.Teleport(1050, 50, 50);
                                        }
                                        else
                                        {
                                            dialog.Text("To access the Life Dimension, you should have the 6 tokens collected from different dimensions. It seems you don`t have them now. If so, I can`t teleport you there.");

                                            dialog.Option("Alright.", 255);
                                            dialog.Avatar(237);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("These changeful dimensions include the Peace, Chaos, Deserted, Prosperous, Disturbed, Calm, Death and Life. I once challenged one of them, but end up with my death.");

                                        dialog.Option("How~can~I~break~through?", 3);
                                        dialog.Option("I~do~not~believe~it.", 255);
                                        dialog.Avatar(237);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("I`ve studied it for many years, but failed to work it out. Perhaps, those fierce monsters in the dimensions have the some keys. Do you still want to try?");

                                        dialog.Option("Yeah.~I~like~challenge.", 4);
                                        dialog.Option("No.~I~changed~my~mind.", 255);
                                        dialog.Avatar(237);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        if (!client.Inventory.Contains(721010))
                                        {
                                            client.Entity.Teleport(1043, 90, 90);
                                        }
                                        else if (!client.Inventory.Contains(721011))
                                        {
                                            client.Entity.Teleport(1044, 90, 90);
                                        }
                                        else if (!client.Inventory.Contains(721012))
                                        {
                                            client.Entity.Teleport(1045, 90, 90);
                                        }
                                        else if (!client.Inventory.Contains(721013))
                                        {
                                            client.Entity.Teleport(1046, 90, 90);
                                        }
                                        else if (!client.Inventory.Contains(721014))
                                        {
                                            client.Entity.Teleport(1047, 90, 90);
                                        }
                                        else if (!client.Inventory.Contains(721015))
                                        {
                                            client.Entity.Teleport(1048, 90, 90);
                                        }
                                        else
                                        {
                                            client.Entity.Teleport(1050, 50, 50);
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    case 600005:
                    case 600007:
                    case 600009:
                    case 600011:
                    case 600013:
                    case 600015:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Who am I? That doesn`t matter! I`m here waiting for able men to break through this dimension. Hope you won`t let me down!");

                                        dialog.Option("Take~me~to~the~Life~Tactic.", 1);
                                        dialog.Option("How~can~I~conquer?", 2);
                                        dialog.Option("What~nonsense!", 255);
                                        dialog.Avatar(237);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        if (client.Entity.MapID == 1043)
                                        {
                                            if (client.Inventory.Contains(721010))
                                            {
                                                client.Entity.Teleport(1042, 23, 24);
                                            }
                                            else
                                            {
                                                dialog.Text("Just do not stop hunting monsters in this dimension until you collect a token that acts as the key to get out. I wait for your return!");

                                                dialog.Option("I~must~prove~my~ability.", 255);
                                                dialog.Avatar(237);
                                                dialog.Send();
                                            }
                                        }
                                        if (client.Entity.MapID == 1044)
                                        {
                                            if (client.Inventory.Contains(721011))
                                            {
                                                client.Entity.Teleport(1042, 23, 24);
                                            }
                                            else
                                            {
                                                dialog.Text("Just do not stop hunting monsters in this dimension until you collect a token that acts as the key to get out. I wait for your return!");

                                                dialog.Option("I~must~prove~my~ability.", 255);
                                                dialog.Avatar(237);
                                                dialog.Send();
                                            }
                                        }
                                        if (client.Entity.MapID == 1045)
                                        {
                                            if (client.Inventory.Contains(721012))
                                            {
                                                client.Entity.Teleport(1042, 23, 24);
                                            }
                                            else
                                            {
                                                dialog.Text("Just do not stop hunting monsters in this dimension until you collect a token that acts as the key to get out. I wait for your return!");

                                                dialog.Option("I~must~prove~my~ability.", 255);
                                                dialog.Avatar(237);
                                                dialog.Send();
                                            }
                                        }
                                        if (client.Entity.MapID == 1046)
                                        {
                                            if (client.Inventory.Contains(721013))
                                            {
                                                client.Entity.Teleport(1042, 23, 24);
                                            }
                                            else
                                            {
                                                dialog.Text("Just do not stop hunting monsters in this dimension until you collect a token that acts as the key to get out. I wait for your return!");

                                                dialog.Option("I~must~prove~my~ability.", 255);
                                                dialog.Avatar(237);
                                                dialog.Send();
                                            }
                                        }
                                        if (client.Entity.MapID == 1047)
                                        {
                                            if (client.Inventory.Contains(721014))
                                            {
                                                client.Entity.Teleport(1042, 23, 24);
                                            }
                                            else
                                            {
                                                dialog.Text("Just do not stop hunting monsters in this dimension until you collect a token that acts as the key to get out. I wait for your return!");

                                                dialog.Option("I~must~prove~my~ability.", 255);
                                                dialog.Avatar(237);
                                                dialog.Send();
                                            }
                                        }
                                        if (client.Entity.MapID == 1048)
                                        {
                                            if (client.Inventory.Contains(721015))
                                            {
                                                client.Entity.Teleport(1042, 23, 24);
                                            }
                                            else
                                            {
                                                dialog.Text("Just do not stop hunting monsters in this dimension until you collect a token that acts as the key to get out. I wait for your return!");

                                                dialog.Option("I~must~prove~my~ability.", 255);
                                                dialog.Avatar(237);
                                                dialog.Send();
                                            }
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Inventory.Contains(721010) && client.Inventory.Contains(721011) && client.Inventory.Contains(721012) && client.Inventory.Contains(721013) && client.Inventory.Contains(721014) && client.Inventory.Contains(721015))
                                        {
                                            client.Entity.Teleport(1050, 50, 50);
                                        }
                                        else
                                        {
                                            dialog.Text("To access the Life Dimension, you should have the 6 tokens collected from different dimensions. It seems you don`t have them now. If so, I can`t teleport you there.");

                                            dialog.Option("Alright.", 255);
                                            dialog.Avatar(237);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    case 600018:
                    case 600019:
                    case 600020:
                    case 600021:
                    case 600022:
                    case 600023:
                    case 600024:
                    case 600025:
                    case 600026:
                    case 600027:
                    case 600028:
                    case 600029:
                    case 600030:
                    case 600031:
                    case 600032:
                    case 600033:
                    case 600034:
                    case 600035:
                    case 600036:
                    case 600037:
                    case 600038:
                    case 600039:
                    case 600040:
                    case 600041:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("We~have~been~trapped~here~for~many~years.~Few~challengers~have~a~chance~to~arrive~here.~You~are~a~real~conqueror.");

                                        dialog.Option("Who~are~you?", 1);
                                        dialog.Avatar(237);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("Finally, I got a person alive! Do you want to know my story? Yeah, of course! We were from an old country. Our rivals made these mystic dimensions and trapped us to death.");

                                        dialog.Option("That`s~terrible.", 2);
                                        dialog.Avatar(237);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("A kind-hearted person like you will never leave a lonely ghost like me in distress, right? So, could you give me a hand and help me get reborn?");

                                        dialog.Option("How~can~I~help~you?", 3);
                                        dialog.Avatar(237);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("You can, of course! With the power of Soul Jade, I`ll be able to leave and get revived. However, each Soul Jade can only be used to save one life at a time. Choose me, please!");

                                        dialog.Option("No~problem.", 4);
                                        dialog.Option("Sorry,~I~am~very~busy.", 255);
                                        dialog.Avatar(237);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("I`ll never forget your help. Look, here is a Moon Box for you, but what you can get from it depends on your luck. Do you want to claim it?");

                                        dialog.Option("Yeah,~of~course!", 5);
                                        dialog.Option("No,~thanks.", 255);
                                        dialog.Avatar(237);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        if (client.Inventory.Contains(721010) && client.Inventory.Contains(721011) && client.Inventory.Contains(721012) && client.Inventory.Contains(721013) && client.Inventory.Contains(721014) && client.Inventory.Contains(721015))
                                        {
                                            client.Inventory.Remove(721010, 1);
                                            client.Inventory.Remove(721011, 1);
                                            client.Inventory.Remove(721012, 1);
                                            client.Inventory.Remove(721013, 1);
                                            client.Inventory.Remove(721014, 1);
                                            client.Inventory.Remove(721015, 1);
                                            client.Inventory.Add(721020, 0, 1);
                                            client.Entity.Teleport(1042, 23, 24);
                                        }
                                        else
                                        {
                                            client.MessageBox("You Don't Have 6 Tokens!");
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region AlchemistDan
                    case 200040:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Are you here to help destroy the Thrilling Spooks? You have to watch out, because they`re pretty dangerous.");
                                        dialog.Text("~I heard that there was going to be some action, so I came down to sell medicine and supplies to the ones who are fool enough");
                                        dialog.Text("~to fight such scary things... But if you ever need something, I`m your man!");
                                        dialog.Option("What~do~you~have?", 1);
                                        dialog.Option("Not~interested.", 255);
                                        dialog.Avatar(67);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        Data data = new Data(true);
                                        data.UID = client.Entity.UID;
                                        data.ID = 160;
                                        data.dwParam = 32;
                                        data.TimeStamp2 = client.ActiveNpc;
                                        client.Send(data);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region FrozenGrottoGuardian
                    case 7766:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("~I can also help you get to other floors, if you like.");

                                        dialog.Option("How~can~I~go~to~F6?", 1);
                                        dialog.Option("Send~me~to~F4~then.", 2);
                                        dialog.Avatar(52);
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("There is a portal on this floor (150,178). You can get to F6 from here.");
                                        dialog.Text("~Be careful.");

                                        dialog.Option("Thanks.~I~will.", 255);
                                        dialog.Avatar(52);
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(2054, 300, 200);
                                        break;
                                    }
                            }
                            break;
                        }
                    case 7764:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("~I guess you`ve heard about the 5th floor of Frozen Grotto before. The place is infested with so many ferocious monsters that no one dares go up there. Well, until recently, that is... Yeah, you heard me... I found out that the monsters on the 3rd and 4th");
                                        dialog.Text("~are carrying a Grotto Key with them. With this key, it would be easier to kill the monsters on the 5th floor. If you are interested, go kill those monsters on the 3rd and 4th floor and get a key, then I`ll send you to the 5th floor to get rid of");
                                        dialog.Text("~those nasty beasts.");
                                        dialog.Text("If your VIP level has reached 4, you can enter the 5th floor of Frozen Grotto everyday, for free!");

                                        dialog.Option("Hmmm,~I`m~on~it.", 255);
                                        dialog.Option("Hey,~I`ve~got~a~key~here.", 2);
                                        dialog.Option("Frozen~Grotto~F5.", 1);
                                        dialog.Avatar(31);
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Entity.VIPLevel >= 4)
                                        {
                                            client.Entity.Teleport(2055, 537, 568);
                                            client.MessageBox("You~arrived~on~the~5th~Frozen~Grotto~Floor.");
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry, but your VIP Level has to reach 4 to enter the 5th floor for free. If you want to go there, you must collect the Grotto Key.");

                                            dialog.Option("I~see.", 255);
                                            dialog.Avatar(31);
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        if (!client.Inventory.Contains(721347, 1))
                                        {
                                            dialog.Text("Come on, you know I can`t open the door without the key. Don`t waste our time!");

                                            dialog.Option("Alright.", 255);
                                            dialog.Avatar(31);
                                        }
                                        else
                                        {
                                            client.Inventory.Remove(721347, 1);
                                            client.Entity.Teleport(2055, 537, 568);
                                            client.MessageBox("You~arrived~on~the~5th~Frozen~Grotto~Floor.");
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Quest Tempest Wing
                    #region Mr.Wonder
                    case 10850:
                        {
                            dialog.Avatar(67);
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.Quests.GetQuest(QuestID.TempestWing) != null && client.Quests.CheckQuest(QuestID.TempestWing) == QuestPacket.QuestData.QuestStatus.Finished)
                                        {
                                            dialog.Text("Hello Pro " + client.Entity.Name + " Sorry I have finished this work this Quest TempestWings!");
                                            dialog.Option("Sorry ", 255);
                                        }
                                        else
                                        {
                                            if (client.Inventory.Contains(3006392, 1))
                                            {
                                                dialog.Text("It`s a legendary bird of enormous size and strength. Though I`ve figured out the way of making the Tempest Wings,");
                                                dialog.Text("~you need to bring me Roc`s Feather from the Rainbow Sky. It could be much more difficult than any challenges");
                                                dialog.Text("~you`ve ever taken. If you`re ready, I`ll send you there with a fee of 5 Meteor Scrolls.");

                                                dialog.Option("Hand~in~Roc`s~Feather.", 3);
                                                dialog.Option("I`ll~talk~to~you~later.", 255);
                                                dialog.Avatar(6);
                                            }
                                            else
                                            {
                                                dialog.Text("It`s a legendary bird of enormous size and strength. Though I`ve figured out the way of making the Tempest Wings,");
                                                dialog.Text("~you need to bring me Roc`s Feather from the Rainbow Sky. It could be much more difficult than any challenges");
                                                dialog.Text("~you`ve ever taken. If you`re ready, I`ll send you there with a fee of 5 Meteor Scrolls.");
                                                dialog.Option("Head~to~the~sky~(5~Meteor~Scrolls)", 1);
                                                dialog.Option("I`ll~talk~to~you~later.", 255);
                                                dialog.Avatar(6);
                                            }
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("Are you sure you want to pay 5 Meteor Scrolls to enter the Rainbow Sky?");
                                        dialog.Option("Yes!", 2);
                                        dialog.Option("No.", 255);
                                        dialog.Avatar(6);
                                        break;
                                    }
                                case 2:
                                    {
                                        if (client.Inventory.Contains(720027, 5))
                                        {
                                            if (!client.Quests.HasQuest(QuestID.TempestWing))
                                            {
                                                client.Quests.Accept(QuestID.TempestWing);
                                            }
                                            client.Inventory.Remove(720027, 5);
                                            client.Entity.Teleport(1738, 100, 100);
                                            Database.MonsterInformation mob;
                                            Database.MonsterInformation.MonsterInformations.TryGetValue(7696, out mob);
                                            client.Map.SpawnthisandDontSpawnitAgain(mob, client, 1738, 95, 103);
                                        }
                                        else
                                        {
                                            dialog.Text("Come on, you don`t have 5 Meteor Scrolls. It couldn`t be too much for you, could it?");
                                            dialog.Option("No,~but...", 255);
                                            dialog.Avatar(6);
                                        }
                                        break;
                                    }
                                case 3:
                                    {
                                        if (client.Inventory.Contains(3006392, 1))
                                        {
                                            client.Inventory.Remove(3006392, 1);
                                            client.Inventory.Add(204008, 0, 1, true);
                                            if (client.Quests.HasQuest(QuestID.TempestWing))
                                            {
                                                client.Quests.FinishQuest(QuestID.TempestWing);
                                            }
                                            else
                                            {
                                                client.Quests.Accept(QuestID.TempestWing);
                                                client.Quests.FinishQuest(QuestID.TempestWing);
                                            }
                                            _String str = new _String(true);
                                            str.UID = client.Entity.UID;
                                            str.TextsCount = 1;
                                            str.Type = _String.Effect;
                                            str.Texts.Add("end_task");
                                            client.SendScreen(str, true);
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #endregion
                    #region KingdomMissions
                    #region KingdomMissionEnvoy
                    case 17000:
                        {
                            switch (npcRequest.OptionID)
                            {

                                case 0:
                                    {
                                        if (client.Entity.Reborn >= 1 && client.Entity.Level >= 110 || client.Entity.Reborn == 2)
                                        {
                                            dialog.Text("A real hero must harbor great ambition for his kingdom.");
                                            dialog.Text("~In the name of conquer, I`m calling heroes who`ve reached Level 110 of the 1st rebirth.");
                                            dialog.Text("~for a series of Kingdom Missions. Go to the Realm, and you`ll find a way to explore");
                                            dialog.Text("~a new world out of this world.");
                                            dialog.Text("\nYou`ve earned " + client.Entity.KingdomDeed + " points of Kingdom Deeds.");
                                            dialog.Option("Enter~the~Realm.", 1);
                                            dialog.Option("Kingdom~Mission.", 2);
                                            dialog.Option("Submit~Gold~Bricks.~(special)", 3);
                                            dialog.Option("Swap~deeds~for~rewards.", 4);
                                            dialog.Option("How~to~travel~across~server?", 5);
                                            dialog.Option("What~should~I~pay~attention~to?", 6);
                                            dialog.Option("I~see.", 255);
                                            dialog.Avatar(6);
                                            dialog.Send();

                                        }
                                        else
                                        {
                                            dialog.Text("You should reach at least Level 110 of the 1st rebirth before you can enter the Realm.");

                                            dialog.Option("I~see.", 255);
                                            dialog.Avatar(6);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("A real hero must harbor great ambition for his kingdom. In the name of Conquer, I`m calling heroes who`ve reached Level 110 of the 1st rebirth."); dialog.Text("~for a series of cross-server missions. Go abroad, and explore a new world out of this world.");
                                        dialog.Option(KingdomMissionN(1, client), 100);
                                        dialog.Option(KingdomMissionN(2, client), 101);
                                        dialog.Option(KingdomMissionN(3, client), 102);
                                        dialog.Option(KingdomMissionN(4, client), 103);
                                        dialog.Option(KingdomMissionN(5, client), 104);
                                        dialog.Send();
                                        break;
                                    }
                                case 104:
                                    {
                                        dialog.Text("The Realm has received countless threats, but this time seems different. The enemies are so manic that we`re");
                                        dialog.Text("~in the most urgent need of helpers. After killing a certain number of enemies, you can claim a starry");
                                        dialog.Text("<tip color=0xfff05050 desc=A#chance#to#get#Dragon#Ball#Piece,#Savage#Bone,#Chi#Points,#Frozen#Chi#Pill,#etc.,#once#a#day.>bounty</tip> from the Realm Crystal.");

                                        dialog.Option("Count~on~me!", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 103:
                                    {
                                        dialog.Text("A horde of bloodthirsty devils have occupied the Deserted Village in the Realm. They built a weird array with 4 Dark Crystals,");
                                        dialog.Text("~guarding their leader Alluring Witch at the center. We`re calling heroes to team up and behead the horrific Alluring Witch");
                                        dialog.Text("~after breaking through her magic array. Tons of rewards will be offered to the contributors.");

                                        dialog.Option("Count~on~me!", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 101:
                                    {
                                        if (client.Quests.GetQuest(QuestID.ThunderStrike) == null)
                                            client.Quests.Accept(QuestID.ThunderStrike);
                                        if (client.Quests.CheckQuest(QuestID.ThunderStrike) != QuestPacket.QuestData.QuestStatus.Finished)
                                        {
                                            dialog.Text("While in a battle against millions of enemies, striking first is the key to gain initiative. Hurry up and disable");
                                            dialog.Text("~You can also earn War Exploits by destroying the enemy`s Defensive Barrier, Dark Crystal, or beheading their Military Officer.");

                                            dialog.Option("Claim~my~bounty.", 202);
                                            dialog.Option("Directly~complete~it.~(10~CPs)", 203);
                                            dialog.Option("Learn~about~other~things.", 2);
                                            dialog.Option("I`m~not~ready~yet!", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("While in a battle against millions of enemies, striking first is the key to gain initiative. Hurry up and disable");
                                            dialog.Text("~You can also earn War Exploits by destroying the enemy`s Defensive Barrier, Dark Crystal, or beheading their Military Officer.");

                                            dialog.Option("Learn~about~other~things.", 2);
                                            dialog.Option("I`m~not~ready~yet!", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 102:
                                    {
                                        if (client.Quests.CheckQuest(QuestID.AshesOfAnger) != QuestPacket.QuestData.QuestStatus.Finished)
                                        {
                                            if (client.Quests.GetQuest(QuestID.AshesOfAnger) == null)
                                                client.Quests.Accept(QuestID.AshesOfAnger);
                                            dialog.Text("In the Realm, the bloodthirsty devils reside in the Deserted Village and start killing straggling soldiers.");
                                            dialog.Text("~Their cruelty cannot be forgiven. You`re asked to ignite the Explosive Device and burn the Deserted");
                                            dialog.Text("~Village into ashes. If succeed, you can claim a valuable reward.");

                                            dialog.Option("Claim~my~rewards.", 204);
                                            dialog.Option("Count~on~me!", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("You`ve already claimed the reward for the [Ashes of Anger] mission in the Realm.");

                                            dialog.Option("Sorry,~I~forgot.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 204:
                                    {
                                        if (client.Quests.GetQuest(QuestID.AshesOfAnger).Kills >= 1)
                                        {
                                            client.Quests.FinishQuest(QuestID.AshesOfAnger);
                                            client.Send(new Message("You've completed the mission [Realm-Ashes of AngerHury and check your reward in the inventory.", Color.Red, Message.System));
                                            client.Inventory.AddTime(3200004, 1 * 24 * 60 * 60);
                                            client.Entity.KingdomDeed += 30;
                                        }
                                        else
                                        {
                                            dialog.Text("You haven`t destroyed Deserted Village. Please finish your job, first.");

                                            dialog.Option("Okay.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 202:
                                    {
                                        if (client.Entity.StrikePoints >= 300)
                                        {
                                            dialog.Text("Your loyalty to your kingdom is quite strong. Please accept this reward.");

                                            dialog.Option("Thanks!", 255);
                                            dialog.Send();
                                            client.Entity.TodayStrikePoints = 500;
                                            client.Inventory.AddTime(3200000, 1 * 24 * 60 * 60);
                                            client.Quests.FinishQuest(QuestID.ThunderStrike);
                                        }
                                        else
                                        {
                                            dialog.Text("To claim a reward, you should collect 300 Strike Points, first. Fight for your home, and kill enemies in the Realm!");

                                            dialog.Option("Go~fight!", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 203:
                                    {
                                        if (client.Entity.ConquerPoints >= 10)
                                        {
                                            dialog.Text("Your loyalty to your kingdom is quite strong. Please accept this reward.");

                                            dialog.Option("Thanks!", 255);
                                            dialog.Send();
                                            client.Entity.ConquerPoints -= 10;
                                            client.Entity.TodayStrikePoints = 500;
                                            client.Inventory.AddTime(3200000, 1 * 24 * 60 * 60);
                                            client.Quests.FinishQuest(QuestID.ThunderStrike);
                                        }
                                        else
                                        {
                                            client.Send(new Message("You don't have enough CPs to directly complete this mission.", Color.Red, Message.System));
                                        }
                                        break;
                                    }
                                case 100:
                                    {
                                        if (client.Quests.CheckQuest(QuestID.BeastsOfLegend) != QuestPacket.QuestData.QuestStatus.Finished)
                                        {
                                            if (client.Quests.GetQuest(QuestID.BeastsOfLegend) == null)
                                                client.Quests.Accept(QuestID.BeastsOfLegend);
                                            dialog.Text("Unbelievable! The four mythological creatures make a rare appearance together in the Realm.");
                                            dialog.Text("~Right now, go defeat 3 of their defenders, and you can challenge these divine beasts who carry");
                                            dialog.Text("<tip color=0xfff05050 desc=Eminent#Exploit#Pack,#Protection#Pill,#Fierce#Spirit,#200-min#EXP,#30#Kingdom#Deeds,#50#Champion#Points#and#500#Horse#Racing#Points.> invaluable treasures</tip>.");

                                            dialog.Option("Claim~my~rewards.", 201);
                                            dialog.Option("I`m~not~ready~yet!", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("The Realm has received countless threats, but this time seems different. The enemies are so manic that we`re");
                                            dialog.Text("~in the most urgent need of helpers. After killing a certain number of enemies, you can claim a starry");
                                            dialog.Text("<tip color=0xfff05050 desc=A#chance#to#get#Dragon#Ball#Piece,#Savage#Bone,#Chi#Points,#Frozen#Chi#Pill,#etc.,#once#a#day.>bounty</tip> from the Realm Crystal.");

                                            dialog.Option("Count~on~me!", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 201:
                                    {
                                        if (client.Quests.GetQuest(QuestID.BeastsOfLegend).Kills > 0)
                                        {
                                            client.Quests.FinishQuest(QuestID.BeastsOfLegend);
                                            client.Send(new Message("You received a bounty of [Divine Conquest Pack] for conquering the divine beast!", Color.Red, Message.System));
                                            client.Inventory.AddTime(3200005, 1 * 24 * 60 * 60);
                                        }
                                        else
                                        {
                                            dialog.Text("To claim the reward, you should conquer the divine beast first.");

                                            dialog.Option("I~see.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 6:
                                    {
                                        dialog.Text("While visiting a new server, your information about character level, rebirth times, equipment, nobility,"); dialog.Text("~mentor and apprentice, and bonus BP of guild and clan will also be registered in the server. During the Plunder War, you can travel to other servers through the Realm."); dialog.Text("~only chat and PK are available now. The chat channels include Talk, Whisper, Team, Guild, Clan, Friend, Service, World and Ally,"); dialog.Text("~Please note that, if you were killed in the Realm, you`ll also revive there.");
                                        dialog.Option("What~functions~will~be~unavailable?", 32);
                                        dialog.Option("I~see.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 32:
                                    {
                                        dialog.Text("In the Realm, you`re not able to use the functions concerning money, item trade, forging,"); dialog.Text("~social contact, Arena, Mentor gains, welfare, enlightenment, sending flowers and all PvP matches."); dialog.Text("~Things will get right after I send you back to your original server.");
                                        dialog.Option("I~see.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        dialog.Text("To travel to another server, you need to find me to enter the Realm first."); dialog.Text("~and then register with the Cross-server Keeper of the destination server in the Realm."); dialog.Text("~It`s the same when you return. First, go transit in the Realm, and then find the Keeper of your server."); dialog.Text("~Please learn all rules and matters before taking a cross-server trip.");
                                        dialog.Option("What~should~I~pay~attention~to?", 30);
                                        dialog.Option("I~see.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 30:
                                    {
                                        dialog.Text("While visiting a new server, your information about character level, rebirth times, equipment, nobility,"); dialog.Text("~mentor and apprentice, and bonus BP of guild and clan will also be registered in the server. During the Plunder War, you can travel to other servers through the Realm."); dialog.Text("~only chat and PK are available now. The chat channels include Talk, Whisper, Team, Guild, Clan, Friend, Service, World and Ally,"); dialog.Text("~Please note that, if you were killed in the Realm, you`ll also revive there.");
                                        dialog.Option("What~functions~will~be~unavailable?", 31);
                                        dialog.Option("I~see.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 31:
                                    {
                                        dialog.Text("In the Realm, you`re not able to use the functions concerning money, item trade, forging,"); dialog.Text("~social contact, Arena, Mentor gains, welfare, enlightenment, sending flowers and all PvP matches."); dialog.Text("~Things will get right after I send you back to your original server.");
                                        dialog.Option("I~see.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Quests.GetQuest(QuestID.AshesOfAnger) == null)
                                            client.Quests.Accept(QuestID.AshesOfAnger);
                                        if (client.Quests.GetQuest(QuestID.ThunderStrike) == null)
                                            client.Quests.Accept(QuestID.ThunderStrike);
                                        if (client.Quests.GetQuest(QuestID.BeastsOfLegend) == null)
                                            client.Quests.Accept(QuestID.BeastsOfLegend);
                                        if (client.Quests.GetQuest(QuestID.CrystalBounty) == null)
                                            client.Quests.Accept(QuestID.CrystalBounty);
                                        var coords = Kernel.Maps[3935].RandomCoordinates(387, 386, 6);
                                        client.Entity.Teleport(3935, coords.Item1, coords.Item2);
                                        client.Send(new Message("Pay attention, you won't be able to attack the players in other servers if you travel there beyond the Plunder War (Tuesday, Wednesday,Thursday, Saturday and Sunday)!", Color.Red, Message.System));
                                        client.Entity.PKMode = Game.Enums.PKMode.Union;
                                        client.Send(new Data(true) { UID = client.Entity.UID, ID = Data.ChangePKMode, TimeStamp = Time32.Now, dwParam = (uint)client.Entity.PKMode });

                                        /*  byte[] buf = new byte[28 + 8];
                                          buf[0] = 28;
                                          Writer.Write(2501, 2, buf);
                                          Writer.Write(client.Entity.UID, 8, buf);
                                          Writer.Write(uint.MaxValue - client.Entity.UID, 12, buf);
                                          client.Send(buf);*/
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("You can collect up to 300 Kingdom Deeds in a day from the Kingdom Mission. If you`ve earned 50, 150 or 300 points,");
                                        dialog.Text("~you can swap them for corresponding reward with me. So, which pack would you like to claim?");
                                        dialog.Text("Your Kingdom Deeds: " + client.Entity.KingdomDeed + ".");

                                        dialog.Option("Outstanding~Exploit~Pack.~(50)", 7);
                                        dialog.Option("Brilliant~Exploit~Pack.~(150)", 8);
                                        dialog.Option("Supreme~Exploit~Pack.~(300)", 9);
                                        dialog.Option("What`re~in~the~packs?", 11);
                                        dialog.Option("I`ll~think~about~it.", 255);
                                        dialog.Avatar(92);
                                        break;
                                    }
                                case 7:
                                    {
                                        if (client.Entity.KingdomDeed >= 50)
                                        {
                                            client.Entity.KingdomDeed -= 50;
                                            client.Inventory.Add(3007108, 0, 1);
                                        }
                                        break;
                                    }
                                case 8:
                                    {
                                        if (client.Entity.KingdomDeed >= 150)
                                        {
                                            client.Entity.KingdomDeed -= 150;
                                            client.Inventory.Add(3007109, 0, 1);
                                        }
                                        break;
                                    }
                                case 9:
                                    {
                                        if (client.Entity.KingdomDeed >= 300)
                                        {
                                            client.Entity.KingdomDeed -= 300;
                                            client.Inventory.Add(3007110, 0, 1);
                                        }
                                        break;
                                    }
                                case 11:
                                    {
                                        dialog.Text("You can swap 50 Kingdom Deeds for an Outstanding Exploit Pack: 50 War Exploits, 4,000 Potency Points and 50 points for Union Fund;");
                                        dialog.Text("~150 Kingdom Deeds for a Brilliant Exploit Pack: 50 Champion Points (excluded if maximum is reached), 100 War Exploits, 6,000 Potency Points and 160 points to Union Fund;");
                                        dialog.Text("~300 Kingdom Deeds for a Supreme Exploit Pack: 100 Champion Points (excluded if maximum is reached), 150 War Exploits, 10,000 Potency Points and 360 points to Union Fund.");
                                        dialog.Option("I~see.", 255);
                                        dialog.Avatar(92);
                                        break;
                                    }
                                case 3:
                                    {
                                        byte[] GB = new byte[17 + 8];
                                        Writer.Write(17, 0, GB);
                                        Writer.Write(3001, 2, GB);
                                        Writer.Write(2, 4, GB);
                                        Writer.Write(client.Union != null ? client.Union.GoldBricks : 0, 6, GB);
                                        Writer.Write(2, 14, GB);
                                        client.Send(GB);

                                        break;
                                    }
                                case 13:
                                    {
                                        if (client.Inventory.Count <= 22)
                                        {
                                            client.Inventory.AddBound(3005365, 0, 1);
                                            client.Inventory.AddBound(3005366, 0, 1);
                                            client.Inventory.AddBound(3005395, 0, 1);
                                            client.Inventory.AddBound(3005396, 0, 1);
                                            client.Inventory.AddBound(3005397, 0, 1);
                                            client.Inventory.AddBound(3005398, 0, 1);
                                            client.Inventory.AddBound(3005399, 0, 1);
                                            client.Inventory.AddBound(3005400, 0, 1);
                                            client.Inventory.AddBound(3005401, 0, 1);
                                            client.Inventory.AddBound(3007113, 0, 1);
                                            client.Inventory.AddBound(3007114, 0, 1);
                                            client.Inventory.AddBound(3007115, 0, 1);
                                            client.Inventory.AddBound(3007116, 0, 1);
                                            client.Inventory.AddBound(3007117, 0, 1);
                                            client.Inventory.AddBound(3007230, 0, 1);
                                            client.Inventory.AddBound(3007231, 0, 1);
                                            client.Inventory.AddBound(3007232, 0, 1);
                                        }
                                        else
                                            client.Send(Constants.FullInventory);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Devices
                    case 10948:
                    case 10949:
                    case 10950:
                    case 10951:
                        {
                            INpc npc = null;
                            if (!client.Map.Npcs.TryGetValue(client.ActiveNpc, out npc))
                            {
                                break;
                            }
                            if (Kernel.GetDistance(client.Entity.X, client.Entity.Y, npc.X, npc.Y) > 5)
                            {
                                client.Send(new Message("You need to be closer to the Explosive Device to activate it.", Color.Red, Message.System));
                                break;
                            }
                            if (client.Quests.GetQuest(QuestID.AshesOfAnger) == null || client.Quests.CheckQuest(QuestID.AshesOfAnger) == QuestPacket.QuestData.QuestStatus.Available)
                                client.Quests.Accept(QuestID.AshesOfAnger);
                            if (client.Quests.CheckQuest(QuestID.AshesOfAnger) == QuestPacket.QuestData.QuestStatus.Finished || client.Quests.GetQuest(QuestID.AshesOfAnger).Kills >= 1)
                            {
                                client.Send(new Message("You've already enabled the Explosive Device today. No need to do it again.", Color.Red, Message.System));
                            }
                            else
                            {
                                client.Quests.AshesOfAnger(QuestID.AshesOfAnger, 1);
                                client.MessageBox("The Deserted Village has been burnt down into ashes. Report back to the Kingdom Mission Envoy and claim your reward.");
                                
                                _String str = new _String(true);
                                str.TextsCount = 1;
                                str.Texts.Add("firemagic");
                                str.X = npc.X;
                                str.Type = 10;
                                str.Y = npc.Y;
                                client.SendScreen(str, true);
                            }
                            break;
                        }
                    #endregion
                    #region Crystal
                    case 19121:
                        {
                            if (client.Quests.GetQuest(QuestID.CrystalBounty) == null || client.Quests.CheckQuest(QuestID.CrystalBounty) == QuestPacket.QuestData.QuestStatus.Available)
                                client.Quests.Accept(QuestID.CrystalBounty);
                            if (client.Quests.CheckQuest(QuestID.CrystalBounty) == QuestPacket.QuestData.QuestStatus.Finished)
                            {
                                client.MessageBox("You`ve already claimed a bounty today. No more to claim.");
                            }
                            else
                            {
                                if (client.Quests.GetQuest(QuestID.CrystalBounty).Kills >= 50)
                                {
                                    client.MessageBox("You`ve restored peace to the Realm by killing 50 enemy soldiers, and received a Realm Crystal Fragment.");
                                    client.Quests.FinishQuest(QuestID.CrystalBounty);
                                    client.Inventory.Add(3600029, 0, 5);
                                }
                            }
                            break;
                        }
                    #endregion
                    #endregion
                    #region Bright~Fortune
                    #region Conductress
                    case 19194:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("I`m a guide to serve heroes in the Fiery Dragon region. If you want to return to Wind Plain, I can help.");
                                        dialog.Option("Return~to~Wind~Plain.", 1);
                                        dialog.Option("Send~me~to~Market.", 2);
                                        dialog.Option("I`ll~tell~you~if~I~need.", 255);
                                        dialog.Avatar(7);
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Entity.Teleport(1002, 257, 240);
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(1036, 217, 213);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region BrightGuard
                    case 19184:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("I`ve tried my best to protect the Elder. Hope the Elder is okay.");
                                        dialog.Text("~Disgusting monsters, I`ll kill you all someday.");

                                        dialog.Option("You~will.", 255);
                                        dialog.Send();
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region WoundedBrightTribesman
                    case 19183:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Ow, stupid, stupid! I promised to the Chief to keep the Elder safe, but I can`t even protect myself now.");
                                        dialog.Text("~I won`t forgive myself if the Elder gets into any trouble.");

                                        dialog.Option("Let~me~help~you~out.", 255);
                                        dialog.Send();
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region PakYan
                    case 19160:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.Quests.GetQuest(QuestID.EndHomelessness) != null && client.Quests.GetQuest(QuestID.EndHomelessness).QItem.Status == QuestPacket.QuestData.QuestStatus.Accepted)
                                        {
                                            dialog.Text("Good to see you back! Is everything all right?");
                                            dialog.Option("I~have~good~news~for~you.", 5);
                                            dialog.Avatar(67);
                                        }
                                        else if (client.Entity.DidBrightFortune)
                                        {
                                            dialog.Text("We`ve finally arrived home, and we`ll spare no effort to restore our");
                                            dialog.Text("~homeland to its former glory.");
                                            dialog.Option("Bright~Fortune.~(Daily)", 8);
                                            dialog.Option("The~day~will~come~soon.", 255);
                                            dialog.Avatar(67);
                                        }
                                        else if (client.Quests.GetQuest(QuestID.UnknownDangers) != null && client.Quests.CheckQuest(QuestID.UnknownDangers) == QuestPacket.QuestData.QuestStatus.Accepted)
                                        {
                                            dialog.Text("Are you here to give our Bright Tribe a hand?");
                                            dialog.Option("Yes,~exactly!", 1);
                                            dialog.Avatar(67);
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("For many times, I dreamed of returning home, but forgot almost everything upon waking.");
                                        dialog.Text("~It`s said the Fiery Dragon was a prosperous land, and the Bright ancestors lived in a golden age.");
                                        dialog.Text("~Look at it now, our homeland has become utterly desolate. It`s really depressing.");
                                        dialog.Option("We~still~have~hope.", 2);
                                        dialog.Avatar(67);
                                        //Data data = new Data(true);
                                        //data.UID = client.Entity.UID;
                                        //data.TimeStamp2 = 17403;
                                        //data.ID = 162;
                                        //data.wParam1 = 349;
                                        //data.wParam2 = 480;
                                        //client.Send(data);
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Inventory.AddTime(3009000, 2 * 24 * 60 * 60);
                                        client.Inventory.AddTime(3009000, 2 * 24 * 60 * 60);
                                        client.Inventory.AddTime(3009000, 2 * 24 * 60 * 60);
                                        client.Inventory.AddTime(3008956, 2 * 24 * 60 * 60);//30-minEXPPack
                                        dialog.Text("Two days ago, Chong Yan Elder led a group to find the Flame Temple which is not only our tribe`s holy zone,");
                                        dialog.Text("~but also the key to completely activate the Mystery Pearl and stop the Fiery Dragon Volcano from eruption.");
                                        dialog.Text("~However, there is still no message from them.");
                                        dialog.Option("I`ll~go~find~them.", 3);
                                        dialog.Option("Don`t~worry,~they`ll~be~fine.", 255);
                                        dialog.Avatar(67);
                                        client.Quests.FinishQuest(QuestID.UnknownDangers);
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("Thanks in advance! I watched them going to the northeast. You can probably");
                                        dialog.Text("~find them in that direction. Remember to tell me if you got any news. It seems");
                                        dialog.Text("~something is on fire at the end of the road. Be careful!");
                                        dialog.Option("I`ll~go~now.", 4);
                                        dialog.Avatar(67);
                                        break;
                                    }
                                case 4:
                                    {
                                        Data data = new Data(true);
                                        data.UID = client.Entity.UID;
                                        data.TimeStamp2 = 19161;
                                        data.ID = 162;
                                        data.wParam1 = 162;
                                        data.wParam2 = 395;
                                        client.Send(data);
                                        break;
                                    }
                                case 5:
                                    {
                                        dialog.Text("Really? We`ve been waiting hundreds of years for this moment! We can finally worship");
                                        dialog.Text("~our ancestors in the Flame Temple. From now on, you`re the most honored friend to");
                                        dialog.Text("~the Bright Tribe. I don`t know how to thank you enough.");
                                        dialog.Option("It`s~my~pleasure.", 6);
                                        dialog.Avatar(67);
                                        break;
                                    }
                                case 6:
                                    {
                                        dialog.Text("The Elder and others have been rescued when you were on the journey to find the Flame Temple.");
                                        dialog.Text("~They just can`t wait to see the Flame Altar in front of the temple. If the Mystery Pearl can be activated");
                                        dialog.Text("~at the altar, we`ll be able to prevent the Fiery Dragon Volcano from eruption. Would you like to join us?");
                                        dialog.Option("Sure.", 7);
                                        dialog.Avatar(67);
                                        break;
                                    }
                                case 7:
                                    {
                                        client.Quests.FinishQuest(QuestID.EndHomelessness);
                                        client.Entity.DidBrightFortune = true;
                                        client.Inventory.AddTime(3008956, 2 * 24 * 60 * 60);//30-minEXPPack
                                        break;
                                    }
                                case 8:
                                    {
                                        dialog.Text("For our tribe`s helpers, I`ll never be stingy with rewards for them. Under the Fiery Dragon region, there are not only massive magma chambers,");
                                        dialog.Text("~but also mythical treasures. Are you interested? You can claim Hunting Amulets from me every day. Wish you a harvest!");
                                        dialog.Text("    Reward: <tip color=0xfff05050 desc=Bloody#Jade,#Bright#Star#Stone,#Blazing#CP#Fragment,#Champion#Points,#etc.>Treasure of Dragon</tip>");
                                        dialog.Option("Claim~5~Hunting~Amulets.", 9);
                                        dialog.Avatar(67);
                                        break;
                                    }
                                case 9:
                                    {
                                        client.Entity.Teleport(3998, 58, 348);
                                        client.Entity.Update(10, "moveback", true);
                                        client.MessageBox("The Chief of Bright Tribe gave you 5 Hunting Amulets which will bring you surprises.");
                                        break;
                                    }

                            }
                            break;
                        }
                    #endregion
                    #region RemainofBrightTribesman
                    case 19161:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("(You found a burnt body on the way to find the Elder.)");
                                        dialog.Option("Have~a~check.", 1);
                                        dialog.Avatar(9999);
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("(It seems the body has been burnt, and his remaining accessories belonged to the Bright Tribe.");
                                        dialog.Text("~You found many bloodstains and footsteps along the road. The Bright tribesmen must have a");
                                        dialog.Text("~Conquord fight here, and retreated to that direction.)");
                                        dialog.Option("Follow~the~footsteps.", 2);
                                        dialog.Avatar(9999);
                                        break;
                                    }
                                case 2:
                                    {
                                        Data data = new Data(true);
                                        data.UID = client.Entity.UID;
                                        data.TimeStamp2 = 19162;
                                        data.ID = 162;
                                        data.wParam1 = 142;
                                        data.wParam2 = 320;
                                        client.Send(data);
                                        if (client.Quests.GetQuest(QuestID.MonsterSage) == null)
                                        {
                                            client.Quests.Accept(QuestID.MonsterSage);
                                            client.Entity.Update(10, "angelwing", true);
                                            client.Inventory.AddTime(3008956, 2 * 24 * 60 * 60);//30-minEXPPack
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region ChongYan
                    case 19162:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        {
                                            if (client.Inventory.Contains(3008751, 1))
                                            {
                                                dialog.Text("Why did you come back again?");
                                                dialog.Option("I~got~something~for~you.", 8);
                                                dialog.Avatar(73);
                                            }
                                            else if (client.Quests.GetQuest(QuestID.BloodVengeance) != null)
                                            {
                                                dialog.Text("Have you cleared those monsters nearby?");
                                                dialog.Option("Yes,~it`s~safe~now.", 4);
                                                dialog.Avatar(73);
                                            }
                                            else if (client.Quests.GetQuest(QuestID.MonsterSage) != null && client.Quests.GetQuest(QuestID.MonsterSage).QItem.Status == QuestPacket.QuestData.QuestStatus.Accepted)
                                            {
                                                dialog.Text("HELP! HELP! Could you help me out?");
                                                dialog.Option("What`s~wrong?", 1);
                                                dialog.Avatar(73);
                                            }
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Quests.GetQuest(QuestID.MonsterSage) != null && client.Quests.GetQuest(QuestID.MonsterSage).QItem.Status == QuestPacket.QuestData.QuestStatus.Accepted)
                                        {
                                            client.Entity.Update(10, "angelwing", true);
                                            client.Inventory.AddTime(3008956, 2 * 24 * 60 * 60);//30-minEXPPack
                                            dialog.Text("Hero, you saved my life, and I am eternally grateful! We got attacked by a horde of");
                                            dialog.Text("~strange monsters. It happened all of a sudden, and we suffered heavy casualties.");
                                            dialog.Text("~We got no way to go, and retreated here.");
                                            dialog.Option("What~kind~of~monsters?", 2);
                                            dialog.Avatar(73);
                                            client.Quests.FinishQuest(QuestID.MonsterSage);
                                            client.Quests.Accept(QuestID.BloodVengeance);
                                        }
                                        else
                                        {
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("I don`t know, but I saw flame runes imprinted on their body. Every time I tried to approach them,");
                                        dialog.Text("~I got burnt. You know, it`s impossible for me to kill so many monsters. Could you help me?");
                                        dialog.Text("~Please kill the monsters surrounding us, and my people can be saved.");
                                        dialog.Option("Count~on~me!", 3);
                                        dialog.Option("Sorry,~I`m~not~available~now.", 255);
                                        dialog.Avatar(73);
                                        break;
                                    }
                                case 3:
                                    {
                                        Data data = new Data(true);
                                        data.UID = client.Entity.UID;
                                        //  data.TimeStamp2 = 19162;
                                        data.ID = 162;
                                        data.wParam1 = 145;
                                        data.wParam2 = 338;
                                        client.Send(data);
                                        break;
                                    }
                                case 4:
                                    {
                                        if (client.Quests.GetQuest(QuestID.BloodVengeance).Kills >= 10)
                                        {
                                            dialog.Text("Thanks for your help! We`re finally safe now.");
                                            dialog.Option("You`re~welcome.", 5);
                                            dialog.Avatar(73);
                                        }
                                        else
                                        {
                                            dialog.Text("There are still many monsters crawling around. Could you kill more?");

                                            dialog.Option("Okay.", 3);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 5:
                                    {
                                        client.Entity.Update(10, "angelwing", true);
                                        client.Inventory.AddTime(3008956, 2 * 24 * 60 * 60);//30-minEXPPack
                                        dialog.Text("The Chief asked you to find us? If so, you must have known the importance of the Flame Temple.");
                                        dialog.Text("~To stop the Fiery Dragon Volcano from eruption, we have to completely activate the Mystery Pearl");
                                        dialog.Text("~at the altar in front of the temple. If we failed, the flowing lava will swallow all living things,");
                                        dialog.Text("~repeating the disaster of our ancestors. How stupid I am to get stuck here at this critical moment.");
                                        dialog.Text("~I feel so sorry to my people.");
                                        dialog.Option("I~can~help~you.", 6);
                                        dialog.Avatar(73);
                                        client.Quests.FinishQuest(QuestID.BloodVengeance);
                                        client.Quests.Accept(QuestID.EvilRoot);
                                        break;
                                    }
                                case 6:
                                    {
                                        dialog.Text("It`s great! See that Fiery Dragon Volcano over there? The Flame Temple was built at the foot of the volcano.");
                                        dialog.Text("~First, you need to break through the monster siege. When you find the Flame Temple and restore its altar,");
                                        dialog.Text("~put this Mystery Pearl at the altar. Then, I`ll do the rest to completely dispel the crisis of Fiery Dragon.");
                                        dialog.Option("I~see.~Take~care~of~yourself!", 7);
                                        dialog.Avatar(73);
                                        break;
                                    }
                                case 7:
                                    {
                                        Data data = new Data(true);
                                        data.UID = client.Entity.UID;
                                        data.TimeStamp2 = 19163;
                                        data.ID = 162;
                                        data.wParam1 = 311;
                                        data.wParam2 = 449;
                                        client.Send(data);
                                        break;
                                    }
                                case 8:
                                    {
                                        dialog.Text("You meant you got this metal block from the Forge Furnace? It`s hard to tell what it is,");
                                        dialog.Text("~but the material looks the same as that of the top Bright craftsman`s ID token.");
                                        dialog.Text("~Well, I`ll go ask the scholars in our tribe.");
                                        dialog.Option("Is~there~anything~I~can~help?", 9);
                                        dialog.Avatar(73);
                                        break;
                                    }
                                case 9:
                                    {
                                        client.Entity.Update(10, "angelwing", true);
                                        client.Inventory.Remove(3008751, 1);
                                        client.Inventory.AddTime(3008956, 2 * 24 * 60 * 60);//30-minEXPPack
                                        dialog.Text("Now the monsters have been swept off, we`ll continue to find the Flame Temple.");
                                        dialog.Text("~You can go first, and I`ll inform our Chief. If you see our lost tribesmen, please give them a hand.");
                                        dialog.Option("Got~it.", 10);
                                        dialog.Avatar(73);
                                        client.Quests.FinishQuest(QuestID.UnexceptedDiscovery);
                                        client.Quests.Accept(QuestID.MysteriousMetal);
                                        break;
                                    }
                                case 10:
                                    {
                                        Data data = new Data(true);
                                        data.UID = client.Entity.UID;
                                        data.TimeStamp2 = 19164;
                                        data.ID = 162;
                                        data.wParam1 = 247;
                                        data.wParam2 = 273;
                                        client.Send(data);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region BrokenForgeFurnace
                    case 19163:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.Inventory.Contains(3008750, 1) || client.Quests.GetQuest(QuestID.SecretOfBright) != null)
                                        {
                                            dialog.Text("(When you`re approaching the Forge Furnace, the Holy Hammer started shaking suddenly.");
                                            dialog.Text("~You watched around and found a possible cause of the shaking - a hammering block.");
                                            dialog.Text("~Why not hit the block with your Holy Hammer?)");
                                            dialog.Option("Hit~the~block.", 9);
                                            dialog.Avatar(9999);
                                        }
                                        else if (client.Inventory.Contains(3008752, 8))
                                        {
                                            dialog.Text("(You need to collect the Rune Fragments to complete the runes on the Forge Furnace first.)");
                                            dialog.Option("Use~the~Rune~Fragment.", 3);
                                            dialog.Avatar(9999);
                                        }
                                        else if (client.Quests.GetQuest(QuestID.EvilRoot) != null && client.Quests.CheckQuest(QuestID.EvilRoot) == QuestPacket.QuestData.QuestStatus.Accepted)
                                        {
                                            dialog.Text("In the deep corner, you discovered a Forge Furnace which was broken but still majestic,");
                                            dialog.Text("~A huge number of monsters emerged from the furnace. It must be the root of the monster crisis.");
                                            dialog.Option("Check~the~furnace~carefully.", 1);
                                            dialog.Avatar(9999);
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Inventory.AddTime(3008956, 2 * 24 * 60 * 60);//30-minEXPPack
                                        client.Entity.Update(10, "Attack35r", true);
                                        client.Entity.Update(10, "angelwing", true);
                                        client.Quests.FinishQuest(QuestID.EvilRoot);
                                        client.Quests.Accept(QuestID.ForgeFurance);
                                        dialog.Text("(You tried to read the rune on the furnace, but found too many parts missing.)");
                                        dialog.Option("Collect~rune~fragments~nearby.", 2);
                                        dialog.Avatar(9999);
                                        break;
                                    }
                                case 2:
                                    {
                                        Data data = new Data(true);
                                        data.UID = client.Entity.UID;
                                        data.TimeStamp2 = 19163;
                                        data.ID = 162;
                                        data.wParam1 = 262;
                                        data.wParam2 = 430;
                                        client.Send(data);
                                        break;
                                    }
                                case 3:
                                    {

                                        dialog.Text("(You`ve finally collected all the missing parts, and complete the runes on the furnace.)");
                                        dialog.Option("What~does~it~say?", 4);
                                        dialog.Avatar(9999);
                                        break;
                                    }
                                case 4:
                                    {

                                        client.Inventory.Remove(3008752, 8);
                                        client.Entity.Update(10, "angelwing", true);
                                        client.Inventory.AddTime(3200345, 2 * 24 * 60 * 60);//120-minEXPPack
                                        dialog.Text("(You read the runes on the Forge Furnace carefully, and understood the most words.)");
                                        dialog.Option("Read~the~rune.", 5);
                                        dialog.Avatar(9999);
                                        client.Quests.FinishQuest(QuestID.ForgeFurance);
                                        client.Quests.Accept(QuestID.GloryOfThePast);
                                        break;
                                    }
                                case 5:
                                    {
                                        dialog.Text("(It was the biggest forge furnace in ancient Bright, which had produced countless famous weapons.");
                                        dialog.Text("~According to the runes, the Master Blacksmith was the most brilliant craftsman for metal working,");
                                        dialog.Text("~and ranked only next to the Chief of Bright Tribe.)");
                                        dialog.Option("I~see.", 6);
                                        dialog.Avatar(9999);
                                        break;
                                    }
                                case 6:
                                    {
                                        dialog.Text("(You noted that a hammer icon always appeared when the Master Blacksmith was mentioned in the runes.");
                                        dialog.Text("~Is this Holy Hammer a symbol of the Master Blacksmith? If you can find it, something amazing");
                                        dialog.Text("~may happen. Do you want to have a try?");
                                        dialog.Option("Go~and~look~for~the~hammer.", 7);
                                        dialog.Avatar(9999);
                                        break;
                                    }
                                case 7:
                                    {
                                        client.Entity.Update(10, "angelwing", true);
                                        client.Inventory.AddTime(3200345, 2 * 24 * 60 * 60);//120-minEXPPack
                                        dialog.Text("(Since the Rune Fragments were collected from the alien monsters,");
                                        dialog.Text("~you can probably find the Holy Hammer from their boss.)");
                                        dialog.Option("Head~to~see~their~boss.", 8);
                                        dialog.Avatar(9999);
                                        client.Quests.FinishQuest(QuestID.GloryOfThePast);
                                        client.Quests.Accept(QuestID.SecretOfBright);
                                        break;
                                    }
                                case 8:
                                    {
                                        Data data = new Data(true);
                                        data.UID = client.Entity.UID;
                                        data.TimeStamp2 = 19163;
                                        data.ID = 162;
                                        data.wParam1 = 392;
                                        data.wParam2 = 706;
                                        client.Send(data);
                                        break;
                                    }
                                case 9:
                                    {
                                        if (client.Inventory.Contains(3008750, 1))
                                        {
                                            client.Entity.Update(10, "Attack35r", true);

                                            dialog.Text("(When you hit the block with the Holy Hammer, an invisible energy wave bursted out,");
                                            dialog.Text("~killing the alien monsters in silence. No more monsters creep out from the furnace.");
                                            dialog.Text("~It seems the hammer power has fully suppressed the evil force in the furnace.)");
                                            dialog.Option("Great!", 10);
                                            dialog.Avatar(9999);
                                        }
                                        else
                                        {
                                            dialog.Text("(You don`t have the Holy Hammer to hit the block. Go challenge the Violet Bat King,");
                                            dialog.Text("~and you`ll have a chance to get the hammer after defeating him.)");

                                            dialog.Option("I~see.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 10:
                                    {
                                        dialog.Text("(You looked inside the furnace, and found an ugly Black Metal Block which made");
                                        dialog.Text("~you felt nervous. Perhaps, Chong Yan Elder knows more about this item.)");
                                        dialog.Option("Give~the~block~to~the~Elder.", 11);
                                        dialog.Avatar(9999);
                                        client.Inventory.Remove(3008750, 1);
                                        client.Inventory.AddTime(3200345, 2 * 24 * 60 * 60);//120-minEXPPack
                                        client.Inventory.AddTime(3009001, 2 * 24 * 60 * 60);
                                        client.Inventory.AddTime(3009001, 2 * 24 * 60 * 60);
                                        client.Quests.FinishQuest(QuestID.SecretOfBright);
                                        client.Quests.Accept(QuestID.UnexceptedDiscovery);
                                        break;
                                    }
                                case 11:
                                    {
                                        if (client.Inventory.Contains(3008751, 1))
                                        {
                                        }
                                        else
                                        {
                                            client.Inventory.Add(3008751, 0, 1);
                                            Data data = new Data(true);
                                            data.UID = client.Entity.UID;
                                            data.ID = 162;
                                            data.wParam1 = 144;
                                            data.wParam2 = 320;
                                            client.Send(data);
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region ChingYan
                    case 19164:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.Inventory.Contains(3008741, 10))
                                        {
                                            dialog.Text("Why are you still here? I`m incurable. Don`t waste your time.");
                                            dialog.Option("Accept~the~treatment.", 8);
                                            dialog.Avatar(90);
                                        }
                                        else if (client.Quests.GetQuest(QuestID.SacrificetotheDead) != null)
                                        {

                                            dialog.Text("Have you eli... eliminate the monsters?");
                                            dialog.Option("Yes!", 3);
                                            dialog.Avatar(90);
                                        }
                                       
                                        else if (client.Quests.GetQuest(QuestID.MysteriousMetal) != null && client.Quests.GetQuest(QuestID.MysteriousMetal).QItem.Status == QuestPacket.QuestData.QuestStatus.Accepted)
                                        {
                                            dialog.Text("Cough... Cough... Who is there?! I`m not afraid of you! I`ll avenge for the sacrificed people!");
                                            dialog.Option("The~Elder~sent~me~here.", 1);
                                            dialog.Avatar(90);
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Entity.Update(10, "angelwing", true);
                                        client.Inventory.AddTime(3008956, 2 * 24 * 60 * 60);//30-minEXPPack
                                        dialog.Text("Um... I`ve never seen you before. The Elder... The Elder sent you here? You need to prove it.");
                                        dialog.Text("~Kill the Lava Scorpions, and... and offer this bottle of Strong Drink to the sacrificed Bright heroes.");
                                        dialog.Text("~Go, go kill the monsters, and I`ll believe you.");
                                        dialog.Option("Okay.", 2);
                                        dialog.Avatar(90);
                                        client.Quests.FinishQuest(QuestID.MysteriousMetal);
                                        client.Quests.Accept(QuestID.SacrificetotheDead);
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Inventory.Add(3008740, 0, 1);
                                        Data data = new Data(true);
                                        data.UID = client.Entity.UID;
                                        data.ID = 162;
                                        data.wParam1 = 256;
                                        data.wParam2 = 300;
                                        client.Send(data);
                                        break;
                                    }
                                case 3:
                                    {
                                        if (client.Quests.GetQuest(QuestID.SacrificetotheDead).Kills >= 15)
                                        {
                                            dialog.Text("Alas... My friends... You can rest in peace now.");
                                            dialog.Option("I`m~sorry.", 4);
                                            dialog.Avatar(90);
                                        }
                                        else
                                        {
                                            dialog.Text("Don`t try to cheat... cheat me! See, so many monsters still... still get away with their crimes!");
                                            dialog.Text("~Hurry and kill them all!");

                                            dialog.Option("Got~it.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 4:
                                    {
                                        client.Entity.Update(10, "angelwing", true);
                                        client.Inventory.AddTime(3008956, 2 * 24 * 60 * 60);//30-minEXPPack
                                        dialog.Text("Thanks for fulfilling my last wish! Now... Now I can die without anything to regret.");
                                        dialog.Text("~In my next life, I may have a chance to thank you.");
                                        dialog.Option("Stop~it.~I`ll~save~you.", 5);
                                        dialog.Avatar(90);
                                        client.Inventory.Remove(3008740, 1);
                                        client.Inventory.Remove(3008751, 1);
                                        client.Quests.FinishQuest(QuestID.SacrificetotheDead);
                                        client.Quests.Accept(QuestID.HealingTheDying);
                                        break;
                                    }
                                case 5:
                                    {
                                        Data data = new Data(true);
                                        data.UID = client.Entity.UID;
                                        data.ID = 162;
                                        data.wParam1 = 273;
                                        data.wParam2 = 273;
                                        client.Send(data);
                                        break;
                                    }
                                case 6:
                                    {
                                        dialog.Text("(Ching Yan was seriously injured. To save him, you need to collect enough White Herbs.");
                                        dialog.Text("~There is nothing more important than saving a life. Hurry and pick the White Herbs!)");
                                        dialog.Option("I~need~more~White~Herbs.", 7);
                                        dialog.Avatar(90);
                                        break;
                                    }
                                case 7:
                                    {
                                        Data data = new Data(true);
                                        data.UID = client.Entity.UID;
                                        data.TimeStamp2 = 19163;
                                        data.ID = 162;
                                        data.wParam1 = 273;
                                        data.wParam2 = 273;
                                        client.Send(data);
                                        break;
                                    }
                                case 8:
                                    {
                                        dialog.Text("How did you collect so many White Herbs? You`re too kind. I felt much better now.");
                                        dialog.Option("Take~a~good~rest.", 9);
                                        dialog.Avatar(90);
                                        break;
                                    }
                                case 9:
                                    {
                                        client.Inventory.AddTime(3008956, 2 * 24 * 60 * 60);//30-minEXPPack
                                        client.Entity.Update(10, "angelwing", true);
                                        dialog.Text("You`re looking for the Flame Temple? If not I can`t even walk, I`ll go with you.");
                                        dialog.Text("~Don`t worry. I know how to contact my tribe. Just go and do your job.");
                                        dialog.Option("Take~care!", 10);
                                        dialog.Avatar(90);
                                        client.Inventory.Remove(3008741, 10);
                                        client.Quests.FinishQuest(QuestID.HealingTheDying);
                                        client.Quests.Accept(QuestID.PathToFlameTemple);
                                        break;
                                    }
                                case 10:
                                    {
                                        Data data = new Data(true);
                                        data.UID = client.Entity.UID;
                                        data.TimeStamp2 = 19165;
                                        data.ID = 162;
                                        data.wParam1 = 573;
                                        data.wParam2 = 423;
                                        client.Send(data);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region WhiteHerb
                    case 19167:
                    case 19168:
                    case 19169:
                    case 19170:
                    case 19171:
                    case 19175:
                        {
                            if (client.Inventory.Contains(3008741, 10))
                            {
                                client.MessageBox("You`ve collected enough number of White Herbs. Hurry and go treat Ching Yan.",
                              p =>
                              {
                                  Data data = new Data(true);
                                  data.UID = p.Entity.UID;
                                  data.ID = 162;
                                  data.wParam1 = 249;
                                  data.wParam2 = 277;
                                  p.Send(data);
                              }, null);
                            }
                            else
                            {
                                Network.GamePackets._String str = new Network.GamePackets._String(true);
                                var dist = Kernel.GetDistance(client.Entity.X, client.Entity.Y, npcs.X, npcs.Y);
                                if (dist <= 5)
                                {
                                    {
                                        client.Inventory.Add(3008741, 0, 2);
                                        if (client.Quests.GetQuest(QuestID.HealingTheDying) != null) client.Quests.IncreaseQuestKills(QuestID.HealingTheDying, 2);

                                    }
                                }
                            }
                            break;
                        }

                    #endregion
                    #region FlameAltar
                    case 19165:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.Inventory.Contains(3008748, 100))
                                        {
                                            dialog.Text("(Insert the Essence of Star into the eyes of the altar, and you`ll achieve the final success against the Fiery Dragon Volcano.)");
                                            dialog.Option("Extract~the~Essence~of~Star.", 15);
                                            dialog.Avatar(9999);
                                        }
                                        else if (client.Quests.GetQuest(QuestID.FireForce) != null)
                                        {
                                            dialog.Text("(Put the Lava Flower on the Wheel of Nature, and spin the wheel to extract Fire Force.");
                                            dialog.Text("~When you light the Fire icon with the Fire Force, the Flame Altar will be fully restored and activated.)");
                                            dialog.Option("Extract~the~Fire~Force.", 12);
                                            dialog.Avatar(9999);
                                        }
                                        else if (client.Inventory.Contains(3008745, 1))
                                        {
                                            dialog.Text("(The Metal Force is essential to motivate the Mystery Pearl. With the Metal Force,");
                                            dialog.Text("~you can light the Metal icon on the altar.)");
                                            dialog.Option("Spin~the~Wheel~of~Nature.", 9);
                                            dialog.Avatar(9999);
                                        }
                                        else if (client.Inventory.Contains(3008743, 1))
                                        {
                                            dialog.Text("(The altar is dead without the Wheel of Nature.");
                                            dialog.Text("~Hurry and retrieve it from the Clawed Rock Devils.)");
                                            dialog.Option("Place~the~wheel~on~the~altar.", 6);
                                            dialog.Avatar(9999);
                                        }
                                        else if (client.Inventory.Contains(3008742, 50))
                                        {
                                            dialog.Text("(Hurry and go collect Building Stones to repair the ruined altar.)");
                                            dialog.Option("Use~stones~to~repair~altar.", 3);
                                            dialog.Avatar(9999);
                                        }
                                        else if (client.Quests.GetQuest(QuestID.PathToFlameTemple) != null && client.Quests.GetQuest(QuestID.PathToFlameTemple).QItem.Status == QuestPacket.QuestData.QuestStatus.Accepted)
                                        {
                                            dialog.Text("You`ve finally arrived at relics of the Flame Temple. At the center of the temple square,");
                                            dialog.Text("~there is a ruined pentagonal altar carved with complex patterns at each side.");
                                            dialog.Option("It`s~amazing!", 1);
                                            dialog.Avatar(9999);
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Entity.Update(10, "angelwing", true);
                                        client.Inventory.AddTime(3008956, 2 * 24 * 60 * 60);//30-minEXPPack
                                        dialog.Text("(You found two sides of the altar were seriously damaged, and Metal and Fire icons were absent from the elemental patterns.");
                                        dialog.Text("~You should restore the Flame Altar, first. Look around and collect appropriate Building Stones.");
                                        dialog.Option("Go~find~Building~Stones.", 2);
                                        dialog.Avatar(9999);
                                        client.Quests.FinishQuest(QuestID.PathToFlameTemple);
                                        client.Quests.Accept(QuestID.SorrowofDesolation);
                                        break;
                                    }
                                case 2:
                                    {
                                        Data data = new Data(true);
                                        data.UID = client.Entity.UID;
                                        data.ID = 162;
                                        data.wParam1 = 596;
                                        data.wParam2 = 447;
                                        client.Send(data);
                                        break;
                                    }
                                case 3:
                                    {

                                        dialog.Text("(The altar has been roughly restored by using some unique Building Stones.)");
                                        dialog.Option("I`m~so~tired.", 4);
                                        dialog.Avatar(9999);
                                        break;
                                    }
                                case 4:
                                    {
                                        client.Inventory.Remove(3008742, 50);
                                        client.Entity.Update(10, "angelwing", true);
                                        client.Inventory.AddTime(3200346, 2 * 24 * 60 * 60);//30-minEXPPack
                                        client.Quests.FinishQuest(QuestID.SorrowofDesolation);
                                        dialog.Text("(To further restore the altar, you`ll need to switch on the five elemental forces resting in the Wheel of Nature.");
                                        dialog.Text("~But where is the Wheel of Nature? It must be stolen by the Clawed Rock Devils nearby.");
                                        dialog.Text("~Go retrieve the wheel from the Clawed Rock Devils.)");
                                        dialog.Option("Go~retrieve~the~wheel.", 5);
                                        dialog.Avatar(9999);
                                        client.Quests.Accept(QuestID.WheelofNature);
                                        break;
                                    }
                                case 5:
                                    {
                                        Data data = new Data(true);
                                        data.UID = client.Entity.UID;
                                        data.ID = 162;
                                        data.wParam1 = 307;
                                        data.wParam2 = 102;
                                        client.Send(data);
                                        break;
                                    }
                                case 6:
                                    {
                                        dialog.Text("(You placed the Wheel of Nature at the center of the altar, and saw the icons of five elements");
                                        dialog.Text("~giving out faint light. What a good beginning! Before burning the power of Mystery Pearl, you");
                                        dialog.Text("~need to switch on the five elemental forces through the Wheel of Nature.");
                                        dialog.Option("Good.", 7);
                                        dialog.Avatar(9999);

                                        break;
                                    }
                                case 7:
                                    {
                                        client.Inventory.Remove(3008743, 1);
                                        client.Entity.Update(10, "angelwing", true);
                                        client.Inventory.AddTime(3200346, 2 * 24 * 60 * 60);//30-minEXPPack
                                        client.Quests.FinishQuest(QuestID.WheelofNature);
                                        dialog.Text("(It`s said the Mystery Pearl contains terrific power which can only be motivated by the purest Metal Force.");
                                        dialog.Text("~Is it true? If you have the Earth Force, please transform it into Metal Force on the Wheel of Nature.)");
                                        dialog.Option("Go~make~the~Metal~Force.", 8);
                                        dialog.Avatar(9999);
                                        client.Quests.Accept(QuestID.MetalForce);
                                        break;
                                    }
                                case 8:
                                    {
                                        Data data = new Data(true);
                                        data.UID = client.Entity.UID;
                                        data.TimeStamp2 = 19165;
                                        data.ID = 162;
                                        data.wParam1 = 482;
                                        data.wParam2 = 216;
                                        client.Send(data);
                                        break;
                                    }
                                case 9:
                                    {

                                        dialog.Text("(Rolling slowly, the Wheel of Nature successfully transformed the Earth Force into Metal Force,");
                                        dialog.Text("~with the Metal icon shining brightly. Now, you can turn to switch on the Fire Force.)");
                                        dialog.Option("Everything~will~go~well.", 10);
                                        dialog.Avatar(9999);
                                        break;
                                    }
                                case 10:
                                    {
                                        client.Entity.Update(10, "angelwing", true);
                                        client.Inventory.AddTime(3200346, 2 * 24 * 60 * 60);//30-minEXPPack
                                        client.Quests.FinishQuest(QuestID.MetalForce);
                                        client.Inventory.Remove(3008745, 1);
                                        client.Inventory.Remove(3008743, 1);
                                        dialog.Text("(The Metal element has been recovered, and it`s time to explore the Fire Force.");
                                        dialog.Text("~As the totem of the Bright tribe, Fire is essential to their altar.");
                                        dialog.Text("~Not far away from the Flame Temple, there is a Lava Pool where special flowers are blooming.");
                                        dialog.Text("~You can extract the purest Fire Force from the Lava Flowers.)");
                                        dialog.Option("Head~to~the~Lava~Pool.", 11);
                                        dialog.Avatar(9999);
                                        client.Quests.Accept(QuestID.FireForce);
                                        break;
                                    }
                                case 11:
                                    {
                                        Data data = new Data(true);
                                        data.UID = client.Entity.UID;
                                        data.TimeStamp2 = 19165;
                                        data.ID = 162;
                                        data.wParam1 = 560;
                                        data.wParam2 = 691;
                                        client.Send(data);
                                        break;
                                    }
                                case 12:
                                    {
                                        dialog.Text("(With the recovery of the Fire icon, the five elemental icons shine more brightly. You`re now very close to");
                                        dialog.Text("~the ultimate success: place the Essence of Star at the eye of the altar to comfort the restless airflow,");
                                        dialog.Text("~and then burn the power of Mystery Pearl to completely freeze the Fiery Dragon Volcano.)");
                                        dialog.Option("I`ll~try~my~best.", 13);
                                        dialog.Avatar(9999);
                                        break;
                                    }
                                case 13:
                                    {
                                        client.Inventory.AddTime(3008956, 2 * 24 * 60 * 60);//30-minEXPPack
                                        client.Entity.Update(10, "angelwing", true);
                                        client.Quests.FinishQuest(QuestID.FireForce);
                                        dialog.Text("(It requires a large number of Star Ores to extract the Essence of Star.");
                                        dialog.Text("~The Hellfire Beasts are known to carry such ores.");
                                        dialog.Option("Go~collect~Star~Ores.", 14);
                                        dialog.Avatar(9999);
                                        client.Inventory.Remove(3008747, (ushort)(client.Inventory.Objects.Where(i => i.ID == 3008747).Count()));
                                        client.Quests.Accept(QuestID.WaitingForMiracle);
                                        break;
                                    }
                                case 14:
                                    {
                                        Data data = new Data(true);
                                        data.UID = client.Entity.UID;
                                        data.TimeStamp2 = 19165;
                                        data.ID = 162;
                                        data.wParam1 = 522;
                                        data.wParam2 = 347;
                                        client.Send(data);
                                        break;
                                    }
                                case 15:
                                    {
                                        dialog.Text("(With the aid of the Essence of Star, the energy of Flame Altar becomes steady.");
                                        dialog.Text("~You`ve finished your job. Hurry and report back to Chief Pak Yan. He`ll take care of the rest");
                                        dialog.Text("~to suppress the Fiery Dragon Volcano with the Mystery Pearl.)");
                                        dialog.Option("I`ve~finally~made~it!", 16);
                                        dialog.Avatar(9999);
                                        break;
                                    }
                                case 16:
                                    {
                                        client.Inventory.AddTime(3200346, 2 * 24 * 60 * 60);//30-minEXPPack
                                        client.Entity.Update(10, "angelwing", true);
                                        client.Quests.FinishQuest(QuestID.WaitingForMiracle);
                                        client.Inventory.Remove(3008748, 100);
                                        client.Inventory.AddTime(3009002, 2 * 24 * 60 * 60);
                                        dialog.Text("(You`ve finished your job here. Hurry and report back to Chief Pak Yan.)");
                                        dialog.Option("Okay.", 17);
                                        dialog.Avatar(9999);
                                        client.Quests.Accept(QuestID.EndHomelessness);
                                        break;
                                    }
                                case 17:
                                    {
                                        Data data = new Data(true);
                                        data.UID = client.Entity.UID;
                                        data.TimeStamp2 = 19160;
                                        data.ID = 162;
                                        data.wParam1 = 85;
                                        data.wParam2 = 356;
                                        client.Send(data);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region LavaFlower
                    case 19172:
                    case 19173:
                    case 19174:
                    case 19176:
                    case 19177:
                    case 19238:
                    case 19239:
                        {
                            if (client.Inventory.Contains(3008747, 10))
                            {

                                client.MessageBox("You`ve collected 10 Lava Flowers. Go and try to extract the Fire Force.",
                              p =>
                              {
                                  Data data = new Data(true);
                                  data.UID = p.Entity.UID;
                                  data.TimeStamp2 = 19165;
                                  data.ID = 162;
                                  data.wParam1 = 571;
                                  data.wParam2 = 427;
                                  p.Send(data);
                              }, null);
                            }
                            else
                            {
                                Network.GamePackets._String str = new Network.GamePackets._String(true);
                                var dist = Kernel.GetDistance(client.Entity.X, client.Entity.Y, npcs.X, npcs.Y);
                                if (dist <= 5)
                                {
                                    // client.ProgressWhiteHerb = new ProgressWhiteHerb(client, "Collecting...", p =>
                                    {
                                        Random Random = new Random();
                                        int R = Random.Next(1, 3);
                                        if (R == 1)
                                        {
                                            client.Inventory.Add(3008747, 0, 4);

                                        }
                                        else if (R == 2)
                                        {
                                            client.Inventory.Add(3008747, 0, 2);

                                        }
                                        else if (R == 3)
                                        {
                                            client.Inventory.Add(3008747, 0, 1);

                                        }

                                    }//, "Collecting...", 3);
                                }
                            }
                            break;
                        }

                    #endregion
                    #endregion
                    #region ClanArena Prize
                    case 552553:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Do You Want Claim Your Prize?");
                                        dialog.Option("Claim prize", 3);
                                        dialog.Option("Leave.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        if (client.Entity.GetClan != null)
                                        {
                                            GameClient[] array = (
                        from p in Kernel.GamePool.Values
                        where p.Entity.MapID == 1505 && !p.Entity.Dead
                        select p).ToArray<GameClient>();
                                            int num = Kernel.ClansOnMap(array);
                                            if (DateTime.Now.Hour == 21 && DateTime.Now.Minute >= 00)
                                            {
                                                if (num == 1)
                                                {
                                                    if (client.Entity.ClanRank == Clan.Ranks.ClanLeader)
                                                    {
                                                        client.Inventory.Add(729536, 0, 1);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Must Be The ClanLeader To Claim Cps ! If Not I Will Teleport To TwinCity!");

                                                        dialog.Option("Ohh.", 255);
                                                        dialog.Send();
                                                    }
                                                    client.Entity.Teleport(1002, 300, 278);
                                                    Kernel.ClanCityApply = false;
                                                }
                                                else
                                                {
                                                    dialog.Text("There Is " + num + " Different Clan In The Map!!");
                                                    dialog.Option("Ohh.", 255);
                                                    dialog.Send();
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text("Must Claim The Prize On Or After 21:00!");

                                                dialog.Option("Ohh.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("You Dont Seem To Any Clan!!");
                                            dialog.Option("Ohh.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region SkyPass
                    #region Daniel
                    case 30055:
                        {

                            switch (npcRequest.OptionID)
                            {
                                //
                                case 0:
                                    {
                                        dialog.Text("This~is~the~way~to~Sky~Pass.~Are~you~here~to~challenge~the~Sky~Pass?");
                                        dialog.Option("Please~show~me~the~way.", 1);
                                        dialog.Option("Just~passing~by.", 255);
                                        dialog.Avatar(8);
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("Don`t rush into dangers! The Sky Pass was designed by my master, the God Cloud. He trapped horrific monsters in the Pass to test out the real hero.");
                                        dialog.Option("Can~I~have~a~try?", 2);
                                        dialog.Avatar(8);
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("Sure! Everyone has a chance to challenge it. If you pass 5 floors at a time, you`ll see my great master.");
                                        dialog.Option("How~does~it~work?", 3);
                                        dialog.Option("I~got~to~go.~Goodbye.", 255);
                                        dialog.Avatar(8);
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("The~Pass~consists~of~5~floors,~and~each~floor~is~guarded~by~the~monsters~of~different~level.");
                                        dialog.Option("How~can~I~pass?", 5);
                                        dialog.Avatar(8);
                                        break;
                                    }
                                case 5:
                                    {
                                        dialog.Text("If lucky enough, you`ll be directly sent to the next floor without doing anything; or you`ll need to conquer the battle stage.");
                                        dialog.Option("Anything~else~I~should~know?", 6);
                                        dialog.Avatar(8);
                                        break;
                                    }
                                case 6:
                                    {
                                        if (client.Quests.GetQuest(QuestID.SkyPass) != null && client.Quests.CheckQuest(QuestID.SkyPass) == QuestPacket.QuestData.QuestStatus.Finished)
                                        {
                                            client.MessageBox("You`ve~already~got~the~Token!");
                                        }
                                        else
                                        {
                                            dialog.Text("The higher level you are, the Conquorder stage with fiercer monsters you will be sent to, while the bigger chance to bypass the battle.");
                                            dialog.Option("I~would~like~to~try.", 7);
                                            dialog.Option("I~see.~Thanks.~Bye.", 255);
                                            dialog.Avatar(8);
                                        }
                                        break;
                                    }
                                case 7:
                                    {
                                        client.Entity.Teleport(1040, 595, 383);
                                        client.Quests.Accept(QuestID.SkyPass);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region SwiftMonster
                    case 30001:
                    case 30002:
                    case 30003:
                    case 30004:
                    case 30005:
                        {

                            switch (npcRequest.OptionID)
                            {

                                case 0:
                                    {
                                        dialog.Text("Hi there! We`re guardians to the battle stages of different levels on the first floor. Your ability decides which stage you need to conquer.");
                                        dialog.Text("~When the test starts, you should defeat monsters on the stage and collect a Pass Token to continue your challenge. So, are you ready?");
                                        dialog.Option("I~was~born~ready!", 1);
                                        dialog.Option("Return~to~Twin~City.", 2);
                                        dialog.Option("I`ll~think~it~over.", 255);
                                        dialog.Avatar(9);
                                        break;
                                    }
                                case 1:
                                    {
                                        if (Kernel.Rate(50))
                                        {
                                            client.Entity.Teleport(1040, 373, 584);
                                        }
                                        else
                                        {
                                            client.Entity.Teleport(1040, 543, 330);
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region GreenSnake
                    case 30011:
                    case 30012:
                    case 30013:
                    case 30014:
                    case 30015:
                        {

                            switch (npcRequest.OptionID)
                            {

                                case 0:
                                    {
                                        dialog.Text("Hello, sugar! We brothers watch the battle stages of different levels on the second floor. Which stage you need to conquer depends on your ability.");
                                        dialog.Text("~When the test starts, you must defeat monsters on the stage and collect a Pass Token to continue your challenge. So?");
                                        dialog.Option("I`m~ready!", 1);
                                        dialog.Option("Return~to~Twin~City.", 2);
                                        dialog.Option("I`ll~think~it~over.", 255);
                                        dialog.Avatar(9);
                                        break;
                                    }
                                case 1:
                                    {
                                        if (Kernel.Rate(50))
                                        {
                                            client.Entity.Teleport(1040, 325, 536);
                                        }
                                        else
                                        {
                                            client.Entity.Teleport(1040, 492, 280);
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        break;
                                    }
                            }
                            break;
                        }



                    #endregion
                    #region EvilHawk
                    case 30021:
                    case 30022:
                    case 30023:
                    case 30024:
                    case 30025:
                        {
                            switch (npcRequest.OptionID)
                            {

                                case 0:
                                    {
                                        dialog.Text("Hi ya! We`re watching the battle stages of different levels on the third floor. Which stage you need to conquer depends on your ability.");
                                        dialog.Text("~When the test starts, beat the monsters on the stage down and collect the Pass Token to continue your challenge. So, are you ready?");
                                        dialog.Option("Ready!", 1);
                                        dialog.Option("Return~to~Twin~City.", 2);
                                        dialog.Option("I`ll~think~it~over.", 255);
                                        dialog.Avatar(9);
                                        break;
                                    }
                                case 1:
                                    {
                                        if (Kernel.Rate(50))
                                        {
                                            client.Entity.Teleport(1040, 275, 487);
                                        }
                                        else
                                        {
                                            client.Entity.Teleport(1040, 437, 225);
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region MonsterGeneral
                    case 30031:
                    case 30032:
                    case 30033:
                    case 30034:
                    case 30035:
                        {

                            switch (npcRequest.OptionID)
                            {

                                case 0:
                                    {
                                        dialog.Text("Hi there! We brothers watch the battle stages of different levels on the fourth floor. Which stage you need to conquer depends on your ability.");
                                        dialog.Text("~When the test starts, defeat the monsters on the stage and collect the Pass Token to continue your challenge. So, are you ready?");
                                        dialog.Option("Yup!", 1);
                                        dialog.Option("Return~to~Twin~City.", 2);
                                        dialog.Option("I`ll~think~it~over.", 255);
                                        dialog.Avatar(9);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (Kernel.Rate(50))
                                        {
                                            client.Entity.Teleport(1040, 229, 440);
                                        }
                                        else
                                        {
                                            client.Entity.Teleport(1040, 393, 181);
                                        }
                                        break;
                                    }
                            }
                            break;
                        }



                    #endregion
                    #region TerminaGuard
                    case 30043:
                    case 30044:
                    case 30045:
                    case 30051:
                    case 30052:
                        {
                            switch (npcRequest.OptionID)
                            {

                                case 0:
                                    {
                                        dialog.Text("Wow, you really have a good luck! How could you get here, the last pass? However, if you want to get finest rewards, you will");
                                        dialog.Text("~Your ability decides which stage you need to conquer. Are you ready for the challenge?");
                                        dialog.Option("Yeah,~of~course!", 1);
                                        dialog.Option("Return~to~Twin~City.", 3);
                                        dialog.Option("I`ll~think~it~over.", 255);
                                        dialog.Avatar(9);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (Kernel.Rate(50))
                                        {
                                            client.Entity.Teleport(1040, 180, 391);
                                        }
                                        else
                                        {
                                            client.Entity.Teleport(1040, 85, 186);
                                            client.Inventory.Add(721109, 0, 1);
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region StageGuard
                    case 30049:
                    case 30048:
                        {
                            switch (npcRequest.OptionID)
                            {
                                //
                                case 0:
                                    {
                                        if (client.Inventory.Contains(721107, 1))
                                        {
                                            dialog.Text("Congrats!~You~have~passed~the~sky~pass.~I~am~pleased~to~teleport~you~to~claim~the~prize.");
                                            dialog.Option("Thanks.", 3);
                                            dialog.Avatar(7);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("Keep up with the good job! When you have the Pass Token, I may send you to the God Cloud to claim your rewards or send you back for one more test. Good luck!");
                                            dialog.Option("I~want~to~leave~here.", 1);
                                            dialog.Option("I~will~try~my~best.", 255);
                                            dialog.Avatar(7);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("Are you sure you want to return to Twin City?");
                                        dialog.Option("Yeah,~please!", 2);
                                        dialog.Option("No,~I~changed~my~mind.", 255);
                                        dialog.Avatar(7);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        break;
                                    }
                                case 3:
                                    {
                                        client.Inventory.Remove(721107, 1);
                                        client.Inventory.Add(721109, 0, 1);
                                        client.Entity.Teleport(1040, 86, 186);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region StageGuard
                    case 30039:
                        {
                            switch (npcRequest.OptionID)
                            {
                                //
                                case 0:
                                    {
                                        if (client.Inventory.Contains(721103, 1))
                                        {
                                            dialog.Text("Yeah! That`s exactly what I want! I`ll send you back to the entrance of this floor. However, whether will the monster guard send you to the next pass depends on your luck. Ready?");
                                            dialog.Option("Yes,~please.", 3);
                                            dialog.Option("Wait~a~moment.", 255);
                                            dialog.Avatar(7);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("Fight on the stage and get a Pass Token! That`s the only way you can continue the challenge.");
                                            dialog.Option("I~want~to~leave~here.", 1);
                                            dialog.Avatar(7);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("Are you sure you want to return to Twin City?");
                                        dialog.Option("Yeah,~please!", 2);
                                        dialog.Option("No,~I~changed~my~mind.", 255);
                                        dialog.Avatar(7);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        break;
                                    }
                                case 3:
                                    {
                                        client.Inventory.Remove(721103, 1);
                                        client.Entity.Teleport(1040, 436, 224);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region StageGuard
                    case 30019:
                        {
                            switch (npcRequest.OptionID)
                            {
                                //
                                case 0:
                                    {
                                        if (client.Inventory.Contains(721101, 1))
                                        {
                                            dialog.Text("You brought me the Pass Token? Great! I`ll teleport you back to the entrance of this floor. However, whether will the monster guard send you to the next pass depends on your luck. Ready?");
                                            dialog.Option("Yes.~I~am.", 3);
                                            dialog.Option("Wait~a~moment.", 255);
                                            dialog.Avatar(7);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("Fight on the stage and get a Pass Token! That`s the only way you can continue the challenge.");
                                            dialog.Option("I~want~to~leave~here.", 1);
                                            dialog.Avatar(7);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("Are you sure you want to return to Twin City?");
                                        dialog.Option("Yeah,~please!", 2);
                                        dialog.Option("No,~I~changed~my~mind.", 255);
                                        dialog.Avatar(7);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        break;
                                    }
                                case 3:
                                    {
                                        client.Inventory.Remove(721101, 1);
                                        client.Entity.Teleport(1040, 544, 331);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region StageGuard
                    case 30009:
                        {
                            switch (npcRequest.OptionID)
                            {
                                //
                                case 0:
                                    {
                                        if (client.Inventory.Contains(721100, 1))
                                        {
                                            dialog.Text("You brought me the Pass Token? Great! I`ll teleport you back to the entrance of this floor. However, whether will the monster guard send you to the next pass depends on your luck. Ready?");
                                            dialog.Option("Yes.~I~am.", 3);
                                            dialog.Option("Wait~a~moment.", 255);
                                            dialog.Avatar(7);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("Fight on the stage and get a Pass Token! That`s the only way you can continue the challenge.");
                                            dialog.Option("I~want~to~leave~here.", 1);
                                            dialog.Avatar(7);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("Are you sure you want to return to Twin City?");
                                        dialog.Option("Yeah,~please!", 2);
                                        dialog.Option("No,~I~changed~my~mind.", 255);
                                        dialog.Avatar(7);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        break;
                                    }
                                case 3:
                                    {
                                        client.Inventory.Remove(721100, 1);
                                        client.Entity.Teleport(1040, 544, 331);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region StageGuard
                    case 30020:
                        {

                            switch (npcRequest.OptionID)
                            {
                                //
                                case 0:
                                    {
                                        if (client.Inventory.Contains(721101, 1))
                                        {
                                            dialog.Text("Well done! Now, I`ll teleport you back to the entrance of this floor. However, whether will the monster guard send you to the next pass depends on your luck. Ready?");
                                            dialog.Option("Yes,~please.", 3);
                                            dialog.Option("Wait~a~moment.", 255);
                                            dialog.Avatar(7);
                                        }
                                        else
                                        {
                                            dialog.Text("Fight on the stage and get a Pass Token! That`s the only way you can continue the challenge.");
                                            dialog.Option("I~want~to~leave~here.", 1);
                                            dialog.Avatar(7);
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("Are you sure you want to return to Twin City?");
                                        dialog.Option("Yeah,~please!", 2);
                                        dialog.Option("No,~I~changed~my~mind.", 255);
                                        dialog.Avatar(7);
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        break;
                                    }
                                case 3:
                                    {
                                        client.Inventory.Remove(721101, 1);
                                        client.Entity.Teleport(1040, 544, 331);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region StageGuard
                    case 30030:
                        {

                            switch (npcRequest.OptionID)
                            {
                                //
                                case 0:
                                    {
                                        if (client.Inventory.Contains(721102, 1))
                                        {
                                            dialog.Text("Wow, you got the Pass Token! I`ll send you back to the entrance of this floor. However, whether will the monster guard send you to the next pass depends on your luck. Ready?");
                                            dialog.Option("Yes,~please.", 3);
                                            dialog.Option("Wait~a~moment.", 255);
                                            dialog.Avatar(7);
                                        }
                                        else
                                        {
                                            dialog.Text("Fight on the stage and get a Pass Token! That`s the only way you can continue the challenge.");
                                            dialog.Option("I~want~to~leave~here.", 1);
                                            dialog.Avatar(7);
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("Are you sure you want to return to Twin City?");
                                        dialog.Option("Yeah,~please!", 2);
                                        dialog.Option("No,~I~changed~my~mind.", 255);
                                        dialog.Avatar(7);
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        break;
                                    }
                                case 3:
                                    {
                                        client.Inventory.Remove(721102, 1);
                                        client.Entity.Teleport(1040, 492, 281);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region StageGuard
                    case 30050:
                        {

                            switch (npcRequest.OptionID)
                            {
                                //
                                case 0:
                                    {
                                        if (client.Inventory.Contains(721108, 1))
                                        {
                                            dialog.Text("Excellent! You`ve proven yourself above and beyond! The God Cloud wants to see you. Better not to keep him waiting.");
                                            dialog.Option("Thanks.", 3);
                                            dialog.Avatar(7);
                                        }
                                        else
                                        {
                                            dialog.Text("Keep up with the good job! When you have the Pass Token, I may send you to the God Cloud to claim your rewards or send you back for one more test. Good luck!");
                                            dialog.Option("I~want~to~leave~here.", 1);
                                            dialog.Option("I~will~try~my~best.", 255);
                                            dialog.Avatar(7);
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("Are you sure you want to return to Twin City?");
                                        dialog.Option("Yeah,~please!", 2);
                                        dialog.Option("No,~I~changed~my~mind.", 255);
                                        dialog.Avatar(7);
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        break;
                                    }
                                case 3:
                                    {

                                        client.Inventory.Add(721109, 0, 1);
                                        client.Entity.Teleport(1040, 86, 186);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region StageGuard
                    case 30010:
                        {

                            switch (npcRequest.OptionID)
                            {
                                //
                                case 0:
                                    {
                                        if (client.Inventory.Contains(721100, 1))
                                        {
                                            dialog.Text("You brought me the Pass Token? Great! I`ll teleport you back to the entrance of this floor. However, whether will the monster guard send you to the next pass depends on your luck. Ready?");
                                            dialog.Option("Yes.~I~am.", 3);
                                            dialog.Option("Wait~a~moment.", 255);
                                            dialog.Avatar(7);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("Fight on the stage and get a Pass Token! That`s the only way you can continue the challenge.");
                                            dialog.Option("I~want~to~leave~here.", 1);
                                            dialog.Avatar(7);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("Are you sure you want to return to Twin City?");
                                        dialog.Option("Yeah,~please!", 2);
                                        dialog.Option("No,~I~changed~my~mind.", 255);
                                        dialog.Avatar(7);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        break;
                                    }
                                case 3:
                                    {
                                        client.Inventory.Remove(721100, 1);

                                        client.Entity.Teleport(1040, 595, 383);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region StageGuard
                    case 30040:
                        {

                            switch (npcRequest.OptionID)
                            {
                                //
                                case 0:
                                    {
                                        if (client.Inventory.Contains(721103, 1))
                                        {
                                            dialog.Text("Yeah! That`s exactly what I want! I`ll send you back to the entrance of this floor. However, whether will the monster guard send you to the next pass depends on your luck. Ready?");
                                            dialog.Option("Yes,~please.", 3);
                                            dialog.Option("Wait~a~moment.", 255);
                                            dialog.Avatar(7);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("Fight on the stage and get a Pass Token! That`s the only way you can continue the challenge.");
                                            dialog.Option("I~want~to~leave~here.", 1);
                                            dialog.Avatar(7);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("Are you sure you want to return to Twin City?");
                                        dialog.Option("Yeah,~please!", 2);
                                        dialog.Option("No,~I~changed~my~mind.", 255);
                                        dialog.Avatar(7);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        break;
                                    }
                                case 3:
                                    {
                                        client.Inventory.Remove(721103, 1);

                                        client.Entity.Teleport(1040, 595, 383);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region GodCloud
                    case 30054:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {

                                        dialog.Text("Ah, you must be the hero who broke through the 5 Conquord floors in one time! You deserve to be rewarded for your great perseverance. Hope to see you again!");
                                        dialog.Option("Thanks!", 1);
                                        dialog.Avatar(6);
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Inventory.Contains(721109, 1))
                                        {
                                            client.Inventory.Remove(721109, 1);
                                            client.Entity.Teleport(1002, 305, 278);
                                            client.Quests.FinishQuest(QuestID.SkyPass);
                                            if (client.Entity.Level < 70)
                                            {
                                                int r = Kernel.Random.Next(1, 4);
                                                if (r == 1)
                                                {
                                                    client.Inventory.Add(1088001, 0, 1);
                                                    client.MessageBox("Congratulations! You got a meteor!");
                                                }
                                                if (r == 2)
                                                {
                                                    client.Entity.Money += 50000;
                                                    client.MessageBox("Congratulations! You got 50,000 Silver!");
                                                }
                                                if (r == 3)
                                                {
                                                    client.Inventory.Add(723700, 0, 1);
                                                    client.MessageBox("Congratulations! You got an ExpBall!");
                                                }
                                                if (r == 4)
                                                {
                                                    client.Inventory.Add(700013, 0, 1);
                                                    client.MessageBox("Congratulations! You got a DragonGem");
                                                }
                                            }
                                            if (client.Entity.Level >= 70 && client.Entity.Level < 90)
                                            {
                                                int r = Kernel.Random.Next(1, 4);
                                                if (r == 1)
                                                {
                                                    client.Inventory.Add(1088001, 0, 2);
                                                    client.MessageBox("Congratulations! You got 2 Meteors!");
                                                }
                                                if (r == 2)
                                                {
                                                    client.Entity.Money += 100000;
                                                    client.MessageBox("Congratulations! You got 100,000 Silver!");
                                                }
                                                if (r == 3)
                                                {
                                                    client.Inventory.Add(723700, 0, 2);
                                                    client.MessageBox("Congratulations! You got 2 ExpBalls!");
                                                }
                                                if (r == 4)
                                                {
                                                    client.Inventory.Add(700013, 0, 1);
                                                    client.MessageBox("Congratulations! You got a DragonGem");
                                                }
                                            }
                                            if (client.Entity.Level >= 90 && client.Entity.Level < 100)
                                            {
                                                int r = Kernel.Random.Next(1, 4);
                                                if (r == 1)
                                                {
                                                    client.Inventory.Add(1088001, 0, 3);
                                                    client.MessageBox("Congratulations! You got 3 Meteors!");
                                                }
                                                if (r == 2)
                                                {
                                                    client.Entity.Money += 200000;
                                                    client.MessageBox("Congratulations! You got 200,000 Silver!");
                                                }
                                                if (r == 3)
                                                {
                                                    client.Inventory.Add(723700, 0, 2);
                                                    client.MessageBox("Congratulations! You got 2 ExpBalls!");
                                                }
                                                if (r == 4)
                                                {
                                                    client.Inventory.Add(700013, 0, 1);
                                                    client.MessageBox("Congratulations! You got a DragonGem");
                                                }
                                            }
                                            if (client.Entity.Level >= 100 && client.Entity.Level < 110)
                                            {
                                                int r = Kernel.Random.Next(1, 5);
                                                if (r == 1)
                                                {
                                                    client.Inventory.Add(1088001, 0, 4);
                                                    client.MessageBox("Congratulations! You got 4 Meteors!");
                                                }
                                                if (r == 2)
                                                {
                                                    client.Entity.Money += 300000;
                                                    client.MessageBox("Congratulations! You got 300,000 Silver!");
                                                }
                                                if (r == 3)
                                                {
                                                    client.Inventory.Add(723700, 0, 3);
                                                    client.MessageBox("Congratulations! You got 3 ExpBalls!");
                                                }
                                                if (r == 4)
                                                {
                                                    client.Inventory.Add(700013, 0, 1);
                                                    client.MessageBox("Congratulations! You got a DragonGem");
                                                }
                                                if (r == 5)
                                                {
                                                    client.Inventory.Add(728525, 0, 1);
                                                    client.MessageBox("Congratulations! You got a +1SteedPack");
                                                }
                                            }
                                            if (client.Entity.Level >= 110)
                                            {
                                                int r = Kernel.Random.Next(1, 5);
                                                if (r == 1)
                                                {
                                                    client.Inventory.Add(1088001, 0, 5);
                                                    client.MessageBox("Congratulations! You got 5 Meteors!");
                                                }
                                                if (r == 2)
                                                {
                                                    client.Entity.Money += 1000000;
                                                    client.MessageBox("Congratulations! You got 1,000,000 Silver!");
                                                }
                                                if (r == 3)
                                                {
                                                    client.Inventory.Add(723700, 0, 3);
                                                    client.MessageBox("Congratulations! You got 3 ExpBalls!");
                                                }
                                                if (r == 4)
                                                {
                                                    client.Inventory.Add(700013, 0, 1);
                                                    client.MessageBox("Congratulations! You got a DragonGem");
                                                }
                                                if (r == 5)
                                                {
                                                    client.Entity.SubClasses.StudyPoints += 500;
                                                    client.MessageBox("Congratulations! You got a 500 StudyPoints!");
                                                }
                                            }
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #endregion
                    #region DailyQuests
                    #region DailyQuestEnvoy
                    case 9998:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("All heroes can talk to me to learn about the daily quests, and accept the work at specific places. Completing the cross-server quests first will bring you lots of Chi Points, Jiang Hu training items,");
                                        dialog.Text("~and special tokens to directly complete corresponding daily quests. What`s more, each hero can come back and start over, then you can complete these tasks again.");

                                        dialog.Option("Cross-server~missions~(Lv.110)", 200);
                                        dialog.Option("Bright~Fortune.~[Lv.110]", 201);
                                        dialog.Option("Worship~Leaders~" + CheckIfCompletedDaily(1, client) + ".", 1);
                                        dialog.Option("Everything~Has~A~Price~" + CheckIfCompletedDaily(2, client) + ".", 2);
                                        dialog.Option("Release~the~Souls~" + CheckIfCompletedDaily(3, client) + ".", 3);
                                        dialog.Option("Rare~Materials.~" + CheckIfCompletedDaily(4, client) + "", 4);
                                        dialog.Option("Magnolias~All~Around~" + CheckIfCompletedDaily(5, client) + ".", 5);
                                        dialog.Option("Tower~of~Mystery~" + CheckIfCompletedDaily(6, client) + "", 6);
                                        dialog.Option("Spirit~Beads.~" + CheckIfCompletedDaily(7, client) + "", 7);
                                        dialog.Option("Heaven~Treasury.~" + CheckIfCompletedDaily(8, client) + "", 8);
                                        dialog.Option("Do~the~quests~again!~(270~CPs)", 9);
                                        dialog.Option("Leave.", 255);
                                        dialog.Avatar(84);
                                        dialog.Send();
                                        break;
                                    }
                                case 201:
                                    {
                                        client.Entity.Teleport(3998, 84, 360);
                                        break;
                                    }
                                case 200:
                                    {
if (client.Entity.Level >= 110 && client.Entity.Reborn >= 1)
{
 Data datapacket = new Data(true);
                                        datapacket.UID = client.Entity.UID;
                                        datapacket.ID = 162;
                                        datapacket.TimeStamp2 = 17000;
                                        datapacket.dwParam = 1002;
                                        datapacket.Facing = (Game.Enums.ConquerAngle)client.Entity.Facing;
                                        datapacket.wParam1 = 284;
                                        datapacket.wParam2 = 291;
                                        client.Send(datapacket);
                                        client.Send(new Message("Every day if you complete the cross-server missions first, you'll win many special tokens which enable you to direct complete corresponding daily quests. Don't miss the chance!", Color.Red, Message.System));
                                     
}
else client.Send(new Message("To enter The Realm, you should reach at least Level 110 of the 1st rebirth. Keep practicing!", Color.Red, Message.System));
                                          break;
                                    }
                                case 6:
                                    {
                                        if (client.Entity.Level >= 90)
                                        {
                                            if (client.Quests.CheckQuest(QuestID.TowerOfMystery) != QuestPacket.QuestData.QuestStatus.Finished)
                                            {
                                                dialog.Text("In the Wind Plain, there is the Tower of Mystery sealing the most cruel devils. For heroes who defeat those devils to energize the Mystery Pearl,"); dialog.Text("~the Bright Tribe promises to give them wonderful rewards which include <tip color=0xfff05050 desc=collect#9#fragments#to#get#270#CPs#(B)>Blazing CP Fragments, </tip>،¢"); dialog.Text("<tip color=0xfff05050 desc=randomly#give#Luxury#Protection#Pack,#Golden#Training#Pack,#Plentiful#Talent#Pack,#etc.>Concerted Effort Pack,</tip>"); dialog.Text("~Chi Points and Study Points. If you`re willing to help, please talk to the Heavenly Master.");
                                                dialog.Option("Head~to~see~Heavenly~Master.", 27);
                                                dialog.Option("I~see.", 255);
                                                dialog.Send();
                                            }
                                            else
                                            {
                                                dialog.Text("It`s you, my hero! You`ve already helped me a lot, today! why not take arest?");
                                                dialog.Option("Check~other~quests.", 0);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Hey, you are still too green! Keep practicing, and come back when you reach Level 90.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 27:
                                    {
                                        client.Entity.Teleport(1036, 250, 150);
                                        break;
                                    }
                                case 8:
                                    {
                                        if (client.Entity.Level >= 110)
                                        {
                                            if (client.Quests.CheckQuest(QuestID.HeavenTreasury) != QuestPacket.QuestData.QuestStatus.Finished)
                                            {
                                                dialog.Text("You can claim a bead.\nBy the way, you can do this job with other monster elimination tasks, at the same time.");

                                                dialog.Text("Trust me, I can never over praise the Heaven Treasury. It`s the top place that keeps fabulous treasures.");
                                                dialog.Text("~If you`ve reached Level 110 or been reborn, I`ll give you a chance to enter that amazing land.");

                                                dialog.Option("Take~me~to~Heaven~Treasury!", 26);
                                                dialog.Option("I`m~just~passing~by.", 255);
                                                dialog.Avatar(84);
                                            }
                                            else
                                            {
                                                dialog.Text("It`s you, my hero! You`ve already helped me a lot, today! why not take arest?");
                                                dialog.Option("Check~other~quests.", 0);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Hey, you are still too green! Keep practicing, and come back when you reach Level 110.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 24:
                                    {
                                        if (client.Inventory.Count <= 39)
                                        {
                                            client.MessageBox("You~received~a~" + Database.ConquerItemInformation.BaseInformations[GetBeadID(client, client.Entity.SpiritBeadsType)].Name + "!");
                                            if (!client.Quests.HasQuest(QuestID.Spirit_Beads) || client.Quests.GetQuest(QuestID.Spirit_Beads) == null)
                                            {
                                                client.Quests.Accept(QuestID.Spirit_Beads);
                                            }
                                            client.Inventory.Add(GetBeadID(client, client.Entity.SpiritBeadsType), 0, 1);
                                        }
                                        break;
                                    }
                                case 25:
                                    {
                                        if (client.Entity.ConquerPoints >= 12)
                                        {
                                            client.Entity.ConquerPoints -= 12;
                                            if (client.Entity.SpiritBeadsType == 0)
                                            {
                                                client.IncreaseExperience(client.ExpBall * 2, false);
                                                client.AddBless(7 * 60 * 60);
                                                client.Entity.SubClasses.StudyPoints += 30;
                                                client.Inventory.Add(729304, 0, 1);
                                            }
                                            if (client.Entity.SpiritBeadsType == 1)
                                            {
                                                client.IncreaseExperience(client.ExpBall * 3, false);
                                                client.AddBless(10 * 60 * 60);
                                                client.Entity.SubClasses.StudyPoints += 40;
                                                client.Inventory.Add(729304, 0, 1);
                                            }
                                            if (client.Entity.SpiritBeadsType == 2)
                                            {
                                                client.IncreaseExperience(client.ExpBall * 4, false);
                                                client.AddBless(15 * 60 * 60);
                                                client.Entity.SubClasses.StudyPoints += 50;
                                                client.Inventory.Add(729304, 0, 1);
                                            }
                                            if (client.Entity.SpiritBeadsType == 3)
                                            {
                                                client.IncreaseExperience(client.ExpBall * 5, false);
                                                client.AddBless(24 * 60 * 60);
                                                client.Entity.SubClasses.StudyPoints += 80;
                                                client.Inventory.Add(729304, 0, 1);
                                            }
                                            if (client.Entity.SpiritBeadsType == 4)
                                            {
                                                client.IncreaseExperience(client.ExpBall * 6, false);
                                                client.AddBless(48 * 60 * 60);
                                                client.Entity.SubClasses.StudyPoints += 100;
                                                client.Inventory.Add(729304, 0, 1);
                                            }
                                            _String str = new _String(true);
                                            str.UID = client.Entity.UID;
                                            str.TextsCount = 1;
                                            str.Type = _String.Effect;
                                            str.Texts.Add("end_task");
                                            client.SendScreen(str, true);
                                            if (!client.Quests.HasQuest(QuestID.Spirit_Beads) || client.Quests.GetQuest(QuestID.Spirit_Beads) == null)
                                            {
                                                client.Quests.Accept(QuestID.Spirit_Beads);
                                            }
                                            client.Quests.FinishQuest(QuestID.Spirit_Beads);
                                            client.Activenes.SendSinglePacket(client, Activeness.Types.DailyQuestTask, client.Activenes.DailyQuestCompletedTimes(client));
                                        }
                                        else
                                        {
                                            client.MessageBox("Are You Crazy? You Don't Have ENough CPS!");
                                        }
                                        break;
                                    }
                                case 7:
                                    {
                                        if (client.Entity.Level >= 100)
                                        {
                                            if (client.Inventory.Contains(729703, 1) || client.Inventory.Contains(729611, 1) || client.Inventory.Contains(729612, 1) || client.Inventory.Contains(729613, 1) || client.Inventory.Contains(729614, 1))
                                            {
                                                client.MessageBox("You~already~have~a~Spirit~Bead~in~your~inventory.");
                                                return;
                                            }
                                            if (client.Quests.CheckQuest(QuestID.Spirit_Beads) != QuestPacket.QuestData.QuestStatus.Finished)
                                            {
                                                dialog.Text("You can claim a bead.\nBy the way, you can do this job with other monster elimination tasks, at the same time.");

                                                dialog.Option("Claim~a~bead.", 24);
                                                dialog.Option("Complete~the~task.~(12CPs)", 25);
                                                dialog.Option("Okay.", 255);
                                                dialog.Avatar(84);
                                            }
                                            else
                                            {
                                                dialog.Text("It`s you, my hero! You`ve already helped me a lot, today! why not take arest?");
                                                dialog.Option("Check~other~quests.", 0);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Hey, you are still too green! Keep practicing, and come back when you reach Level 100.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 5:
                                    {
                                        if (client.Quests.CheckQuest(QuestID.Magnolias) != QuestPacket.QuestData.QuestStatus.Finished)
                                        {
                                            if (client.Entity.Level >= 80)
                                            {
                                                dialog.Text("If you help the Magnolia Envoy plant a beautiful magnolia in the Garden, you`ll receive some EXP, Study Points, 1 Chi Token, and");
                                                dialog.Text("~even some precious items like a Dragon Ball and Super Gems!");

                                                dialog.Option("Visit~the~Magnolia~Envoy.", 23);
                                                dialog.Option("Leave.", 255);
                                                dialog.Avatar(84);
                                            }
                                            else
                                            {
                                                dialog.Text("Hey, you are still too green! Keep practicing, and come back when you reach Level 80.");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("If you help the Magnolia Envoy plant a beautiful magnolia in the Garden, you`ll receive some EXP, Study Points, 1 Chi Token, and"); dialog.Text("~even some precious items like a Dragon Ball and Super Gems!");
                                            dialog.Option("Other~tasks.", 0);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 23:
                                    {
                                        client.Entity.Teleport(1806, 107, 109);
                                        break;
                                    }
                                case 4:
                                    {
                                        if (client.Quests.CheckQuest(QuestID.RareMaterials) != QuestPacket.QuestData.QuestStatus.Finished)
                                        {
                                            if (client.Entity.Level >= 75)
                                            {
                                                if (client.Entity.RareMaterialsItemID == 0)
                                                {
                                                    dialog.Text("Hey, I`m looking for some able men to collect items for me! You know, I always pay a high price for what I want.");

                                                    dialog.Option("Count~me~in!", 18);
                                                    dialog.Option("Sorry,~I`m~busy~now.", 255);
                                                    dialog.Avatar(84);
                                                }
                                                else
                                                {

                                                    dialog.Text("    \t\t\t\t\t\t\t\t\tRare Materials\n");
                                                    dialog.Text("\t\t\t\t-----------------------\n");
                                                    dialog.Text("\t\t\t\tItem: [Saddles]; Amount: " + client.Entity.RareMaterialsAmount + "\n");
                                                    dialog.Text("\t\t\t\tRewards: 30 Study Points, 120 minutes of EXP and 1 Chi Token.\n");
                                                    dialog.Text("\t\t\t\t-----------------------");

                                                    dialog.Option("Hand~in~the~item.", 19);
                                                    dialog.Option("Change~the~required~amount.", 20);
                                                    dialog.Option("Directly~complete~it.", 21);
                                                    dialog.Option("I~need~to~think~it~over.", 255);
                                                    dialog.Avatar(84);
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text("Hey, you are still too green! Keep practicing, and come back when you reach Level 75.");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("You helped me today! Come to me and i will give you prizes tommorow.");
                                            dialog.Option("Check~other~quests.", 0);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 3:
                                    {
                                        if (client.Quests.CheckQuest(QuestID.Release_the_souls) != QuestPacket.QuestData.QuestStatus.Finished)
                                        {
                                            dialog.Text("Help the Desert Guardian release the souls of 8 soldiers in the Desert. Once completed, you`ll receive");
                                            dialog.Text("~120 minutes of EXP, 50 Study Points and 1 Chi Token.");
                                            dialog.Option("Go~to~the~Desert.", 17);
                                            dialog.Option("Leave.", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("Help the Desert Guardian release the souls of 8 soldiers in the Desert. Once completed, you`ll receive");
                                            dialog.Text("~120 minutes of EXP, 50 Study Points and 1 Chi Token.");
                                            dialog.Option("Other~tasks.", 0);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Quests.CheckQuest(QuestID.WorshipLeaders) != QuestPacket.QuestData.QuestStatus.Finished)
                                        {
                                            if (client.Entity.Level >= 50)
                                            {
                                                dialog.Text("If you worship the leaders of the Supreme Guilds in the Ancestral Hall, you`ll receive some rewards and a Chi Token. If the Guild Leaders are touched by your sincerity,");
                                                dialog.Text("~you`ll receive 200 Study Points and 20 CPs (B)!");

                                                dialog.Option("Cool!~Send~me~there!", 10);
                                                dialog.Option("Awesome!", 255);
                                                dialog.Avatar(84);
                                            }
                                            else
                                            {
                                                dialog.Text("Hey, you are still too green! Keep practicing, and come back when you reach Level 50.");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("If you worship the leaders of the Supreme Guilds in the Ancestral Hall, you`ll receive some rewards and a Chi Token. If the Guild Leaders are touched by your sincerity,"); dialog.Text("~you`ll receive 200 Study Points and 20 CPs (B)!");
                                            dialog.Option("Check~other~quests.", 1);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        if (client.Quests.CheckQuest(QuestID.EveryThingHasAPrice) != QuestPacket.QuestData.QuestStatus.Finished)
                                        {
                                            if (client.Entity.Level >= 60)
                                            {
                                                if (client.Entity.ETHAPItemID == 0)
                                                {
                                                    dialog.Text("When you`re killing monsters, you`ll have the chance to get the items I need. If you hand in the items I need,");
                                                    dialog.Text("~I`m sure you`ll be handsomely rewarded!");

                                                    dialog.Option("I~can~help.", 11);
                                                    dialog.Option("Leave.", 255);
                                                    dialog.Avatar(84);
                                                }
                                                else
                                                {
                                                    dialog.Text("\t\t\t\t\t\t\t\t\t\tItem List\n");
                                                    dialog.Text("\t\t\t،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ\n");
                                                    dialog.Text("\t\t\tItem: [" + Database.ConquerItemInformation.BaseInformations[client.Entity.ETHAPItemID].Name + "]\n");
                                                    dialog.Text("\t\t\tAmount: [" + client.Entity.ETHAPItemAmount + "]\n");
                                                    dialog.Text("\t\t\tMonster: " + GetMonsterNameFromItemID(client.Entity.ETHAPItemID) + "\n");
                                                    dialog.Text("\t\t\tLocation: " + GetLocationFromItemID(client.Entity.ETHAPItemID) + "\n");
                                                    dialog.Text("\t\t\t،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ\n");

                                                    dialog.Option("Hand~in~items.", 12);
                                                    dialog.Option("Change~the~item.~(1~CP)", 13);
                                                    dialog.Option("Pay~50~CPs~to~complete~it.", 14);
                                                    dialog.Option("Claim~a~list.", 15);
                                                    dialog.Option("What`s~the~reward?", 16);
                                                    dialog.Option("Leave.", 255);
                                                    dialog.Avatar(84);
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text("Hey, you are still too green! Keep practicing, and come back when you reach Level 50.");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("You helped me today! Come to me and i will give you prizes tommorow.");
                                            dialog.Option("Check~other~quests.", 0);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 10:
                                    {
                                        client.Entity.Teleport(3081, 54, 54);
                                        break;
                                    }
                                case 18:
                                    {
                                        if (client.Entity.RareMaterialsItemID == 0)
                                        {
                                            byte val = new byte[] { 5, 10, 15, 20, 25, 30, 35, 40, 45, 50 }[(byte)Kernel.Random.Next(0, 10)];
                                            client.Entity.RareMaterialsAmount = val;
                                            client.Entity.RareMaterialsItemID = 723903;
                                            if (!client.Quests.HasQuest(QuestID.RareMaterials) || client.Quests.GetQuest(QuestID.RareMaterials) == null)
                                            {
                                                client.Quests.Accept(QuestID.RareMaterials);
                                            }
                                            dialog.Text("    \t\t\t\t\t\t\t\t\tRare Materials\n");
                                            dialog.Text("\t\t\t\t-----------------------\n");
                                            dialog.Text("\t\t\t\tItem: [Saddles]; Amount: " + client.Entity.RareMaterialsAmount + "\n");
                                            dialog.Text("\t\t\t\tRewards: 30 Study Points, 120 minutes of EXP and 1 Chi Token.\n");
                                            dialog.Text("\t\t\t\t-----------------------");

                                            dialog.Option("Hand~in~the~item.", 19);
                                            dialog.Option("Change~the~required~amount.", 20);
                                            dialog.Option("Directly~complete~it.", 21);
                                            dialog.Option("I~need~to~think~it~over.", 255);
                                            dialog.Avatar(84);
                                        }
                                        else
                                        {
                                            dialog.Text("    \t\t\t\t\t\t\t\t\tRare Materials\n");
                                            dialog.Text("\t\t\t\t-----------------------\n");
                                            dialog.Text("\t\t\t\tItem: [Saddles]; Amount: " + client.Entity.RareMaterialsAmount + "\n");
                                            dialog.Text("\t\t\t\tRewards: 30 Study Points, 120 minutes of EXP and 1 Chi Token.\n");
                                            dialog.Text("\t\t\t\t-----------------------");

                                            dialog.Option("Hand~in~the~item.", 19);
                                            dialog.Option("Change~the~required~amount.", 20);
                                            dialog.Option("Directly~complete~it.", 21);
                                            dialog.Option("I~need~to~think~it~over.", 255);
                                            dialog.Avatar(84);
                                        }
                                        break;
                                    }
                                case 26:
                                    {
                                        client.Entity.Teleport(9979, 60, 53);
                                        if (!client.Quests.HasQuest(QuestID.HeavenTreasury) || client.Quests.GetQuest(QuestID.HeavenTreasury) == null)
                                        {
                                            client.Quests.Accept(QuestID.HeavenTreasury);
                                        }
                                        client.MessageBox("You~entered~the~Heaven~Treasury!~Go~pick~a~Mystery~Chest!");
                                        break;
                                    }
                                case 19:
                                    {
                                        if (client.Inventory.Contains(client.Entity.RareMaterialsItemID, client.Entity.RareMaterialsAmount))
                                        {
                                            client.Inventory.Remove(client.Entity.RareMaterialsItemID, client.Entity.RareMaterialsAmount);
                                            client.Entity.RareMaterialsAmount = 0;
                                            client.Entity.RareMaterialsItemID = 0;
                                            client.Entity.SubClasses.StudyPoints += 30;
                                            client.IncreaseExperience(client.ExpBall * 2, false);
                                            client.Inventory.Add(729304, 0, 1);
                                            _String str = new _String(true);
                                            str.UID = client.Entity.UID;
                                            str.TextsCount = 1;
                                            str.Type = _String.Effect;
                                            str.Texts.Add("end_task");
                                            client.SendScreen(str, true);
                                            if (!client.Quests.HasQuest(QuestID.RareMaterials) || client.Quests.GetQuest(QuestID.RareMaterials) == null)
                                            {
                                                client.Quests.Accept(QuestID.RareMaterials);
                                            }
                                            client.Quests.FinishQuest(QuestID.RareMaterials);
                                            client.Activenes.SendSinglePacket(client, Activeness.Types.DailyQuestTask, client.Activenes.DailyQuestCompletedTimes(client));
                                        }
                                        else
                                        {
                                            client.MessageBox("Sorry But You Don't Have " + client.Entity.RareMaterialsAmount + " Saddle!");
                                        }
                                        break;
                                    }
                                case 21:
                                    {
                                        dialog.Text("If you would like to pay 5 CPs, you can directly claim the rewards without collecting the items for me.");

                                        dialog.Option("Pay~5~CPs~to~complete~it.", 22);
                                        dialog.Option("I`ll~think~about~it.", 255);
                                        dialog.Avatar(84);
                                        break;
                                    }
                                case 22:
                                    {
                                        if (client.Entity.ConquerPoints >= 5)
                                        {
                                            client.Entity.RareMaterialsAmount = 0;
                                            client.Entity.RareMaterialsItemID = 0;
                                            client.Entity.SubClasses.StudyPoints += 30;
                                            client.IncreaseExperience(client.ExpBall * 2, false);
                                            client.Inventory.Add(729304, 0, 1);
                                            _String str = new _String(true);
                                            str.UID = client.Entity.UID;
                                            str.TextsCount = 1;
                                            str.Type = _String.Effect;
                                            str.Texts.Add("end_task");
                                            client.SendScreen(str, true);
                                            client.Entity.ConquerPoints -= 5;
                                            if (!client.Quests.HasQuest(QuestID.RareMaterials) || client.Quests.GetQuest(QuestID.RareMaterials) == null)
                                            {
                                                client.Quests.Accept(QuestID.RareMaterials);
                                            }
                                            client.Quests.FinishQuest(QuestID.RareMaterials);
                                            client.Activenes.SendSinglePacket(client, Activeness.Types.DailyQuestTask, client.Activenes.DailyQuestCompletedTimes(client));
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry, but you don`t have enough CPs.");
                                            dialog.Option("Ok.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 20:
                                    {
                                        if (client.RacePoints >= 200)
                                        {
                                            byte val = new byte[] { 5, 10, 15, 20, 25, 30, 35, 40, 45, 50}[(byte)Kernel.Random.Next(0, 10)];
                                            client.Entity.RareMaterialsAmount = val;
                                            client.Entity.RareMaterialsItemID = 723903;
                                            dialog.Text("    \t\t\t\t\t\t\t\t\tRare Materials\n");
                                            dialog.Text("\t\t\t\t-----------------------\n");
                                            dialog.Text("\t\t\t\tItem: [Saddles]; Amount: " + client.Entity.RareMaterialsAmount + "\n");
                                            dialog.Text("\t\t\t\tRewards: 30 Study Points, 120 minutes of EXP and 1 Chi Token.\n");
                                            dialog.Text("\t\t\t\t-----------------------");

                                            dialog.Option("Hand~in~the~item.", 19);
                                            dialog.Option("Change~the~required~amount.", 20);
                                            dialog.Option("Directly~complete~it.", 21);
                                            dialog.Option("I~need~to~think~it~over.", 255);
                                            dialog.Avatar(84);
                                            client.RacePoints -= 200;
                                        }
                                        else
                                        {
                                            dialog.Text("I won`t change my mind if you don`t have 200 Horse Racing Points!");

                                            dialog.Option("Alright.", 255);
                                            dialog.Avatar(84);
                                        }
                                        break;
                                    }
                                case 11:
                                    {
                                        if (!client.Inventory.Contains(729087, 1))
                                        {
                                            client.Inventory.Add(729087, 0, 1);
                                            byte val = new byte[] { 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95, 100, 105, 110, 115, 120 }[(byte)Kernel.Random.Next(0, 24)];
                                           
                                            int r = Kernel.Random.Next(1, 13);
                                            if (r == 1)
                                            {
                                                client.Entity.ETHAPItemID = 729090;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 2)
                                            {
                                                client.Entity.ETHAPItemID = 729088;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 3)
                                            {
                                                client.Entity.ETHAPItemID = 729091;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 4)
                                            {
                                                client.Entity.ETHAPItemID = 729092;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 5)
                                            {
                                                client.Entity.ETHAPItemID = 729089;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 6)
                                            {
                                                client.Entity.ETHAPItemID = 729093;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 7)
                                            {
                                                client.Entity.ETHAPItemID = 729094;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 8)
                                            {
                                                client.Entity.ETHAPItemID = 729095;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 9)
                                            {
                                                client.Entity.ETHAPItemID = 729096;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 10)
                                            {
                                                client.Entity.ETHAPItemID = 729098;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 11)
                                            {
                                                client.Entity.ETHAPItemID = 729099;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 12)
                                            {
                                                client.Entity.ETHAPItemID = 729100;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 12)
                                            {
                                                client.Entity.ETHAPItemID = 729101;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 13)
                                            {
                                                client.Entity.ETHAPItemID = 729102;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (!client.Quests.HasQuest(QuestID.EveryThingHasAPrice) || client.Quests.GetQuest(QuestID.EveryThingHasAPrice) == null)
                                            {
                                                client.Quests.Accept(QuestID.EveryThingHasAPrice);
                                            }
                                            dialog.Text("\t\t\t\t\t\t\t\t\t\tItem List\n");
                                            dialog.Text("\t\t\t،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ\n");
                                            dialog.Text("\t\t\tItem: [" + Database.ConquerItemInformation.BaseInformations[client.Entity.ETHAPItemID].Name + "]\n");
                                            dialog.Text("\t\t\tAmount: [" + client.Entity.ETHAPItemAmount + "]\n");
                                            dialog.Text("\t\t\tMonster: " + GetMonsterNameFromItemID(client.Entity.ETHAPItemID) + "\n");
                                            dialog.Text("\t\t\tLocation: " + GetLocationFromItemID(client.Entity.ETHAPItemID) + "\n");
                                            dialog.Text("\t\t\t،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ\n");

                                            dialog.Option("Hand~in~items.", 12);
                                            dialog.Option("Change~the~item.~(1~CP)", 13);
                                            dialog.Option("Pay~50~CPs~to~complete~it.", 14);
                                            dialog.Option("Claim~a~list.", 15);
                                            dialog.Option("What`s~the~reward?", 16);
                                            dialog.Option("Leave.", 255);
                                            dialog.Avatar(84);
                                        }
                                        break;

                                    }
                                case 13:
                                    {
                                        if (client.Entity.ConquerPoints >= 1)
                                        {
                                            int r = Kernel.Random.Next(1, 13);
                                            byte val = new byte[] { 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95, 100, 105, 110, 115, 120 }[(byte)Kernel.Random.Next(0, 24)];
                                            if (r == 1)
                                            {
                                                client.Entity.ETHAPItemID = 729090;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 2)
                                            {
                                                client.Entity.ETHAPItemID = 729088;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 3)
                                            {
                                                client.Entity.ETHAPItemID = 729091;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 4)
                                            {
                                                client.Entity.ETHAPItemID = 729092;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 5)
                                            {
                                                client.Entity.ETHAPItemID = 729089;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 6)
                                            {
                                                client.Entity.ETHAPItemID = 729093;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 7)
                                            {
                                                client.Entity.ETHAPItemID = 729094;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 8)
                                            {
                                                client.Entity.ETHAPItemID = 729095;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 9)
                                            {
                                                client.Entity.ETHAPItemID = 729096;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 10)
                                            {
                                                client.Entity.ETHAPItemID = 729098;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 11)
                                            {
                                                client.Entity.ETHAPItemID = 729099;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 12)
                                            {
                                                client.Entity.ETHAPItemID = 729100;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 12)
                                            {
                                                client.Entity.ETHAPItemID = 729101;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (r == 13)
                                            {
                                                client.Entity.ETHAPItemID = 729102;
                                                client.Entity.ETHAPItemAmount = val;
                                            }
                                            if (!client.Quests.HasQuest(QuestID.EveryThingHasAPrice) || client.Quests.GetQuest(QuestID.EveryThingHasAPrice) == null)
                                            {
                                                client.Quests.Accept(QuestID.EveryThingHasAPrice);
                                            }
                                            dialog.Text("\t\t\t\t\t\t\t\t\t\tItem List\n");
                                            dialog.Text("\t\t\t،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ\n");
                                            dialog.Text("\t\t\tItem: [" + Database.ConquerItemInformation.BaseInformations[client.Entity.ETHAPItemID].Name + "]\n");
                                            dialog.Text("\t\t\tAmount: [" + client.Entity.ETHAPItemAmount + "]\n");
                                            dialog.Text("\t\t\tMonster: " + GetMonsterNameFromItemID(client.Entity.ETHAPItemID) + "\n");
                                            dialog.Text("\t\t\tLocation: " + GetLocationFromItemID(client.Entity.ETHAPItemID) + "\n");
                                            dialog.Text("\t\t\t،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ،ھ\n");

                                            dialog.Option("Hand~in~items.", 12);
                                            dialog.Option("Change~the~item.~(1~CP)", 13);
                                            dialog.Option("Pay~50~CPs~to~complete~it.", 14);
                                            dialog.Option("Claim~a~list.", 15);
                                            dialog.Option("What`s~the~reward?", 16);
                                            dialog.Option("Leave.", 255);
                                            dialog.Avatar(84);
                                            client.Entity.ConquerPoints -= 1;

                                        }
                                        else
                                        {
                                            dialog.Text("Sorry, but you don`t have enough CPs.");
                                            dialog.Option("Ok.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 15:
                                    {
                                        if (!client.Inventory.Contains(729087, 1))
                                            client.Inventory.Add(729087, 0, 1);
                                        break;
                                    }
                                case 16:
                                    {
                                        dialog.Text("Level 60 - 80: 180 minutes of EXP, 50 Study Points and a Chi Token\n");
                                        dialog.Text("Level 81 - 100: 240 minutes of EXP, 50 Study Points and a Chi Token\n");
                                        dialog.Text("Level 101 - 110: 300 minutes of EXP, 50 Study Points and a Chi Token\n");
                                        dialog.Text("Level 111 - 120: 360 minutes of EXP, 50 Study Points and a Chi Token\n");
                                        dialog.Text("Level 121 - 130: 480 minutes of EXP, 50 Study Points and a Chi Token\n");
                                        dialog.Text("Level 131+: 600 minutes of EXP, 50 Study Points and a Chi Token\n");

                                        dialog.Option("Leave.", 255);
                                        dialog.Avatar(84);
                                        break;
                                    }
                                case 17:
                                    {
                                        if (client.Entity.Level >= 70)
                                        {
                                            client.Entity.Teleport(1000, 539, 649);
                                        }
                                        else
                                        {
                                            dialog.Text("Hey, you are still too green! Keep practicing, and come back when you reach Level 70.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 12:
                                    {
                                        if (client.Inventory.Contains(client.Entity.ETHAPItemID, client.Entity.ETHAPItemAmount))
                                        {
                                            client.Inventory.Remove(client.Entity.ETHAPItemID, client.Entity.ETHAPItemAmount);
                                            client.Entity.ETHAPItemAmount = 0;
                                            client.Entity.ETHAPItemID = 0;
                                            if (client.Entity.Level >= 60 && client.Entity.Level <= 80)
                                            {
                                                client.IncreaseExperience(client.ExpBall * 3, false);
                                            }
                                            if (client.Entity.Level >= 81 && client.Entity.Level <= 100)
                                            {
                                                client.IncreaseExperience(client.ExpBall * 4, false);
                                            }
                                            if (client.Entity.Level >= 101 && client.Entity.Level <= 110)
                                            {
                                                client.IncreaseExperience(client.ExpBall * 5, false);
                                            }
                                            if (client.Entity.Level >= 111 && client.Entity.Level <= 120)
                                            {
                                                client.IncreaseExperience(client.ExpBall * 6, false);
                                            }
                                            if (client.Entity.Level >= 121 && client.Entity.Level <= 130)
                                            {
                                                client.IncreaseExperience(client.ExpBall * 8, false);
                                            }
                                            if (client.Entity.Level >= 131 && client.Entity.Level <= 140)
                                            {
                                                client.IncreaseExperience(client.ExpBall * 10, false);
                                            }
                                            client.Entity.SubClasses.StudyPoints += 50;
                                            client.Inventory.Add(729304, 0, 1);
                                            _String str = new _String(true);
                                            str.UID = client.Entity.UID;
                                            str.TextsCount = 1;
                                            str.Type = _String.Effect;
                                            str.Texts.Add("end_task");
                                            client.SendScreen(str, true);
                                            if (!client.Quests.HasQuest(QuestID.EveryThingHasAPrice) || client.Quests.GetQuest(QuestID.EveryThingHasAPrice) == null)
                                            {
                                                client.Quests.Accept(QuestID.EveryThingHasAPrice);
                                            }
                                            client.Quests.FinishQuest(QuestID.EveryThingHasAPrice);
                                            client.Activenes.SendSinglePacket(client, Activeness.Types.DailyQuestTask, client.Activenes.DailyQuestCompletedTimes(client));
                                            if (client.Inventory.Contains(729087, 1))
                                            {
                                                client.Inventory.Remove(729087, 1);
                                            }
                                        }
                                        else
                                        {
                                            client.MessageBox("You Don't Have " + client.Entity.ETHAPItemAmount + "");
                                        }
                                        break;
                                    }
                                case 14:
                                    {
                                        if (client.Entity.ConquerPoints >= 50)
                                        {
                                            client.Entity.ConquerPoints -= 50;
                                            client.Entity.ETHAPItemAmount = 0;
                                            client.Entity.ETHAPItemID = 0;
                                            if (client.Entity.Level >= 60 && client.Entity.Level <= 80)
                                            {
                                                client.IncreaseExperience(client.ExpBall * 3, false);
                                            }
                                            if (client.Entity.Level >= 81 && client.Entity.Level <= 100)
                                            {
                                                client.IncreaseExperience(client.ExpBall * 4, false);
                                            }
                                            if (client.Entity.Level >= 101 && client.Entity.Level <= 110)
                                            {
                                                client.IncreaseExperience(client.ExpBall * 5, false);
                                            }
                                            if (client.Entity.Level >= 111 && client.Entity.Level <= 120)
                                            {
                                                client.IncreaseExperience(client.ExpBall * 6, false);
                                            }
                                            if (client.Entity.Level >= 121 && client.Entity.Level <= 130)
                                            {
                                                client.IncreaseExperience(client.ExpBall * 8, false);
                                            }
                                            if (client.Entity.Level >= 131 && client.Entity.Level <= 140)
                                            {
                                                client.IncreaseExperience(client.ExpBall * 10, false);
                                            }
                                            client.Entity.SubClasses.StudyPoints += 50;
                                            client.Inventory.Add(729304, 0, 1);
                                            _String str = new _String(true);
                                            str.UID = client.Entity.UID;
                                            str.TextsCount = 1;
                                            str.Type = _String.Effect;
                                            str.Texts.Add("end_task");
                                            client.SendScreen(str, true);
                                            if (!client.Quests.HasQuest(QuestID.EveryThingHasAPrice) || client.Quests.GetQuest(QuestID.EveryThingHasAPrice) == null)
                                            {
                                                client.Quests.Accept(QuestID.EveryThingHasAPrice);
                                            }
                                            client.Quests.FinishQuest(QuestID.EveryThingHasAPrice);
                                            client.Activenes.SendSinglePacket(client, Activeness.Types.DailyQuestTask, client.Activenes.DailyQuestCompletedTimes(client));
                                            if (client.Inventory.Contains(729087, 1))
                                            {
                                                client.Inventory.Remove(729087, 1);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry, but you don`t have enough CPs.");
                                            dialog.Option("Ok.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 9:
                                    {
                                        if (client.Entity.ConquerPoints >= 270)
                                        {
                                            client.Quests.Reset(client, true);
                                            DailyQuestTable.Reset(client);
                                            client.Entity.ConquerPoints -= 270;
                                        }
                                        else
                                        {
                                            dialog.Text("Are you kidding me? You don`t have enough CPs! Talk to me again when you have the dough!");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region MagnoliaEnvoy
                    case 9897:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.Inventory.Contains(729306, 1) || client.Inventory.Contains(729307, 1) || client.Inventory.Contains(729308, 1) || client.Inventory.Contains(729309, 1) || client.Inventory.Contains(729310, 1))
                                        {
                                            dialog.Text("You already have 1 seed in your inventory. Go plant it in the Flower Bed in the garden.");

                                            dialog.Option("I~see.", 255);
                                            dialog.Avatar(113);
                                        }
                                        if (client.Quests.CheckQuest(QuestID.Magnolias) != QuestPacket.QuestData.QuestStatus.Finished)
                                        {
                                            dialog.Text("I`m here to deliver seeds, and I can also teleport you back to Twin City.");

                                            dialog.Option("Claim~1~seed.", 1);
                                            dialog.Option("Back~to~Twin~City.", 2);
                                            dialog.Option("I`m~just~passing~by.", 255);
                                            dialog.Avatar(113);
                                        }
                                        if (client.Quests.CheckQuest(QuestID.Magnolias) == QuestPacket.QuestData.QuestStatus.Finished)
                                        {
                                            dialog.Text("I don`t have any Magnolia Seeds. You`ll need to wait until tomorrow!");

                                            dialog.Option("Back~to~Twin~City.", 2);
                                            dialog.Option("I`m~just~passing~by.", 255);
                                            dialog.Avatar(113);
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        int r = Kernel.Random.Next(1, 6);
                                        if (r == 1)
                                            MagnoliaID = 729306;
                                        if (r == 2 && Kernel.Rate(30))
                                            MagnoliaID = 729307;
                                        if (r == 3 && Kernel.Rate(30))
                                            MagnoliaID = 729308;
                                        if (r == 4 && Kernel.Rate(10) && Kernel.Rate(10))
                                        {
                                            foreach (var player in Kernel.GamePool.Values)
                                            {
                                                player.Send(new Message(client.Entity.Name + " changed seeds and a Elite Seed appeared!", Color.WhiteSmoke, Message.Talk));
                                            }
                                            MagnoliaID = 729309;
                                        }
                                        if (r == 5 && Kernel.Rate(5) && Kernel.Rate(5))
                                        {
                                            foreach (var player in Kernel.GamePool.Values)
                                            {
                                                player.Send(new Message(client.Entity.Name + " changed seeds and a Super Seed appeared!", Color.WhiteSmoke, Message.Talk));
                                            }
                                            MagnoliaID = 729310;
                                        }
                                        dialog.Text("" + Database.ConquerItemInformation.BaseInformations[MagnoliaID].Name + "\n");
                                        dialog.Text(" ");
                                        dialog.Text("¥û\n");

                                        dialog.Option("Claim~the~seed.", 3);
                                        dialog.Option("Another~seed.~(1~CP)", 4);
                                        dialog.Option("Another~seed.~(25~Study~Points)", 5);
                                        dialog.Option("Buy~1~Super~seed.~(100~CPs)", 6);
                                        dialog.Option("I`ll~think~about~it.", 255);
                                        dialog.Avatar(113);
                                        break;
                                    }
                                case 3:
                                    {
                                        if (client.Inventory.Count <= 39)
                                        {
                                            client.Inventory.Add(MagnoliaID, 0, 1);
                                            if (!client.Quests.HasQuest(QuestID.Magnolias) || client.Quests.GetQuest(QuestID.Magnolias) == null)
                                            {
                                                client.Quests.Accept(QuestID.Magnolias);
                                            }
                                            client.MessageBox("You~received~1~" + Database.ConquerItemInformation.BaseInformations[MagnoliaID].Name + "!~Go~plant~it~in~the~garden!");
                                        }
                                        break;
                                    }
                                case 4:
                                    {
                                        if (client.Entity.ConquerPoints >= 1)
                                        {
                                            client.Entity.ConquerPoints -= 1;
                                            int r = Kernel.Random.Next(1, 5);
                                            if (r == 1)
                                                MagnoliaID = 729306;
                                            if (r == 2 && Kernel.Rate(30))
                                                MagnoliaID = 729307;
                                            if (r == 3 && Kernel.Rate(30))
                                                MagnoliaID = 729308;
                                            if (r == 4 && Kernel.Rate(10) && Kernel.Rate(10))
                                            {
                                                foreach (var player in Kernel.GamePool.Values)
                                                {
                                                    player.Send(new Message(client.Entity.Name + " changed seeds and a Elite Seed appeared!", Color.WhiteSmoke, Message.Talk));
                                                }
                                                MagnoliaID = 729309;
                                            }
                                            if (r == 5 && Kernel.Rate(5) && Kernel.Rate(5))
                                            {
                                                foreach (var player in Kernel.GamePool.Values)
                                                {
                                                    player.Send(new Message(client.Entity.Name + " changed seeds and a Super Seed appeared!", Color.WhiteSmoke, Message.Talk));
                                                }
                                                MagnoliaID = 729310;
                                            }
                                            dialog.Text("" + Database.ConquerItemInformation.BaseInformations[MagnoliaID].Name + "\n");
                                            dialog.Text(" ");
                                            dialog.Text("¥û\n");

                                            dialog.Option("Claim~the~seed.", 3);
                                            dialog.Option("Another~seed.~(1~CP)", 4);
                                            dialog.Option("Another~seed.~(25~Study~Points)", 5);
                                            dialog.Option("Buy~1~Super~seed.~(100~CPs)", 6);
                                            dialog.Option("I`ll~think~about~it.", 255);
                                            dialog.Avatar(113);
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry, but you don`t have enough CPs.");
                                            dialog.Option("Ok.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 5:
                                    {
                                        if (client.Entity.SubClasses.StudyPoints >= 25)
                                        {
                                            client.Entity.SubClasses.StudyPoints -= 25;
                                            int r = Kernel.Random.Next(1, 5);
                                            if (r == 1)
                                                MagnoliaID = 729306;
                                            if (r == 2 && Kernel.Rate(30))
                                                MagnoliaID = 729307;
                                            if (r == 3 && Kernel.Rate(30))
                                                MagnoliaID = 729308;
                                            if (r == 4 && Kernel.Rate(10) && Kernel.Rate(10))
                                            {
                                                foreach (var player in Kernel.GamePool.Values)
                                                {
                                                    player.Send(new Message(client.Entity.Name + " changed seeds and a Elite Seed appeared!", Color.WhiteSmoke, Message.Talk));
                                                }
                                                MagnoliaID = 729309;
                                            }
                                            if (r == 5 && Kernel.Rate(5) && Kernel.Rate(5))
                                            {
                                                foreach (var player in Kernel.GamePool.Values)
                                                {
                                                    player.Send(new Message(client.Entity.Name + " changed seeds and a Super Seed appeared!", Color.WhiteSmoke, Message.Talk));
                                                }
                                                MagnoliaID = 729310;
                                            }
                                            dialog.Text("" + Database.ConquerItemInformation.BaseInformations[MagnoliaID].Name + "\n");
                                            dialog.Text(" ");
                                            dialog.Text("¥û\n");

                                            dialog.Option("Claim~the~seed.", 3);
                                            dialog.Option("Another~seed.~(1~CP)", 4);
                                            dialog.Option("Another~seed.~(25~Study~Points)", 5);
                                            dialog.Option("Buy~1~Super~seed.~(100~CPs)", 6);
                                            dialog.Option("I`ll~think~about~it.", 255);
                                            dialog.Avatar(113);
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry, but you don`t have enough Study Points.");
                                            dialog.Option("Ok.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 6:
                                    {
                                        if (client.Inventory.Contains(729306, 1) || client.Inventory.Contains(729307, 1) || client.Inventory.Contains(729308, 1) || client.Inventory.Contains(729309, 1) || client.Inventory.Contains(729310, 1))
                                        {
                                            client.MessageBox("You Already Have A Seed");
                                        }
                                        else
                                        {
                                            if (client.Entity.ConquerPoints >= 100)
                                            {
                                                if (client.Inventory.Count <= 39)
                                                {
                                                    client.Inventory.Add(729310, 0, 1);
                                                    client.Entity.ConquerPoints -= 100;
                                                }
                                            }
                                            else
                                            {
                                                client.MessageBox("You Dont Have 100 CPs");
                                            }
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(client.Entity.PreviousMapID, client.Entity.PrevX, client.Entity.PrevY);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region GoodManLiu
                    case 9891:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Thanks for coming to the Ancestral Hall. They`re all the greatest Guild Leaders of all time!");

                                        dialog.Option("How~to~worship?", 1);
                                        dialog.Option("Back~to~Twin~City.", 2);
                                        dialog.Option("Indeed!", 255);
                                        dialog.Avatar(47);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("You just need to click on the incense burners in front of statues to worship Robin~, iEatBabies and ~*~PureHeart~*~. Each day, you only have one chance to worship one of them.");

                                        dialog.Option("Worship~xHolic.", 3);
                                        dialog.Option("Worship~Robin~.", 4);
                                        dialog.Option("Worship~*~PureHeart~*~.", 5);
                                        dialog.Option("Got~it.", 255);
                                        dialog.Avatar(47);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("xHolic is the leader of the 2nd Supreme Guild MakeMeFamous. Worshipping xHolic will bring you 60 minutes` EXP, 50 Study Points and 1 Chi Token.");

                                        dialog.Option("I~see.", 255);
                                        dialog.Avatar(47);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("Robin~ is the leader of the 1st Supreme Guild SkillzDatKillz. Worshipping Robin~ will bring you 5 hours` Blessing, 60 minutes` EXP and 1 Chi Token.");

                                        dialog.Option("I~see.", 255);
                                        dialog.Avatar(47);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        dialog.Text(" ~*~PureHeart~*~ is the leader of the 3rd Supreme Guild Seven?hH¨¦aven. Worshipping ~*~PureHeart~*~ will briing you 5 hours` Blessing, 50 Study Points and 1 Chi Token.");

                                        dialog.Option("I~see.", 255);
                                        dialog.Avatar(47);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(client.Entity.PreviousMapID, client.Entity.PrevX, client.Entity.PrevY);
                                        client.Send(new Message("You left the Ancesrtal Hall.", Color.Red, Message.Talk));
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Censers
                    case 9953:
                    case 9954:
                    case 9952:
                    case 9893:
                    case 9892:
                    case 9894:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.Quests.CheckQuest(QuestID.WorshipLeaders) == QuestPacket.QuestData.QuestStatus.Finished)
                                        {
                                            dialog.Text("You`ve worshipped today! Please come again tomorrow!");
                                            dialog.Option("Ok.", 255);
                                            dialog.Send();
                                            return;
                                        }
                                        INpc npc = null;
                                        if (!client.Map.Npcs.TryGetValue(client.ActiveNpc, out npc))
                                        {
                                            break;
                                        }
                                        if (Kernel.GetDistance(client.Entity.X, client.Entity.Y, npc.X, npc.Y) > 3)
                                        {
                                            client.MessageBox("Failed~to~worship~HuangDi.~Please~go~to~the~front~of~the~HuangDi~statue~to~worship.");
                                            return;
                                        }
                                        if (npcRequest.NpcID == 9953)
                                        {
                                            dialog.Text("Worshipping Nuwa~ will bring you 5 hours` Blessing, 60 minutes` EXP and 1 Chi Token. Continue?");

                                            dialog.Option("Yes.", 1);
                                            dialog.Option("No.", 255);
                                            dialog.Avatar(51);
                                            dialog.Send();
                                        }
                                        if (npcRequest.NpcID == 9893)
                                        {
                                            dialog.Text("HuangDi is the leader of the 2nd Supreme Guild MakeMeFamous. Worshipping HuangDi will bring you 60 minutes` EXP, 50 Study Points and 1 Chi Token.");

                                            dialog.Option("Worship~HuangDi.", 1);
                                            dialog.Option("Leave.", 255);
                                            dialog.Avatar(15);
                                            dialog.Send();
                                        }
                                        if (npcRequest.NpcID == 9894)
                                        {
                                            dialog.Text(" ~YanDi~ is the leader of the 3rd Supreme Guild Seven?hH¨¦aven. Worshipping ~YanDi~ will briing you 5 hours` Blessing, 50 Study Points and 1 Chi Token.");

                                            dialog.Option("Worship~YanDi~.", 1);
                                            dialog.Option("Leave.", 255);
                                            dialog.Avatar(51);
                                            dialog.Send();
                                        }
                                        if (npcRequest.NpcID == 9892)
                                        {
                                            dialog.Text("Nuwa~ is the leader of the 1st Supreme Guild SkillzDatKillz. Worshipping Nuwa~ will bring you 5 hours` Blessing, 60 minutes` EXP and 1 Chi Token.");

                                            dialog.Option("Worship~Nuwa~.", 1);
                                            dialog.Option("Leave.", 255);
                                            dialog.Avatar(123);
                                            dialog.Send();
                                        }
                                        if (npcRequest.NpcID == 9954)
                                        {
                                            dialog.Text("Worshipping ~YanDi~ will briing you 5 hours` Blessing, 50 Study Points and 1 Chi Token. Continue?");

                                            dialog.Option("Yes.", 1);
                                            dialog.Option("No.", 255);
                                            dialog.Avatar(51);
                                            dialog.Send();
                                        }
                                        if (npcRequest.NpcID == 9952)
                                        {
                                            dialog.Text("Worshipping HuangDi will bring you 60 minutes` EXP, 50 Study Points and 1 Chi Token. Continue?");

                                            dialog.Option("Yes.", 1);
                                            dialog.Option("No.", 255);
                                            dialog.Avatar(51);
                                            dialog.Send();
                                        }
                                        if (!client.Quests.HasQuest(QuestID.WorshipLeaders) || client.Quests.GetQuest(QuestID.WorshipLeaders) == null)
                                        {
                                            client.Quests.Accept(QuestID.WorshipLeaders);
                                        }
                                        break;
                                    }
                                case 1:
                                    {

                                        if (client.Quests.CheckQuest(QuestID.WorshipLeaders) != QuestPacket.QuestData.QuestStatus.Finished)
                                        {
                                            client.ProgressBar = new ProgressBar(client, "Sure!", p =>
                                                {
                                                    if (npcRequest.NpcID == 9953 || npcRequest.NpcID == 9893)
                                                    {
                                                        p.AddBless(5 * 60 * 60);
                                                        p.IncreaseExperience(p.ExpBall, false);
                                                        p.Inventory.Add(729304, 0, 1);
                                                        p.MessageBox("You~received~5~hours`~Blessing,~60~minutes`~EXP~and~1~Chi~Token~from~Robin~.", null, null, 0);
                                                    }
                                                    if (npcRequest.NpcID == 9954 || npcRequest.NpcID == 9894)
                                                    {
                                                        p.AddBless(5 * 60 * 60);
                                                        p.Entity.SubClasses.StudyPoints += 50;
                                                        p.Inventory.Add(729304, 0, 1);
                                                        p.MessageBox("You~received~50~Study~Points,~5~hours`~Blessing~and~1~Chi~Token~from~YanDi.");
                                                    }
                                                    if (npcRequest.NpcID == 9952 || npcRequest.NpcID == 9892)
                                                    {
                                                        p.IncreaseExperience(p.ExpBall, false);
                                                        p.Entity.SubClasses.StudyPoints += 50;
                                                        p.Inventory.Add(729304, 0, 1);
                                                        p.MessageBox("You~received~60~minutes`~EXP,~50~Study~Points~and~1~Chi~Token~from~HuangDi.");
                                                    }
                                                    if (!p.Quests.HasQuest(QuestID.WorshipLeaders) || p.Quests.GetQuest(QuestID.WorshipLeaders) == null)
                                                    {
                                                        p.Quests.Accept(QuestID.WorshipLeaders);
                                                    }
                                                    p.Quests.FinishQuest(QuestID.WorshipLeaders);
                                                    p.Activenes.SendSinglePacket(p, Activeness.Types.DailyQuestTask, p.Activenes.DailyQuestCompletedTimes(p));

                                                    Random Random = new Random();
                                                    int R = Random.Next(1, 5);
                                                    if (R == 1)
                                                    {
                                                        p.Entity.Update(10, "accession", true);
                                                    }
                                                    else if (R == 2)
                                                    {
                                                        p.Entity.Update(10, "accession1", true);
                                                    }
                                                    else if (R == 3)
                                                    {
                                                        p.Entity.Update(10, "accession2", true);
                                                    }
                                                    else if (R == 4)
                                                    {
                                                        p.Entity.Update(10, "accession3", true);
                                                    }
                                                    _String str = new _String(true);
                                                    str.UID = p.Entity.UID;
                                                    str.TextsCount = 1;
                                                    str.Type = _String.Effect;
                                                    str.Texts.Add("end_task");
                                                    p.SendScreen(str, true);
                                                }, "Sure!", 1);
                                        }
                                        else
                                        {
                                            dialog.Text("You`ve worshipped today! Please come again tomorrow!");
                                            dialog.Option("Ok.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region FairyCloud
                    case 16060:
                    case 16050:
                    case 16070:
                    case 16080:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Wow, you`re so lucky to enter the Heaven Treasury! Let me introduce you the rules here.");
                                        dialog.Text("~You can open one Mystery Chest in the Treasury, free of charge. Once opened, the chest will disappear. For other chests, you need to use CPs or the Heaven Keys to open them.");
                                        dialog.Text("~Of course, the rewards will be better and better. Oh, if you`re a Jiang Hu fighter, you`ll also get a special reward.");

                                        dialog.Option("Learn~about~opening~chests.", 1);
                                        dialog.Option("Send~me~to~Twin~City.", 2);
                                        dialog.Option("What`re~in~those~chests?", 3);
                                        dialog.Option("I~see.", 255);
                                        dialog.Avatar(233);
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("You can open one Mystery Chest for free, once in a day. For the other chests, you need to use CPs");
                                        dialog.Text("~or the Heaven Keys to open. If you decide to pay CPs, the charge is, in order, 5 CPs, 20 CPs, 35 CPs and 100 CPs. While if you have a Heaven Key, ");
                                        dialog.Text("~you can open a chest worth 5 - 100 CPs. However, you can use up to 2 Heaven Keys in a day. Each 3 Heaven Key Scraps that you may obtain from the Mystery Chests");
                                        dialog.Text("~can be combined into a Heaven Key.");

                                        dialog.Option("Learn~about~other~rules.", 0);
                                        dialog.Option("I~see.", 255);
                                        dialog.Avatar(233);
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Entity.Teleport(1002, 254, 235);
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("1st Time: 60 minutes of EXP, 10 Study Points, 1 Chi Token and 1 Heaven Key Scrap;\n");
                                        dialog.Text("2nd Time: 60 minutes of EXP, 30 Chi Points;\n");
                                        dialog.Text("3rd Time: 60 minutes of EXP, 100 Study Points and 60 Chi Points;\n");
                                        dialog.Text("4th Time: 60 minutes of EXP, 150 Study Points and 100 Chi Points;\n");

                                        dialog.Option("What`s~for~Jiang~Hu~fighters.", 4);
                                        dialog.Option("Learn~about~other~rules.", 0);
                                        dialog.Option("I~see.", 255);
                                        dialog.Avatar(233);
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("1st Time Extra Reward: 1 Talent point;\n");
                                        dialog.Text("2nd Time Extra Reward: 1 Talent point and 1 Free Course;\n");
                                        dialog.Text("3rd Time Extra Reward: 1 Talent point and 1 Free Course;\n");
                                        dialog.Text("4th Time Extra Reward: 1 Talent point, 1 Super Protection Pill and 1 Free Course;\n");

                                        dialog.Option("Learn~about~other~rules.", 0);
                                        dialog.Option("I~see.", 255);
                                        dialog.Avatar(233);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region MysteryCheasts
                    case 16051:
                    case 16052:
                    case 16053:
                    case 16054:
                    case 16055:
                    case 16061:
                    case 16062:
                    case 16063:
                    case 16064:
                    case 16071:
                    case 16072:
                    case 16073:
                    case 16081:
                    case 16082:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.Entity.MapID == 9979)
                                        {
                                            dialog.Text("Are you ready to harvest fortune from the Mystery Chest? Waste no time, and go for it!");
                                            dialog.Text("After opening the chest, you`ll receive 60 minutes of EXP, 10 Study Points, 1 Chi Token and 1 Heaven Key Scrap. If you`re a Jiang Hu fighter, you`ll also get 1 Talent point.");

                                            dialog.Option("Open~the~chest.", 1);
                                            dialog.Option("Wait,~I`m~not~ready~yet!", 255);
                                            dialog.Avatar(233);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.MapID == 9980)
                                        {
                                            dialog.Text("Well, it`s the 2nd time you want to open a Mystery Chest. You need to pay 5 CPs or use the Heaven Key to open the chest.");
                                            dialog.Text("You`ll receive 60 minutes of EXP and 30 Chi Points from the chest. If you`re a Jiang Hu fighter, you`ll also receive 1 Free Course and 1 Talent point.");

                                            dialog.Option("Open~the~chest~with~5~CPs.", 3);
                                            dialog.Option("Use~the~Heaven~Key.", 1);
                                            dialog.Option("Let~me~think~about~it.", 255);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.MapID == 9981)
                                        {
                                            dialog.Text("Well, it`s the 3rd time you want to open a Mystery Chest. You need to pay 20 CPs or use the Heaven Key to open the chest.");
                                            dialog.Text("You`ll receive 60 minutes of EXP, 100 Study Points and 60 Chi Points from the chest. If you`re a Jiang Hu fighter, you`ll also receive 1 Free Course and 1 Talent point.");

                                            dialog.Option("Open~the~chest~with~20~CPs!", 4);
                                            dialog.Option("Use~the~Heaven~Key.", 1);
                                            dialog.Option("Let~me~think~about~it.", 255);
                                            dialog.Send();
                                        }
                                        else if (client.Entity.MapID == 9982)
                                        {
                                            dialog.Text("Well, it`s the 4th time you want to open a Mystery Chest. You need to pay 100 CPs or use the Heaven Key to open the chest.");
                                            dialog.Text("You`ll receive 60 minutes of EXP, 100 Study Points and 60 Chi Points from the chest. If you`re a Jiang Hu fighter, you`ll also receive 1 Free Course and 1 Talent point.");

                                            dialog.Option("Open~the~chest~with~100~CPs!", 5);
                                            dialog.Option("Use~the~Heaven~Key.", 1);
                                            dialog.Option("Let~me~think~about~it.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("Are you ready to embrace wealth coming from the Mystery Chests? Waste no time, and go for it!");

                                        dialog.Option("Open~the~chest.", 2);
                                        dialog.Option("Wait,~I`m~not~ready~yet!", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        if (client.Inventory.Contains(3002308, 1) || !client.Entity.DidFirstHeavenTreasury)
                                        {
                                            if (client.Inventory.Contains(3002308, 1))
                                                client.Inventory.Remove(3002308, 1);
                                            if (client.Entity.MapID == 9979)
                                            {
                                                if (client.Entity.MyJiang != null)
                                                {
                                                    if (client.Entity.MyJiang.Talent < 4)
                                                    {
                                                        client.Entity.MyJiang.Talent++;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTalent, client.Entity.UID.ToString(), client.Entity.MyJiang.Talent.ToString());
                                                    }
                                                }
                                                client.Inventory.Add(3002307, 0, 1);
                                                client.IncreaseExperience(client.ExpBall, false);
                                                client.Inventory.Add(729304, 0, 1);
                                                client.Entity.SubClasses.StudyPoints += 10;
                                                client.Send(new Network.GamePackets.SubClassShowFull(true) { ID = 8, Study = client.Entity.SubClasses.StudyPoints, StudyReceive = 10 }.ToArray());
                                                Network.GamePackets._String str3 = new Network.GamePackets._String(true)
                                                {
                                                    Type = 10,
                                                    UID = client.Entity.UID
                                                };
                                                str3.Texts.Add("zf2-e300");
                                                client.SendScreen(str3.ToArray(), true);
                                                if (client.Quests.GetQuest(QuestID.HeavenTreasury) == null || client.Quests.GetQuest(QuestID.HeavenTreasury).QItem.Status == QuestPacket.QuestData.QuestStatus.Available)
                                                    client.Quests.Accept(QuestID.HeavenTreasury);
                                                client.Quests.FinishQuest(QuestID.HeavenTreasury);
                                            }
                                            if (client.Entity.MapID == 9980)
                                            {
                                                if (client.Entity.MyJiang != null)
                                                {
                                                    if (client.Entity.MyJiang.Talent < 4)
                                                    {
                                                        client.Entity.MyJiang.FreeCourse += 10000;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTime, client.Entity.MyJiang.FreeCourse.ToString(), client.Entity.MyJiang.Time.ToString());
                                                        client.Entity.MyJiang.Talent++;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTalent, client.Entity.UID.ToString(), client.Entity.MyJiang.Talent.ToString());
                                                    }
                                                }
                                                client.IncreaseExperience(client.ExpBall, false);
                                                client.ChiPoints += 30;
                                            }
                                            if (client.Entity.MapID == 9981)
                                            {
                                                if (client.Entity.MyJiang != null)
                                                {
                                                    if (client.Entity.MyJiang.Talent < 4)
                                                    {
                                                        client.Entity.MyJiang.FreeCourse += 10000;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTime, client.Entity.MyJiang.FreeCourse.ToString(), client.Entity.MyJiang.Time.ToString());
                                                        client.Entity.MyJiang.Talent++;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTalent, client.Entity.UID.ToString(), client.Entity.MyJiang.Talent.ToString());
                                                    }
                                                }
                                                client.IncreaseExperience(client.ExpBall, false);
                                                client.ChiPoints += 60;
                                                client.Entity.SubClasses.StudyPoints += 100;
                                                client.Send(new Network.GamePackets.SubClassShowFull(true) { ID = 8, Study = client.Entity.SubClasses.StudyPoints, StudyReceive = 100 }.ToArray());
                                                Network.GamePackets._String str3 = new Network.GamePackets._String(true)
                                                {
                                                    Type = 10,
                                                    UID = client.Entity.UID
                                                };
                                                str3.Texts.Add("zf2-e300");
                                                client.SendScreen(str3.ToArray(), true);
                                            }
                                            if (client.Entity.MapID == 9982)
                                            {
                                                if (client.Entity.MyJiang != null)
                                                {
                                                    if (client.Entity.MyJiang.Talent < 4)
                                                    {
                                                        client.Inventory.Add(3002030, 0, 1);
                                                        client.Entity.MyJiang.FreeCourse += 10000;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTime, client.Entity.MyJiang.FreeCourse.ToString(), client.Entity.MyJiang.Time.ToString());
                                                        client.Entity.MyJiang.Talent++;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTalent, client.Entity.UID.ToString(), client.Entity.MyJiang.Talent.ToString());
                                                    }
                                                }
                                                client.IncreaseExperience(client.ExpBall, false);
                                                client.ChiPoints += 100;
                                                client.Entity.SubClasses.StudyPoints += 150;
                                                client.Send(new Network.GamePackets.SubClassShowFull(true) { ID = 8, Study = client.Entity.SubClasses.StudyPoints, StudyReceive = 150 }.ToArray());
                                                Network.GamePackets._String str3 = new Network.GamePackets._String(true)
                                                {
                                                    Type = 10,
                                                    UID = client.Entity.UID
                                                };
                                                str3.Texts.Add("zf2-e300");
                                                client.SendScreen(str3.ToArray(), true);
                                                client.Entity.Teleport(1002, 300, 278);
                                                client.Activenes.SendSinglePacket(client, Activeness.Types.DailyQuestTask, client.Activenes.DailyQuestCompletedTimes(client));
                                                break;
                                            }
                                            client.Entity.Teleport((ushort)(client.Entity.MapID + 1), 59, 53);
                                            _String str = new _String(true);
                                            str.UID = client.Entity.UID;
                                            str.TextsCount = 1;
                                            str.Type = _String.Effect;
                                            client.Activenes.SendSinglePacket(client, Activeness.Types.DailyQuestTask, client.Activenes.DailyQuestCompletedTimes(client));
                                            str.Texts.Add("end_task");
                                            client.SendScreen(str, true);
                                            client.Entity.DidFirstHeavenTreasury = true;
                                        }
                                        else
                                        {
                                            dialog.Text("You don`t have a Heaven Key to open the Mystery Chest.");
                                            dialog.Option("I~see.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 3:
                                    {
                                        if (client.Entity.ConquerPoints >= 5)
                                        {
                                            client.Entity.ConquerPoints -= 5;
                                            if (client.Entity.MapID == 9979)
                                            {
                                                if (client.Entity.MyJiang != null)
                                                {
                                                    if (client.Entity.MyJiang.Talent < 4)
                                                    {
                                                        client.Entity.MyJiang.Talent++;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTalent, client.Entity.UID.ToString(), client.Entity.MyJiang.Talent.ToString());
                                                    }
                                                }
                                                client.Inventory.Add(3002307, 0, 1);
                                                client.IncreaseExperience(client.ExpBall, false);
                                                client.Inventory.Add(729304, 0, 1);
                                                client.Entity.SubClasses.StudyPoints += 10;
                                                client.Send(new Network.GamePackets.SubClassShowFull(true) { ID = 8, Study = client.Entity.SubClasses.StudyPoints, StudyReceive = 10 }.ToArray());
                                                Network.GamePackets._String str3 = new Network.GamePackets._String(true)
                                                {
                                                    Type = 10,
                                                    UID = client.Entity.UID
                                                };
                                                str3.Texts.Add("zf2-e300");
                                                client.SendScreen(str3.ToArray(), true);
                                                if (client.Quests.GetQuest(QuestID.HeavenTreasury) == null || client.Quests.GetQuest(QuestID.HeavenTreasury).QItem.Status == QuestPacket.QuestData.QuestStatus.Available)
                                                    client.Quests.Accept(QuestID.HeavenTreasury);
                                                client.Quests.FinishQuest(QuestID.HeavenTreasury);
                                            }
                                            if (client.Entity.MapID == 9980)
                                            {
                                                if (client.Entity.MyJiang != null)
                                                {
                                                    if (client.Entity.MyJiang.Talent < 4)
                                                    {
                                                        client.Entity.MyJiang.FreeCourse += 10000;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTime, client.Entity.MyJiang.FreeCourse.ToString(), client.Entity.MyJiang.Time.ToString());
                                                        client.Entity.MyJiang.Talent++;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTalent, client.Entity.UID.ToString(), client.Entity.MyJiang.Talent.ToString());
                                                    }
                                                }
                                                client.IncreaseExperience(client.ExpBall, false);
                                                client.ChiPoints += 30;
                                            }
                                            if (client.Entity.MapID == 9981)
                                            {
                                                if (client.Entity.MyJiang != null)
                                                {
                                                    if (client.Entity.MyJiang.Talent < 4)
                                                    {
                                                        client.Entity.MyJiang.FreeCourse += 10000;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTime, client.Entity.MyJiang.FreeCourse.ToString(), client.Entity.MyJiang.Time.ToString());
                                                        client.Entity.MyJiang.Talent++;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTalent, client.Entity.UID.ToString(), client.Entity.MyJiang.Talent.ToString());
                                                    }
                                                }
                                                client.IncreaseExperience(client.ExpBall, false);
                                                client.ChiPoints += 60;
                                                client.Entity.SubClasses.StudyPoints += 100;
                                                client.Send(new Network.GamePackets.SubClassShowFull(true) { ID = 8, Study = client.Entity.SubClasses.StudyPoints, StudyReceive = 100 }.ToArray());
                                                Network.GamePackets._String str3 = new Network.GamePackets._String(true)
                                                {
                                                    Type = 10,
                                                    UID = client.Entity.UID
                                                };
                                                str3.Texts.Add("zf2-e300");
                                                client.SendScreen(str3.ToArray(), true);
                                            }
                                            if (client.Entity.MapID == 9982)
                                            {
                                                if (client.Entity.MyJiang != null)
                                                {
                                                    if (client.Entity.MyJiang.Talent < 4)
                                                    {
                                                        client.Inventory.Add(3002030, 0, 1);
                                                        client.Entity.MyJiang.FreeCourse += 10000;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTime, client.Entity.MyJiang.FreeCourse.ToString(), client.Entity.MyJiang.Time.ToString());
                                                        client.Entity.MyJiang.Talent++;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTalent, client.Entity.UID.ToString(), client.Entity.MyJiang.Talent.ToString());
                                                    }
                                                }
                                                client.IncreaseExperience(client.ExpBall, false);
                                                client.ChiPoints += 100;
                                                client.Entity.SubClasses.StudyPoints += 150;
                                                client.Send(new Network.GamePackets.SubClassShowFull(true) { ID = 8, Study = client.Entity.SubClasses.StudyPoints, StudyReceive = 150 }.ToArray());
                                                Network.GamePackets._String str3 = new Network.GamePackets._String(true)
                                                {
                                                    Type = 10,
                                                    UID = client.Entity.UID
                                                };
                                                str3.Texts.Add("zf2-e300");
                                                client.SendScreen(str3.ToArray(), true);
                                                client.Entity.Teleport(1002, 300, 278);
                                                client.Activenes.SendSinglePacket(client, Activeness.Types.DailyQuestTask, client.Activenes.DailyQuestCompletedTimes(client));
                                                break;
                                            }
                                            client.Entity.Teleport((ushort)(client.Entity.MapID + 1), 59, 53);
                                            _String str = new _String(true);
                                            str.UID = client.Entity.UID;
                                            str.TextsCount = 1;
                                            str.Type = _String.Effect;
                                            client.Activenes.SendSinglePacket(client, Activeness.Types.DailyQuestTask, client.Activenes.DailyQuestCompletedTimes(client));
                                            str.Texts.Add("end_task");
                                            client.SendScreen(str, true);
                                            client.Entity.DidFirstHeavenTreasury = true;
                                        }
                                        else
                                        {
                                            dialog.Text("You don`t have enough Conquer Points to open the Mystery Chest.");
                                            dialog.Option("I~see.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 5:
                                    {
                                        if (client.Entity.ConquerPoints >= 100)
                                        {
                                            client.Entity.ConquerPoints -= 100;
                                            if (client.Entity.MapID == 9979)
                                            {
                                                if (client.Entity.MyJiang != null)
                                                {
                                                    if (client.Entity.MyJiang.Talent < 4)
                                                    {
                                                        client.Entity.MyJiang.Talent++;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTalent, client.Entity.UID.ToString(), client.Entity.MyJiang.Talent.ToString());
                                                    }
                                                }
                                                client.Inventory.Add(3002307, 0, 1);
                                                client.IncreaseExperience(client.ExpBall, false);
                                                client.Inventory.Add(729304, 0, 1);
                                                client.Entity.SubClasses.StudyPoints += 10;
                                                client.Send(new Network.GamePackets.SubClassShowFull(true) { ID = 8, Study = client.Entity.SubClasses.StudyPoints, StudyReceive = 10 }.ToArray());
                                                Network.GamePackets._String str3 = new Network.GamePackets._String(true)
                                                {
                                                    Type = 10,
                                                    UID = client.Entity.UID
                                                };
                                                str3.Texts.Add("zf2-e300");
                                                client.SendScreen(str3.ToArray(), true);
                                                if (client.Quests.GetQuest(QuestID.HeavenTreasury) == null || client.Quests.GetQuest(QuestID.HeavenTreasury).QItem.Status == QuestPacket.QuestData.QuestStatus.Available)
                                                    client.Quests.Accept(QuestID.HeavenTreasury);
                                                client.Quests.FinishQuest(QuestID.HeavenTreasury);
                                            }
                                            if (client.Entity.MapID == 9980)
                                            {
                                                if (client.Entity.MyJiang != null)
                                                {
                                                    if (client.Entity.MyJiang.Talent < 4)
                                                    {
                                                        client.Entity.MyJiang.FreeCourse += 10000;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTime, client.Entity.MyJiang.FreeCourse.ToString(), client.Entity.MyJiang.Time.ToString());
                                                        client.Entity.MyJiang.Talent++;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTalent, client.Entity.UID.ToString(), client.Entity.MyJiang.Talent.ToString());
                                                    }
                                                }
                                                client.IncreaseExperience(client.ExpBall, false);
                                                client.ChiPoints += 30;
                                            }
                                            if (client.Entity.MapID == 9981)
                                            {
                                                if (client.Entity.MyJiang != null)
                                                {
                                                    if (client.Entity.MyJiang.Talent < 4)
                                                    {
                                                        client.Entity.MyJiang.FreeCourse += 10000;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTime, client.Entity.MyJiang.FreeCourse.ToString(), client.Entity.MyJiang.Time.ToString());
                                                        client.Entity.MyJiang.Talent++;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTalent, client.Entity.UID.ToString(), client.Entity.MyJiang.Talent.ToString());
                                                    }
                                                }
                                                client.IncreaseExperience(client.ExpBall, false);
                                                client.ChiPoints += 60;
                                                client.Entity.SubClasses.StudyPoints += 100;
                                                client.Send(new Network.GamePackets.SubClassShowFull(true) { ID = 8, Study = client.Entity.SubClasses.StudyPoints, StudyReceive = 100 }.ToArray());
                                                Network.GamePackets._String str3 = new Network.GamePackets._String(true)
                                                {
                                                    Type = 10,
                                                    UID = client.Entity.UID
                                                };
                                                str3.Texts.Add("zf2-e300");
                                                client.SendScreen(str3.ToArray(), true);
                                            }
                                            if (client.Entity.MapID == 9982)
                                            {
                                                if (client.Entity.MyJiang != null)
                                                {
                                                    if (client.Entity.MyJiang.Talent < 4)
                                                    {
                                                        client.Inventory.Add(3002030, 0, 1);
                                                        client.Entity.MyJiang.FreeCourse += 10000;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTime, client.Entity.MyJiang.FreeCourse.ToString(), client.Entity.MyJiang.Time.ToString());
                                                        client.Entity.MyJiang.Talent++;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTalent, client.Entity.UID.ToString(), client.Entity.MyJiang.Talent.ToString());
                                                    }
                                                }
                                                client.IncreaseExperience(client.ExpBall, false);
                                                client.ChiPoints += 100;
                                                client.Entity.SubClasses.StudyPoints += 150;
                                                client.Send(new Network.GamePackets.SubClassShowFull(true) { ID = 8, Study = client.Entity.SubClasses.StudyPoints, StudyReceive = 150 }.ToArray());
                                                Network.GamePackets._String str3 = new Network.GamePackets._String(true)
                                                {
                                                    Type = 10,
                                                    UID = client.Entity.UID
                                                };
                                                str3.Texts.Add("zf2-e300");
                                                client.SendScreen(str3.ToArray(), true);
                                                client.Entity.Teleport(1002, 300, 278);
                                                client.Activenes.SendSinglePacket(client, Activeness.Types.DailyQuestTask, client.Activenes.DailyQuestCompletedTimes(client));
                                                break;
                                            }
                                            client.Entity.Teleport((ushort)(client.Entity.MapID + 1), 59, 53);
                                            _String str = new _String(true);
                                            str.UID = client.Entity.UID;
                                            str.TextsCount = 1;
                                            str.Type = _String.Effect;
                                            client.Activenes.SendSinglePacket(client, Activeness.Types.DailyQuestTask, client.Activenes.DailyQuestCompletedTimes(client));
                                            str.Texts.Add("end_task");
                                            client.SendScreen(str, true);
                                            client.Entity.DidFirstHeavenTreasury = true;
                                        }
                                        else
                                        {
                                            dialog.Text("You don`t have enough Conquer Points to open the Mystery Chest.");
                                            dialog.Option("I~see.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 4:
                                    {
                                        if (client.Entity.ConquerPoints >= 20)
                                        {
                                            client.Entity.ConquerPoints -= 20;
                                            if (client.Entity.MapID == 9979)
                                            {
                                                if (client.Entity.MyJiang != null)
                                                {
                                                    if (client.Entity.MyJiang.Talent < 4)
                                                    {
                                                        client.Entity.MyJiang.Talent++;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTalent, client.Entity.UID.ToString(), client.Entity.MyJiang.Talent.ToString());
                                                    }
                                                }
                                                client.Inventory.Add(3002307, 0, 1);
                                                client.IncreaseExperience(client.ExpBall, false);
                                                client.Inventory.Add(729304, 0, 1);
                                                client.Entity.SubClasses.StudyPoints += 10;
                                                client.Send(new Network.GamePackets.SubClassShowFull(true) { ID = 8, Study = client.Entity.SubClasses.StudyPoints, StudyReceive = 10 }.ToArray());
                                                Network.GamePackets._String str3 = new Network.GamePackets._String(true)
                                                {
                                                    Type = 10,
                                                    UID = client.Entity.UID
                                                };
                                                str3.Texts.Add("zf2-e300");
                                                client.SendScreen(str3.ToArray(), true);
                                                if (client.Quests.GetQuest(QuestID.HeavenTreasury) == null || client.Quests.GetQuest(QuestID.HeavenTreasury).QItem.Status == QuestPacket.QuestData.QuestStatus.Available)
                                                    client.Quests.Accept(QuestID.HeavenTreasury);
                                                client.Quests.FinishQuest(QuestID.HeavenTreasury);
                                            }
                                            if (client.Entity.MapID == 9980)
                                            {
                                                if (client.Entity.MyJiang != null)
                                                {
                                                    if (client.Entity.MyJiang.Talent < 4)
                                                    {
                                                        client.Entity.MyJiang.FreeCourse += 10000;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTime, client.Entity.MyJiang.FreeCourse.ToString(), client.Entity.MyJiang.Time.ToString());
                                                        client.Entity.MyJiang.Talent++;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTalent, client.Entity.UID.ToString(), client.Entity.MyJiang.Talent.ToString());
                                                    }
                                                }
                                                client.IncreaseExperience(client.ExpBall, false);
                                                client.ChiPoints += 30;
                                            }
                                            if (client.Entity.MapID == 9981)
                                            {
                                                if (client.Entity.MyJiang != null)
                                                {
                                                    if (client.Entity.MyJiang.Talent < 4)
                                                    {
                                                        client.Entity.MyJiang.FreeCourse += 10000;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTime, client.Entity.MyJiang.FreeCourse.ToString(), client.Entity.MyJiang.Time.ToString());
                                                        client.Entity.MyJiang.Talent++;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTalent, client.Entity.UID.ToString(), client.Entity.MyJiang.Talent.ToString());
                                                    }
                                                }
                                                client.IncreaseExperience(client.ExpBall, false);
                                                client.ChiPoints += 60;
                                                client.Entity.SubClasses.StudyPoints += 100;
                                                client.Send(new Network.GamePackets.SubClassShowFull(true) { ID = 8, Study = client.Entity.SubClasses.StudyPoints, StudyReceive = 100 }.ToArray());
                                                Network.GamePackets._String str3 = new Network.GamePackets._String(true)
                                                {
                                                    Type = 10,
                                                    UID = client.Entity.UID
                                                };
                                                str3.Texts.Add("zf2-e300");
                                                client.SendScreen(str3.ToArray(), true);
                                            }
                                            if (client.Entity.MapID == 9982)
                                            {
                                                if (client.Entity.MyJiang != null)
                                                {
                                                    if (client.Entity.MyJiang.Talent < 4)
                                                    {
                                                        client.Inventory.Add(3002030, 0, 1);
                                                        client.Entity.MyJiang.FreeCourse += 10000;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTime, client.Entity.MyJiang.FreeCourse.ToString(), client.Entity.MyJiang.Time.ToString());
                                                        client.Entity.MyJiang.Talent++;
                                                        client.Entity.MyJiang.SendInfo(client, Conquord.Network.GamePackets.JiangHu.UpdateTalent, client.Entity.UID.ToString(), client.Entity.MyJiang.Talent.ToString());
                                                    }
                                                }
                                                client.IncreaseExperience(client.ExpBall, false);
                                                client.ChiPoints += 100;
                                                client.Entity.SubClasses.StudyPoints += 150;
                                                client.Send(new Network.GamePackets.SubClassShowFull(true) { ID = 8, Study = client.Entity.SubClasses.StudyPoints, StudyReceive = 150 }.ToArray());
                                                Network.GamePackets._String str3 = new Network.GamePackets._String(true)
                                                {
                                                    Type = 10,
                                                    UID = client.Entity.UID
                                                };
                                                str3.Texts.Add("zf2-e300");
                                                client.SendScreen(str3.ToArray(), true);
                                                client.Entity.Teleport(1002, 300, 278);
                                                client.Activenes.SendSinglePacket(client, Activeness.Types.DailyQuestTask, client.Activenes.DailyQuestCompletedTimes(client));
                                                break;
                                            }
                                            client.Entity.Teleport((ushort)(client.Entity.MapID + 1), 59, 53);
                                            _String str = new _String(true);
                                            str.UID = client.Entity.UID;
                                            str.TextsCount = 1;
                                            str.Type = _String.Effect;
                                            client.Activenes.SendSinglePacket(client, Activeness.Types.DailyQuestTask, client.Activenes.DailyQuestCompletedTimes(client));
                                            str.Texts.Add("end_task");
                                            client.SendScreen(str, true);
                                            client.Entity.DidFirstHeavenTreasury = true;
                                        }
                                        else
                                        {
                                            dialog.Text("You don`t have enough Conquer Points to open the Mystery Chest.");
                                            dialog.Option("I~see.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #endregion
                    #region Teampk
                    case 8158:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Attention! The Team PK Tournament will be held every Saturday. The Top 8 teams will be handsomely rewarded, and each player in the tournament can receive EXP and 1,000 Honor Points after each match.");
                                        dialog.Option("Tell~me~the~rules.", 1);
                                        dialog.Option("I`m~on!", 2);
                                        dialog.Option("What~about~my~reward?", 3);
                                        dialog.Option("Not~interested.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        byte rank = 0;
                                        byte elitestage = 0;
                                        DateTime Now64 = DateTime.Now;
                                        if (!Game.Features.Tournaments.TeamElitePk.TeamTournament.GetReward(client, out rank, out elitestage) && Now64.Hour == 16 && Now64.Minute >= 00 && Now64.Minute <= 55)
                                        {
                                            dialog.Text("Sorry, just the leader of 8 top teams will receive the reward!");
                                            dialog.Option("Ok thx.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 1:
                                    {

                                        dialog.Text("The Team PK Tournament starts at 20:00 every Saturday in 4 divisions: Level 1-99, Level 100-119, Level 120-129 and Level 130+. Only teams can participate in this tournament."); dialog.Text("~You can either create a team before signing up, or enter the waiting area and create your team. At the start of the Tournament, any player who`s not in a team will be removed from the tournament map."); dialog.Text("~When the Tournament ends, only the team leaders of the winning teams can claim the reward.");
                                        dialog.Option("Anything~else?", 5);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        dialog.Text("Oh, yes, you can sign up with me, starting from 19:45 on Saturday until the tournament starts. After you sign up, please wait in the waiting area for the tournament to begin."); dialog.Text("~When the match starts, four groups will compete one by one, from level 130+ Group to level 1-99 Group, at an interval of 2 minutes. During the tournament, if you quit your team, you will forfeit"); dialog.Text("~the match. The teams created during the tournament can`t participate in the matches. During the Knockout, each match shall end within 10 minutes.");
                                        dialog.Option("I~see,~no~new~teams.", 6);
                                        dialog.Send();
                                        break;
                                    }
                                case 6:
                                    {
                                        dialog.Text("Yeah, and when there are less than 8 teams left in the field, the Final begins. Each round of the Final lasts for 15 minutes. Though all of the Top 8 players will receive nice prizes, the top 3 will earn better prizes than the others! "); dialog.Text("~Only the team leaders can claim the rewards. You should claim them before next week's tournament starts, or you`ll lose your prizes.");
                                        dialog.Option("Great!~Sign~me~up!", 2);
                                        dialog.Option("Hm,~I`ll~go~get~some~friends!", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        if (Game.Features.Tournaments.TeamElitePk.TeamTournament.Opened)
                                        {
                                            if (client.Team != null)
                                            {
                                                if (client.Team.RightTeamElite())
                                                {
                                                    if (!Game.Features.Tournaments.TeamElitePk.TeamTournament.Join(client, client.Team.GetEliteGroup(client.Entity.Level)))
                                                    {

                                                        dialog.Text("Sorry, but your tournament on group was staring..");
                                                        dialog.Option("Ok thx.", 255);
                                                        dialog.Send();

                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I'm sorry, but your Team must have players with the same level and in the same internships.");
                                                    dialog.Text("Exemple: ( full 100-, or full 100-120, or full 120-130, or full 130+)");
                                                    dialog.Option("Ok thx.", 255);
                                                    dialog.Send();
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text("Please create team");
                                                dialog.Option("Ok thx.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Aha! Can`t wait, right? The Team PK Tournament has not started, yet. Come see me at 19:45, this Saturday. I can send you to the field before the tournament starts.");
                                            dialog.Option("Okay,~see~you~then!", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }


                            }

                            break;
                        }
                    #endregion
                    #region Labyrinth
                    #region Simon
                    case 1152:
                        {
                            switch (npcRequest.OptionID)
                            {

                                case 0:
                                    {
                                        dialog.Text("Bad news! A cluster of wicked monsters built an evil labyrinth, and threatened to kill all the residents nearby");
                                        dialog.Text("~unless they move away. Nobody likes leaving home, right? If you`ve reached Level 110, please help us");
                                        dialog.Text("~eliminate the monsters. You can also have the treasures in the Labyrinth, I promise.");

                                        dialog.Option("Take~me~to~the~Labyrinth.", 7);
                                        dialog.Option("Tell~me~more.", 1);
                                        dialog.Option("Sorry,~I~can~do~nothing.", 255);
                                        dialog.Avatar(63);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("In the Labyrinth, evil spirits are thirsty for violence and diamonds. Your Battle Power will have little effect there, and you won`t get punished for PKs.");
                                        dialog.Text("~When you collect 17 diamonds of the same type, you can combine them into corresponding treasure chest.");

                                        dialog.Option("How~to~collect~diamonds?", 2);
                                        dialog.Option("What`s~in~the~chests?", 3);
                                        dialog.Option("How~to~enter~the~next~floor?", 4);
                                        dialog.Option("Learn~about~something~else.", 5);
                                        dialog.Option("I~see.", 255);
                                        dialog.Avatar(63);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("The Labyrinth has 4 floors guarded by different monsters. You`ll have a chance to get Sun Diamonds, Moon Diamonds, Star Diamond and Cloud Diamonds");
                                        dialog.Text("~by killing these monsters or other fighters. The boss of each floor must carry 5 corresponding diamonds. You can also use a treasure map to locate 5 corresponding diamonds.");

                                        dialog.Option("I~see.", 0);
                                        dialog.Option("Learn~about~something~else.", 1);
                                        dialog.Avatar(63);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("Solar Treasure Chest: 60 minutes of EXP, and other random rewards like Protection Pill and Favored Training Pill;");
                                        dialog.Text("Lunar Treasure Chest: 120 minutes of EXP, and other random rewards like Chi Pack (100) and Protection Pill;");
                                        dialog.Text("Starry Treasure Chest: 240 minutes of EXP, and other random rewards like Chi Pack (200) and 2 Protection Pills;");
                                        dialog.Text("Cloud Treasure Chest: 240 minutes of EXP, and other random rewards like Frozen Chi Pill and Chi Pack (300).");
                                        dialog.Text("For Level 120+ of 2nd-reborn heroes, we`ll give an extra corresponding crystal. Combining the 4 different crystals will bring you a Yang Jade, a Dragon Soul, and a chance to get P7 Dragon Soul Pack.");

                                        dialog.Option("I~see.", 0);
                                        dialog.Option("Learn~about~something~else.", 1);
                                        dialog.Avatar(63);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("In the Labyrinth, killing the monsters on the first 3 floors may sequentially bring Sky Token, Earth Token and Soul Token, while the boss of each floor");
                                        dialog.Text("~definitely carries such a token. When you get a token or a permit, find the teleporting general to enter the next floor. For VIPs, the travel may be free of charge.");

                                        dialog.Option("I~see.", 0);
                                        dialog.Option("View~VIP`s~privileges.", 6);
                                        dialog.Option("Learn~about~something~else.", 2);
                                        dialog.Avatar(63);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        dialog.Text("Bad news! A cluster of wicked monsters built an evil labyrinth, and threatened to kill all the residents nearby");
                                        dialog.Text("~unless they move away. Nobody likes leaving home, right? If you`ve reached Level 110, please help us");
                                        dialog.Text("~eliminate the monsters. You can also have the treasures in the Labyrinth, I promise.");

                                        dialog.Option("Take~me~to~the~Labyrinth.", 0);
                                        dialog.Option("Tell~me~more.", 7);
                                        dialog.Option("Sorry,~I~can~do~nothing.", 2);
                                        dialog.Avatar(63);
                                        dialog.Send();
                                        break;
                                    }

                                case 6:
                                    {
                                        dialog.Text("    VIP1: Free access to the next floor of the Labyrinth every 7 days.");
                                        dialog.Text("    VIP2: Free access to the next floor of the Labyrinth every 6 days.");
                                        dialog.Text("    VIP3: Free access to the next floor of the Labyrinth every 5 days.");
                                        dialog.Text("    VIP4: Free access to the next floor of the Labyrinth every 4 days.");
                                        dialog.Text("    VIP5: Free access to the next floor of the Labyrinth every 3 days.");
                                        dialog.Text("    VIP6: Free access to the next floor of the Labyrinth every 2 days.");

                                        dialog.Option("See~you.", 0);
                                        dialog.Avatar(63);
                                        dialog.Send();
                                        break;

                                    }
                                case 7:
                                    {
                                        if (client.Quests.CheckQuest(QuestID.EvilLabyrinth) != QuestPacket.QuestData.QuestStatus.Finished)
                                        {
                                            client.Quests.Accept(QuestID.EvilLabyrinth);
                                            client.Entity.Teleport(1351, 19, 130);
                                        }
                                        else
                                        {
                                            dialog.Text("You have make it today come back tommorrow!");

                                            dialog.Option("See~you.", 0);
                                            dialog.Avatar(63);
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Labirinth
                    case 1153:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("If you have Token, I'll be more than happy to teletransportarle the first floor of the labyrinth. If you are VIP you can get in for free.");
                                        dialog.Option("i have the token.", 5);
                                        dialog.Option("I~have~the~Permit.", 15);
                                        dialog.Option("It`s free for VIPs, right?.", 55);
                                        dialog.Option("I want to leave.", 2);
                                        dialog.Option("i`ll talk to you later.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("if you leave now,you`ll restart the challenge from the 1st floor when you come");
                                        dialog.Text("back. Are you sure you want to return to Twin City?");
                                        dialog.Option("Yes.", 10);
                                        dialog.Send();
                                        break;
                                    }
                                case 10:
                                    {
                                        client.Entity.Teleport(1002, 270, 142);
                                        break;
                                    }
                                case 5:
                                    {
                                        if (client.Inventory.Contains(721537, 1))
                                        {
                                            client.Inventory.Remove(721537, 1);
                                            client.Entity.Teleport(1352, 124, 127);

                                        }
                                        else
                                        {
                                            dialog.Text("i`m afraid I can`t help you if you don`t have an Sky Token. Go Collect a token.");
                                            dialog.Text("by killing Slinger and GoldGhost");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 15:
                                    {
                                        if (client.Inventory.Contains(722880, 1))
                                        {
                                            client.Inventory.Remove(722880, 1);
                                            client.Entity.Teleport(1351, 124, 127);

                                        }
                                        else
                                        {
                                            dialog.Text("Sorry You Don`t have Labyrinth Permit");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 55:
                                    {
                                        if (client.Entity.VIPLevel >= 1)
                                        {
                                            client.Entity.Teleport(1352, 124, 127);
                                        }
                                        else
                                        {
                                            dialog.Text("First of all, you should become a VIP.P.");
                                            dialog.Option("I see.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    case 1154:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("If you have Token, I'll be more than happy to teletransportarle the first floor of the labyrinth. If you are VIP you can get in for free.");
                                        dialog.Option("i have the token.", 5);
                                        dialog.Option("I~have~the~Permit.", 15);
                                        dialog.Option("It`s free for VIPs, right?.", 55);
                                        dialog.Option("I want to leave.", 2);
                                        dialog.Option("i`ll talk to you later.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("if you leave now,you`ll restart the challenge from the 1st floor when you come");
                                        dialog.Text("back. Are you sure you want to return to Twin City?");
                                        dialog.Option("Yes.", 10);
                                        dialog.Send();
                                        break;
                                    }
                                case 10:
                                    {
                                        client.Entity.Teleport(1002, 270, 142);
                                        break;
                                    }
                                case 15:
                                    {
                                        if (client.Inventory.Contains(722880, 1))
                                        {
                                            client.Inventory.Remove(722880, 1);
                                            client.Entity.Teleport(1353, 025, 268);

                                        }
                                        else
                                        {
                                            dialog.Text("Sorry You Don`t have Labyrinth Permit");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 5:
                                    {
                                        if (client.Inventory.Contains(721538, 1))
                                        {
                                            client.Inventory.Remove(721538, 1);
                                            client.Entity.Teleport(1353, 025, 268);

                                        }
                                        else
                                        {
                                            dialog.Text("i`m afraid I can`t help you if you don`t have an Earth Token. Go Collect a token.");
                                            dialog.Text("by killing Agile Rats and Bladeling.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 55:
                                    {
                                        if (client.Entity.VIPLevel >= 1)
                                        {
                                            client.Entity.Teleport(1353, 025, 268);
                                        }
                                        else
                                        {
                                            dialog.Text("First of all, you should become a VIP.P.");
                                            dialog.Option("I see.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    case 1155:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("If you have Token, I'll be more than happy to teletransportarle the first floor of the labyrinth. If you are VIP you can get in for free.");
                                        dialog.Option("i have the token.", 5);
                                        dialog.Option("I~have~the~Permit.", 15);
                                        dialog.Option("It`s free for VIPs, right?.", 55);
                                        dialog.Option("I want to leave.", 2);
                                        dialog.Option("i`ll talk to you later.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("if you leave now,you`ll restart the challenge from the 1st floor when you come");
                                        dialog.Text("back. Are you sure you want to return to Twin City?");
                                        dialog.Option("Yes.", 10);
                                        dialog.Send();
                                        break;
                                    }
                                case 10:
                                    {
                                        client.Entity.Teleport(1002, 270, 142);
                                        break;
                                    }
                                case 15:
                                    {
                                        if (client.Inventory.Contains(722880, 1))
                                        {
                                            client.Inventory.Remove(722880, 1);
                                            client.Entity.Teleport(1354, 005, 290);

                                        }
                                        else
                                        {
                                            dialog.Text("Sorry You Don`t have Labyrinth Permit");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 5:
                                    {
                                        if (client.Inventory.Contains(721539, 1))
                                        {
                                            client.Inventory.Remove(721539, 1);
                                            client.Entity.Teleport(1354, 005, 290);

                                        }
                                        else
                                        {
                                            dialog.Text("i`m afraid I can`t help you if you don`t have an Soul Token. Go Collect a token.");
                                            dialog.Text("by killing BlueBird and FiendBat.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 55:
                                    {
                                        if (client.Entity.VIPLevel >= 1)
                                        {
                                            client.Entity.Teleport(1354, 005, 290);
                                        }
                                        else
                                        {
                                            dialog.Text("First of all, you should become a VIP.P.");
                                            dialog.Option("I see.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    case 1156:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hello there. Just let me know if you want to go to TwinCity.");
                                        dialog.Option("Leave.", 1);
                                        dialog.Option("ok.", 255);
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Entity.Teleport(1002, 270, 142);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #endregion
                    #region RealmGuard
                    case 6589:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Centuries ago, the Terato Dragon was sealed by our great forefathers. After so many years of peace, Twin City is facing the daunting danger once again. There are traces showing that the Terato Dragon");
                                        dialog.Text("~is about to wake from its slumber. Soldier, if you want to go eliminate it, you have to use 5 Meteors and a Dragon Pill to summon it out first. As for the Dragon Pill, just find the Grotto Guardian");
                                        dialog.Text("~on Frozen Grotto F6 (477,759) for more details.");
                                        dialog.Option("Summon~the~Terato~Dragon!", 1);
                                        dialog.Option("I~see.", 255);
                                        dialog.Avatar(44);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Inventory.Contains(720598, 1) && client.Inventory.Contains(1088001, 5))
                                        {
                                            if (Kernel.Maps[1002].Entities.Where(i => i.Value.MonsterInfo.ID == 4152).Count() == 0)
                                            {
                                                client.Inventory.Remove(720598, 1);
                                                client.Inventory.Remove(1088001, 5);
                                                Database.MonsterInformation mob;
                                                Database.MonsterInformation.MonsterInformations.TryGetValue(4152, out mob);
                                                client.Map.Spawnthis(mob, client, 1002, 513, 746);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("You need to get 5 Meteors and a Dragon Pill to summon the Terato Dragon.");
                                            dialog.Option("Okay.", 255);
                                            dialog.Avatar(44);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region SkillTeam Tournament
                    case 9158:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("The Skill Team PK Tournament will be held at 20:00 tonight. Please create or join a team with your friends!"); dialog.Text("~You need to team up with others to take part in the event. Otherwise, you will be kicked out!"); dialog.Text("~Remember, only team leaders are able to claim the prizes.");
                                        dialog.Option("What about the rules? ", 1);
                                        dialog.Option("Sign~up!", 2);
                                        dialog.Option("What~about~my~reward?", 3);
                                        dialog.Option("Leave.", 255);
                                        dialog.Avatar(40);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        byte rank = 0;
                                        byte elitestage = 0;
                                        DateTime Now64 = DateTime.Now;
                                        if (Game.Features.Tournaments.TeamElitePk.SkillTeamTournament.GetReward(client, out rank, out elitestage) && Now64.Hour == 22 && Now64.Minute >= 00 && Now64.Minute <= 55)
                                        {
                                            if (elitestage == 4 && rank == 1)
                                                client.Inventory.Add(721303, 0, 1);
                                            if (elitestage == 3 && rank == 1)
                                                client.Inventory.Add(721302, 0, 1);
                                            if (elitestage == 2 && rank == 1)
                                                client.Inventory.Add(721301, 0, 1);
                                            if (elitestage == 1 && rank == 1)
                                                client.Inventory.Add(721300, 0, 1);
                                            if (elitestage == 4 && rank == 2)
                                                client.Inventory.Add(721307, 0, 1);
                                            if (elitestage == 3 && rank == 2)
                                                client.Inventory.Add(721306, 0, 1);
                                            if (elitestage == 2 && rank == 2)
                                                client.Inventory.Add(721305, 0, 1);
                                            if (elitestage == 1 && rank == 2)
                                                client.Inventory.Add(721304, 0, 1);
                                            if (elitestage == 4 && rank == 3)
                                                client.Inventory.Add(721311, 0, 1);
                                            if (elitestage == 3 && rank == 3)
                                                client.Inventory.Add(721310, 0, 1);
                                            if (elitestage == 2 && rank == 3)
                                                client.Inventory.Add(721309, 0, 1);
                                            if (elitestage == 1 && rank == 3)
                                                client.Inventory.Add(721308, 0, 1);
                                            if (elitestage == 4 && rank == 4)
                                                client.Inventory.Add(721315, 0, 1);
                                            if (elitestage == 3 && rank == 4)
                                                client.Inventory.Add(721314, 0, 1);
                                            if (elitestage == 2 && rank == 4)
                                                client.Inventory.Add(721313, 0, 1);
                                            if (elitestage == 1 && rank == 4)
                                                client.Inventory.Add(721312, 0, 1);
                                        }
                                        else
                                        {

                                            dialog.Text("I`m sorry, but only the leaders from the top 8 teams are able to claim the prizes.");
                                            dialog.Option("Oh.", 255);
                                            dialog.Avatar(40);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("There are limits on the Equipment Level and Rank. Moreover, there are restrictions on Equipment Quality, Bonus Level, Sockets, Gems and Blessing effects."); dialog.Text("~Besides, the effects of the Sub-classes are adjusted, too. (Except for Apothecary.)"); dialog.Text("~By the way, the Battle Power shared from your Clan, Mentor, and Guild won`t count.");
                                        dialog.Option("Go~ahead.", 4);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("The Skill Team PK Tournament is held at 20:00, every Wednesday. You need to team up with others to take part in it. Only the team leaders are capable of claiming the rewards."); dialog.Text("~You can team up with your friends in advance, or while in the waiting area. People who don`t team up will be kicked out, when the contest starts."); dialog.Text("~There are 4 groups: Level 130+, level 120-129, level 100-119 and level 1-99.");
                                        dialog.Option("What~else?", 5);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {

                                        dialog.Text("You can talk to me to enter the waiting area at 19:45. No teams will be allowed to enter after the contest starts."); dialog.Text("~The contest for level 130+ starts at 20:00, level 120-129: 20:02, level 100-119: 20:04 and level 1-99: 20:06."); dialog.Text("~Disbanding/creating a team during the contest will lead to disqualification. In the knockout stage, each round lasts for 10 minutes.");
                                        dialog.Option("Is~that~all?", 6);
                                        dialog.Send();
                                        break;
                                    }
                                case 6:
                                    {

                                        dialog.Text("If there are no more than 8 teams, it will enter the final stage directly and each round lasts for 15 minutes.");
                                        dialog.Text("~The top 3 teams will be announced. The leaders from the top 8 teams should claim the prize before the next Skill Team PK Tournament starts.");
                                        dialog.Text("~The contestants will receive EXP worth 1 EXP Ball and 1,000 Honor Points, for each round.");
                                        dialog.Option("Sign~up~now!", 2);
                                        dialog.Option("I~see.", 255);
                                        dialog.Avatar(40);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        if (Game.Features.Tournaments.TeamElitePk.SkillTeamTournament.Opened)
                                        {
                                            if (client.Team != null)
                                            {
                                                if (client.Team.RightTeamElite())
                                                {
                                                    if (!Game.Features.Tournaments.TeamElitePk.SkillTeamTournament.Join(client, client.Team.GetEliteGroup(client.Entity.Level)))
                                                    {

                                                        dialog.Text("Sorry, but your tournament on grup was staring..");
                                                        dialog.Option("Ok thx.", 255);
                                                        dialog.Avatar(40);
                                                        dialog.Send();

                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I'm sorry, but your Team must have players with the same level and in the same internships.");
                                                    dialog.Text("Exemple: ( full 100-, or full 100-120, or full 120-130, or full 130+)");
                                                    dialog.Option("Ok thx.", 255);
                                                    dialog.Avatar(40);
                                                    dialog.Send();
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text("Please create team");
                                                dialog.Option("Ok thx.", 255);
                                                dialog.Avatar(40);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("The Skill Team PK Tournament is held every Wednesday. Please come back on Wednesday at 19:45.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region ClassPkEnvoy
                    case 705:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Everyone settle down! I need to announce that there are new rules for the Class PK War!");
                                        dialog.Option("Tell~me~more.", 2);
                                        dialog.Option("Sign~up.", 1);
                                        dialog.Option("Not~interested.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("The Class PK War for each class starts from 19:30 and ends at 20:30, every Monday.");
                                        dialog.Text("~Each round can last up to 1 hour. Since I won`t accept any applications once the contest starts, you need to be sure and sign up 15 minutes before it begins.");
                                        dialog.Text("~Players from each class will be divided into 4 groups, that is, Level 1-99, 100-119, 120-129 and 130+. The only survivor should talk to the Class PK Escort to claim the");
                                        dialog.Text("~experience worth 5 EXP Balls. However, if there are 2 or more players left when time is up, the contest will be closed and no one will receive the grand prize.");
                                        dialog.Text("~Would you like to sign up for the battle?");
                                        dialog.Option("Sure.", 1);
                                        dialog.Option("Later.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (DateTime.Now.DayOfWeek == DayOfWeek.Monday && DateTime.Now.Hour == 19 && DateTime.Now.Minute >= 30 && DateTime.Now.Minute <= 45)
                                        {
                                            if (client.Entity.Class >= 10 && client.Entity.Class <= 15)
                                            {
                                                client.Entity.Teleport(7000, 78, 59);
                                            }
                                            if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                            {
                                                client.Entity.Teleport(7001, 78, 59);
                                            }
                                            if (client.Entity.Class >= 40 && client.Entity.Class <= 45)
                                            {
                                                client.Entity.Teleport(7002, 78, 59);
                                            }
                                            if (client.Entity.Class >= 50 && client.Entity.Class <= 55)
                                            {
                                                client.Entity.Teleport(7003, 78, 59);
                                            }
                                            if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                            {
                                                client.Entity.Teleport(7004, 78, 59);
                                            }
                                            if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                            {
                                                client.Entity.Teleport(7005, 78, 59);
                                            }
                                            if (client.Entity.Class >= 80 && client.Entity.Class <= 85)
                                            {
                                                client.Entity.Teleport(7006, 78, 59);
                                            }
                                            if (client.Entity.Class >= 130 && client.Entity.Class <= 135)
                                            {
                                                client.Entity.Teleport(7007, 78, 59);
                                            }
                                            if (client.Entity.Class >= 140 && client.Entity.Class <= 145)
                                            {
                                                client.Entity.Teleport(7008, 78, 59);
                                            }
                                            client.MessageBox("You have been the Class PK Arena.");
                                            break;
                                        }
                                        else
                                        {
                                            dialog.Text("I`m sorry, but the Class PK War is only held on Mondays In 19:30 and Ends In 20:00 You Have 15 Mins To Join.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region ClassPkPrize
                    case 706:
                    case 707:
                    case 708:
                    case 709:
                    case 7010:
                    case 7011:
                    case 7012:
                    case 7013:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("As the Champion of Class Pk War, You are entitied to claim great rewards.");
                                        dialog.Option("Sure!", 1);

                                        dialog.Option("Not now.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        int alive = 0;
                                        foreach (Conquord.Client.GameClient players in Kernel.GamePool.Values)
                                            if (players.Entity.MapID == client.Entity.MapID && (!players.Entity.Dead))
                                                alive++;
                                        DateTime Now64 = DateTime.Now;
                                        if (Now64.DayOfWeek == DayOfWeek.Monday && Now64.Hour == 20)
                                        {
                                            if (alive == 1)
                                            {
                                                if (client.Entity.Level < 100)
                                                {
                                                    client.Inventory.Add(723700, 0, 2);
                                                    client.AddBless(1 * 24 * 60 * 60);
                                                    client.Entity.SubClasses.StudyPoints += 100;
                                                    foreach (var Client in Kernel.GamePool.Values)
                                                    {

                                                        Client.Send(new Message(client.Entity.Name + "won the Class Pk Championship (Lvl 1-90) and got 2 ExpBalls, 100 Study Points and 1 Day HeavenBlessing as a reward! That's amazing!", Color.Red, Message.TopLeft));
                                                    }
                                                }
                                                else if (client.Entity.Level >= 100 && client.Entity.Level < 120)
                                                {
                                                    client.Inventory.Add(723700, 0, 3);
                                                    client.AddBless(2 * 24 * 60 * 60);
                                                    client.Entity.SubClasses.StudyPoints += 200;
                                                    foreach (var Client in Kernel.GamePool.Values)
                                                    {

                                                        Client.Send(new Message(client.Entity.Name + "won the Class Pk Championship (Lvl 100-119) and got 3 ExpBalls, 200 Study Points and 2 Days HeavenBlessing as a reward! That's amazing!", Color.Red, Message.TopLeft));
                                                    }
                                                }
                                                else if (client.Entity.Level >= 120 && client.Entity.Level < 130)
                                                {
                                                    client.Inventory.Add(723700, 0, 4);
                                                    client.AddBless(3 * 24 * 60 * 60);
                                                    client.Entity.SubClasses.StudyPoints += 300;
                                                    foreach (var Client in Kernel.GamePool.Values)
                                                    {

                                                        Client.Send(new Message(client.Entity.Name + "won the Class Pk Championship (Lvl 120-129) and got 4 ExpBalls, 300 Study Points and 3 Days HeavenBlessing as a reward! That's amazing!", Color.Red, Message.TopLeft));
                                                    }
                                                }
                                                else
                                                {
                                                    client.Inventory.Add(723700, 0, 5);
                                                    client.AddBless(7 * 24 * 60 * 60);
                                                    client.Entity.SubClasses.StudyPoints += 500;
                                                    foreach (var Client in Kernel.GamePool.Values)
                                                    {

                                                        Client.Send(new Message(client.Entity.Name + "won the Class Pk Championship (Lvl +130) and got 5 ExpBalls, 500 Study Points and 7 Days HeavenBlessing as a reward! That's amazing!", Color.Red, Message.TopLeft));
                                                    }
                                                }
                                                if (client.Entity.Class >= 10 && client.Entity.Class <= 15)
                                                {
                                                    client.Entity.AddTopStatus(Update.Flags.TopTrojan, 0, DateTime.Now.AddDays(7));
                                                }
                                                if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                {
                                                    client.Entity.AddTopStatus(Update.Flags.TopWarrior, 0, DateTime.Now.AddDays(7));
                                                }
                                                if (client.Entity.Class >= 40 && client.Entity.Class <= 45)
                                                {
                                                    client.Entity.AddTopStatus(Update.Flags.TopArcher, 0, DateTime.Now.AddDays(7));
                                                }
                                                if (client.Entity.Class >= 50 && client.Entity.Class <= 55)
                                                {
                                                    client.Entity.AddTopStatus(Update.Flags.TopNinja, 0, DateTime.Now.AddDays(7));
                                                }
                                                if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                {
                                                    client.Entity.AddTopStatus(Update.Flags2.TopMonk, 0, DateTime.Now.AddDays(7));
                                                }
                                                if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                {
                                                    client.Entity.AddTopStatus(Update.Flags2.TopPirate, 0, DateTime.Now.AddDays(7));
                                                }
                                                if (client.Entity.Class >= 80 && client.Entity.Class <= 85)
                                                {
                                                    client.Entity.AddTopStatus(Update.Flags2.DragonWarriorTop, 0, DateTime.Now.AddDays(7));
                                                }
                                                if (client.Entity.Class >= 100 && client.Entity.Class <= 135)
                                                {
                                                    client.Entity.AddTopStatus(Update.Flags.TopWaterTaoist, 0, DateTime.Now.AddDays(7));
                                                }
                                                if (client.Entity.Class >= 140 && client.Entity.Class <= 145)
                                                {
                                                    client.Entity.AddTopStatus(Update.Flags.TopFireTaoist, 0, DateTime.Now.AddDays(7));
                                                }
                                                client.Entity.ConquerPoints += 50000;
                                                client.Entity.Teleport(1002, 300, 278);
                                            }
                                            else
                                            {
                                                dialog.Text("There Are Still " + alive + "Players In Map Kill Him First");
                                                dialog.Option("Ohh", 255);
                                                dialog.Send();
                                            }

                                        }
                                        else
                                        {
                                            dialog.Text("You Can Claim On Or After 20:00 !");
                                            dialog.Option("Ohh", 255);
                                            dialog.Send();
                                        }
                                    }
                                    break;
                            }
                            break;
                        }

                    #endregion
                    #region HorseRaceManager
                    case 6001:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hi! If you have a steed, come and join in the Horse Racing! You can prove your riding in the racing,");
                                        dialog.Text("~and also win honorable points to swap for various refinery packs. Interested? Of course!");
                                        dialog.Text("~Don`t miss the racing at 15:00, every Monday - Friday!");
                                        if (DateTime.Now.DayOfWeek >= DayOfWeek.Monday && DateTime.Now.DayOfWeek <= DayOfWeek.Friday)
                                        {//HorseRacing
                                            if (DateTime.Now.Hour == 14 && DateTime.Now.Minute >= 55)
                                            {
                                                dialog.Option("Join.", 1);
                                            }
                                        }
                                        dialog.Option("Learn~about~the~rules.", 3);
                                        dialog.Option("View~Horse~Racing~Store.", 2);
                                        dialog.Option("Just~passing~by.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Equipment.Free(ConquerItem.Steed))
                                        {
                                            dialog.Text("You need a horse first.");
                                            dialog.Option("I don't care.", 255);
                                            dialog.Send();
                                            return;
                                        }
                                        if (!client.Spells.ContainsKey(7001))
                                        {
                                            dialog.Text("You need to learn the ride spell first!");
                                            dialog.Option("I don't care.", 255);
                                            dialog.Send();
                                            return;
                                        }
                                        //Program.World.SteedRace.Join(client);
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("First, make sure you have learned the mount skills, so you can enter the racecourse");
                                        dialog.Text("~with your steed during 14:55 - 15:25, on Monday - Friday. Remember, the racing will start at 15:00!");

                                        dialog.Option("Got~it!", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        INpc npc = null;
                                        if (client.Map.Npcs.TryGetValue(client.ActiveNpc, out npc))
                                        {
                                            Data data = new Data(true);
                                            data.ID = Data.OpenWindow;
                                            data.UID = client.Entity.UID;
                                            data.TimeStamp = Time32.Now;
                                            data.dwParam = 464;
                                            data.wParam1 = npc.X;
                                            data.wParam2 = npc.Y;
                                            client.Send(data);
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    
                    #region Out ClanWar
                    case 448211:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hello there. I can teleport you to the twin city for 1 Gold Just give me 1 gold to travel away from here. And If Need To Claim Prize Talk To ClanWar In Twin City");
                                        dialog.Option("Teleport me.", 1);
                                        dialog.Option("I'm standing by.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Entity.Money >= 1)
                                        {
                                            client.Entity.Money -= 1;
                                            client.Entity.Teleport(1002, 286, 149);
                                        }
                                        else
                                        {
                                            dialog.Text("You need 1 silver to be able to Teleport To twin city.");
                                            dialog.Option("Alright.", 255);
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region GarmentShop
                    case 6002:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        Conquord.Network.GamePackets.Data Data = new Conquord.Network.GamePackets.Data(true);
                                        Data.UID = client.Entity.UID;
                                        Data.ID = 126;
                                        Data.dwParam = 502;
                                        Data.wParam1 = client.Entity.X;
                                        Data.wParam2 = client.Entity.Y;
                                        client.Send(Data);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region ElitePk
                    case 448582:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Glad to see you! I take it that you haven`t heard of the Elite PK Tournament, have you? No? Aha, please allow me to introduce this exciting event for you! It`s a new PK Tournament that takes place every Friday. You will be divided into four groups, based"); dialog.Text("~on your level. Not only will the top 3 winners of each group receive nice prizes, you will also receive EXP worth 1 EXP Ball and 1000 Honor points for each match you take part in at the end of that round. Do you want to have a go?");
                                        dialog.Option("Tell~me~more~about~the~rules.", 1);
                                        dialog.Option("Sign~me~up!", 3);
                                        dialog.Option("What~about~my~reward?", 5);
                                        dialog.Option("Not~interested.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("The Elite PK Tournament begins at 20:00 every Friday in 4 divisions: Level 100-, Level 100-119, Level 120-129, and Level 130+. You can sign up for it"); dialog.Text("~between 19:55 and 19:59. No admittance after the tournament begins. Players should first wait in the Waiting Area, and if you leave the area before your round, you will forfeit your chance. There will be a Knockout round before the Final."); dialog.Text("~But if there are less than 8 players at the start of the Elite PK Tournament, the Final will be replaced by the Knockout. Each round in the Knockout lasts 3 minutes. At the end of 3 minutes, if no one is killed, the player with a higher score wins."); dialog.Text("~After you finish your round, you`ll have to wait for all the other players to finish this round to enter the next round.");
                                        dialog.Option("There~is~a~Final?", 1);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("Sure. When there are less than 8 players left in the field, the Final starts. Each round of the Final lasts for 5 minutes. Though all of the Top 8 players will receive nice prizes, the top 3 will earn special prizes! Claim your reward before the next"); dialog.Text("~week`s Elite PK Tournament begins, or you won`t get them. We hope everyone will join this tournament, and so not only will the top 3 winners of each group receive nice prizes, you will also receive EXP worth 1 EXP Ball and 1000 Honor"); dialog.Text("~points for each match you take part in at the end of that match!");
                                        dialog.Option("Sign~me~up!", 3);
                                        dialog.Option("Not~interested.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        if (!ElitePKTournament.SignUp(client))
                                        {
                                            dialog.Text("Please sign up between 19:55 and 19:59 every Friday night for the Elite PK Tournament.");
                                            dialog.Option("Okay.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 5:
                                    {
                                        int group = client["epk_id"];
                                        var epk = ElitePKTournament.Tournaments[group];
                                        if (epk.State == ElitePK.States.GUI_Top8Ranking && DateTime.Now >= epk.EndDateTime)
                                        {
                                            if (client.Inventory.Count < 40)
                                            {
                                                if (client["epk_prize"] == true)
                                                {
                                                    client["epk_prize"] = false;
                                                    int rank = 0;
                                                    for (; rank < 8; rank++)
                                                        if (epk.Top8[rank].Name == client.Entity.Name)
                                                            break;
                                                    if (rank > 3) rank = 3;
                                                    client.Inventory.Add((uint)((720726 + group) - 4 * (3 - rank)), 0, 1);
                                                    if (group == 3)
                                                    {
                                                        client.Entity.AddTopStatus((ulong)(((int)TitlePacket.Titles.ElitePKChamption_High) + rank), 0, epk.EndDateTime.AddDays(7));

                                                    }
                                                    else
                                                    {
                                                        client.Entity.AddTopStatus((ulong)(((int)TitlePacket.Titles.ElitePKChamption_Low) + rank), 0, epk.EndDateTime.AddDays(7));
    
                                                    }
                                                    if (client.Entity.Titles.ContainsKey(TitlePacket.Titles.ElitePKChamption_High))
                                                    {
                                                        new TitleStorage().AddTitle(client, 6001, 20, false);
                                                    }
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text("You need atleast one spot free in your inventory!");

                                                dialog.Option("Okay.", 255);
                                                dialog.Avatar(26);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Elite PK Tournament is not yet finished!");

                                            dialog.Option("Okay.", 255);
                                            dialog.Avatar(26);
                                        }
                                        break;
                                    }
                            }
                            break;
                        }

                    #endregion
                    #region EliteGw
                    case 115522:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to Join Elite GW?.");
                                        dialog.Text("or claim the Prize?, you can join At 6:00 to 7:00 & 18:00 to 19:00.");
                                        dialog.Text("and the winner Guild Leader will get (( 200Kk )) ConquerPoints after it finish u have 5 minutes to claim?.");
                                        dialog.Option("Join Elite GW!", 1);
                                        dialog.Option("Claim Prize.", 5);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (EliteGuildWar.IsWar)
                                        {
                                            client.Entity.Teleport(2071, 47, 131);
                                        }
                                        else
                                        {
                                            dialog.Text("The war is not Started yet.");
                                            dialog.Option("okay", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                                case 5:
                                    {
                                        //Daily.CheackAlive();
                                        if (!EliteGuildWar.IsWar)
                                        {
                                            if (client.Guild != null)
                                            {
                                                if (EliteGuildWar.KeeperID != 0)
                                                {
                                                    if (EliteGuildWar.Claim && client.AsMember.Rank == Game.Enums.GuildMemberRank.GuildLeader && client.Guild.ID == EliteGuildWar.KeeperID)
                                                    {
                                                        EliteGuildWar.Claim = false;
                                                        EliteGuildWar.KeeperID = 0;
                                                        Conquord.Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " claimed the prize (( 200Kk )) ConquerPoints + 100 Vip Point's for winning the Elite GuildWar.", System.Drawing.Color.Black, Message.Center), Program.Values);
                                                        client.Entity.ConquerPoints += 200000000;
                                                        client.Entity.AddTopStatus(Update.Flags.TeamLeader, 2, DateTime.Now.AddDays(1));
                                                        Program.AddWarLog("EliteGuildWar", "200000000", client.Entity.Name);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("sorry u dont have any prize to claim....");
                                                        dialog.Option("okay", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text("sorry u dont have any prize to claim");
                                                dialog.Option("okay", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Hey there " + client.Entity.Name + " You can't get the prize while the war is on!");
                                            dialog.Option("okay", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region CLANWAR
                    case 4482116:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hello there. Do you want to JOIN THE CLANWAR?.");
                                        dialog.Option("Yes Please.", 1);
                                        dialog.Option("Cliam Prize.", 2);
                                        dialog.Option("Just Passing By!", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (ClanWar.IsWar)
                                        {
                                            client.Entity.Teleport(1509, 81, 108);
                                        }
                                        else
                                        {
                                            dialog.Text("THE WAR HAS NOT STARTED");
                                            dialog.Option("Aww ok!", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        if (ClanWar.KeeperID != 0 && !ClanWar.IsWar && ClanWar.Claim && client.Entity.ClanId == ClanWar.KeeperID && client.Entity.ClanRank == Clan.Ranks.ClanLeader)
                                        {
                                            Program.AddWarLog("ClanWar", "23000", client.Entity.Name);
                                            ClanWar.Claim = false;
                                            ClanWar.KeeperID = 0;
                                            client.Entity.ConquerPoints += 23000;
                                            Conquord.Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " Leader of " + client.Entity.ClanName + " The winner Clan has Claimed Clan War Prize 23k cps!", System.Drawing.Color.White, Message.TopLeft), Program.GamePool);
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry you dont have Any Prize to claim only CL of the winner CLAN can claim Prize After CW");
                                            dialog.Option("Ahh.", 255);
                                            dialog.Send();
                                        }

                                        break;
                                    }
                            }
                            break;
                        }
                    case 4482115:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hello there. Do you want to Claim CLANWAR Prize you can only Claim it 1 Time if you won CW.");
                                        dialog.Option("Leme Claim.", 1);
                                        dialog.Option("Just Passing By!", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Entity.GetClan != null)
                                        {
                                            if (client.Entity.GetClan.PoleKeeper && client.Entity.ClanRank == Clan.Ranks.ClanLeader)
                                            {
                                                dialog.Text("Are you sure you want to Claim your Prize?");
                                                dialog.Option("Yes.", 2);
                                                dialog.Option("Ah, nevermind.", 255);
                                                dialog.Send();
                                            }
                                            else
                                            {
                                                dialog.Text("Sorry only CLAN LEADER of the Winner CLAN can Claim The Prize After CLAN WAR End.");
                                                dialog.Option("Ahh.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry You are not Member in any CLAN yet");
                                            dialog.Option("Ahh.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        if (client.Entity.GetClan != null)
                                        {
                                            if (client.Entity.GetClan.PoleKeeper && client.Entity.ClanRank == Clan.Ranks.ClanLeader)
                                            {
                                                client.Entity.GetClan.PoleKeeper = false;

                                                MySqlCommand cmd = new MySqlCommand(MySqlCommandType.UPDATE);
                                                cmd.Update("clans").Set("polekeeper", 0).Where("identifier", client.Entity.GetClan.ID).Execute();

                                                client.Entity.ConquerPoints += 500000;
                                                Conquord.Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " Leader of " + client.Entity.ClanName + " The winner Clan has Claimed Clan War Prize 500k cps!", System.Drawing.Color.White, Message.TopLeft), Program.GamePool);
                                            }
                                            else
                                            {
                                                dialog.Text("Sorry you dont have Any Prize to claim only CL of the winner CLAN can claim Prize After CW");
                                                dialog.Option("Ahh.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region BoxerHuang
                    case 600075:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Although~nothing~will~be~consumed~here,~you~cannot~level~up~as~fast~as~slaying~the~monsters.~Shall~I~teleport~you~out?");
                                        dialog.Option("Yes,~please.", 1);
                                        dialog.Option("No,~thanks.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region GeneralBravely
                    case 565214:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (DateTime.Now.DayOfWeek == DayOfWeek.Saturday && DateTime.Now.Hour == 20 && DateTime.Now.Minute >= 00 && DateTime.Now.Minute <= 20)
                                        {
                                            var coord = Kernel.Maps[1508].RandomCoordinates(124, 143, 10);
                                            client.Entity.Teleport(1508, coord.Item1, coord.Item2);
                                            client.MessageBox("You have been the Weekly PK Arena.");
                                        }
                                        else if (DateTime.Now.Day == 1 && DateTime.Now.Hour == 20 && DateTime.Now.Minute >= 00 && DateTime.Now.Minute <= 20)
                                        {
                                            var coord = Kernel.Maps[1508].RandomCoordinates(124, 143, 10);
                                            client.Entity.Teleport(1508, coord.Item1, coord.Item2);
                                            client.MessageBox("You have been the Monthly PK Arena.");
                                        }
                                        else
                                        {
                                            dialog.Text("Hello there! The PK War will take place during 20:20-21:00 on the 1st day of each month and on every Saturday,"); dialog.Text("~and you will be admitted into the tournament during 20:00 and 20:19. Come! You will be impressed!");
                                            dialog.Option("Brilliant!", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }

                            }
                            break;
                        }
                    #endregion
                    #region GeneralWinner
                    case 2315:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to claim your Prize?.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        int alive = 0;
                                        foreach (Conquord.Client.GameClient players in Kernel.GamePool.Values)
                                            if (players.Entity.MapID == client.Entity.MapID && (!players.Entity.Dead))
                                                alive++;
                                        if (DateTime.Now.Hour == 20 && DateTime.Now.Minute >= 30)
                                        {
                                            if (alive == 1)
                                            {
                                                if (DateTime.Now.Day != 1)
                                                {
                                                    if (client.Entity.Level < 100)
                                                    {
                                                        client.Inventory.Add(723700, 0, 1);
                                                        client.Inventory.Add(723713, 0, 1);
                                                        client.Entity.SubClasses.StudyPoints += 100;
                                                    }
                                                    if (client.Entity.Level >= 100 && client.Entity.Level < 120)
                                                    {
                                                        client.Inventory.Add(723700, 0, 2);
                                                        client.Inventory.Add(723714, 0, 1);
                                                        client.Entity.SubClasses.StudyPoints += 200;
                                                    }
                                                    if (client.Entity.Level >= 120 && client.Entity.Level < 130)
                                                    {
                                                        client.Inventory.Add(723700, 0, 3);
                                                        client.Inventory.Add(723715, 0, 1);
                                                        client.Entity.SubClasses.StudyPoints += 300;
                                                    }
                                                    else
                                                    {
                                                        client.Inventory.Add(723716, 0, 1);
                                                        client.Entity.SubClasses.StudyPoints += 500;
                                                        client.Inventory.Add(723700, 0, 5);
                                                    }
                                                    client.Entity.ConquerPoints += 215;
                                                    if (Kernel.Rate(70))
                                                    {
                                                        client.Inventory.Add(200006, 0, 1);
                                                    }
                                                    client.Entity.AddTopStatus(Update.Flags.WeeklyPKChampion, 0, DateTime.Now.AddDays(7));

                                                }
                                                else
                                                {
                                                    if (client.Entity.Level < 100)
                                                    {
                                                        client.Inventory.Add(723700, 0, 2);
                                                        client.Inventory.Add(723713, 0, 1);
                                                        client.Entity.SubClasses.StudyPoints += 200;
                                                    }
                                                    if (client.Entity.Level >= 100 && client.Entity.Level < 120)
                                                    {
                                                        client.Inventory.Add(723700, 0, 3);
                                                        client.Inventory.Add(723714, 0, 1);
                                                        client.Entity.SubClasses.StudyPoints += 300;
                                                    }
                                                    if (client.Entity.Level >= 120 && client.Entity.Level < 130)
                                                    {
                                                        client.Inventory.Add(722057, 0, 3);
                                                        client.Inventory.Add(723715, 0, 1);
                                                        client.Entity.SubClasses.StudyPoints += 500;
                                                    }
                                                    else
                                                    {
                                                        client.Inventory.Add(723717, 0, 1);
                                                        client.Entity.SubClasses.StudyPoints += 500;
                                                        client.Inventory.Add(723700, 0, 5);
                                                    }
                                                    client.Entity.ConquerPoints += 215;
                                                    if (Kernel.Rate(70))
                                                    {
                                                        client.Inventory.Add(200449, 0, 1);
                                                    }
                                                    client.Entity.AddTopStatus(Update.Flags.MonthlyPKChampion, 0, DateTime.Now.AddDays(30));
                                                }
                                                client.Entity.Teleport(1002, 300, 278);
                                            }
                                            else
                                            {
                                                dialog.Text("There are still " + (alive - 1).ToString() + " players in the map kill it first to claim prize!");
                                                dialog.Option("okay", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Hey there " + client.Entity.Name + "You can only claim the prize when the time on or after 20:30");
                                            dialog.Option("okay", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region FlameStones
                    case 4454:
                    case 4456:
                    case 4455:
                    case 4457:
                    case 4453:
                    case 4461:
                    case 4458:
                    case 4459:
                    case 4460:
                        {
                            uint takeFlame = 725507 + client.ActiveNpc;
                            uint addFlame = 725507 + client.ActiveNpc + 1;
                            if (GuildWar.IsWar)
                            {
                                if (client.Inventory.Contains(takeFlame, 1))
                                {
                                    client.Inventory.Remove(takeFlame, 1);
                                    client.Inventory.Add(addFlame, 0, 1);
                                    dialog.Text("Well done! Next rune is number " + (client.ActiveNpc - 4451) + ".");
                                    dialog.Send();
                                }
                                else
                                {
                                    dialog.Text("You cannot flame up this stone with out the proper rune.");
                                    dialog.Send();
                                }
                            }
                            else
                            {
                                if (client.ActiveNpc == 4462)
                                {
                                    client.Send(new Message("You totally missed the right time. The 10th Flame Stone can`t be lit up now. ", Color.WhiteSmoke, 2005));
                                }
                                else
                                {
                                    client.Send(new Message("It`s not the right time. You can`t light up the Flame Stone.  ", Color.WhiteSmoke, 2005));
                                }
                            }
                            break;
                        }
                    case 4462:
                        {
                            dialog.Avatar(0);
                            uint takeFlame = 725507 + client.ActiveNpc;
                            uint addFlame = 725507 + client.ActiveNpc + 1;
                            if (GuildWar.IsWar)
                            {
                                if (GuildWar.Flame10th)
                                {
                                    if (client.Inventory.Contains(takeFlame, 1))
                                    {
                                        client.Inventory.Remove(takeFlame, 1);
                                        client.Inventory.Add(addFlame, 0, 1);
                                        dialog.Text("Well done! Nothing left to light up. Congratulations!");
                                        dialog.Send();
                                    }
                                    else
                                    {
                                        dialog.Text("You cannot flame up this stone with out the proper rune.");
                                        dialog.Send();
                                    }
                                }
                                else
                                {
                                    client.Send(new Message("You totally missed the right time. The 10th Flame Stone can`t be lit up now. ", Color.WhiteSmoke, 2005));
                                }
                            }
                            break;
                        }
                    #endregion
                    #region Warden(GuildWar)
                    case 10082:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hey There! You were did in GuildWar map, didn't you! I can Teleport you to TwinCity On xx:00 and xx:30 On Each Hour!");
                                        dialog.Text("You have 2 mins to Exit!");
                                        dialog.Option("Teleport me!", 1);
                                        break;
                                    }
                                case 1:
                                    {
                                        if (DateTime.Now.Minute >= 00 && DateTime.Now.Minute <= 02 || DateTime.Now.Minute >= 30 && DateTime.Now.Minute <= 32)
                                        {
                                            client.Entity.Teleport(1002, 388, 256);
                                        }
                                        else
                                        {
                                            dialog.Text("Hey There! Are you seeing the clock!! I said half past or top each hour!");
                                            dialog.Option("Sorry!", 255);
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Warden
                    case 42:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Lucky for you, the player who killed you is willing to drop the murder charges if you pay him according to what you did.");
                                        dialog.Text("~Lucky for you, the player who killed you is willing to drop the murder charges if you pay him 500,000 silvers.");

                                        dialog.Option("Ok!~Let~me~get~out~from~here!", 1);
                                        dialog.Option("I~would~rather~rot~in~hell!", 255);
                                        dialog.Avatar(54);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Entity.PKPoints < 100)
                                        {
                                            client.Entity.Teleport(1002, 388, 256);
                                        }
                                        else
                                        {
                                            dialog.Text("Ohh! your Pk points is more than 100! try pay 500,000 silver and exit!.");

                                            dialog.Option("Any~chance~of~a~discount?", 2);
                                            dialog.Option("I~would~rather~rot~in~hell!", 255);
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("The red name, whose PK Points are 30-99, can leave here without any price.");
                                        dialog.Text("The black name, whose PK Points are 100 or above, should pay 500,000 as recognizance to leave here.");

                                        dialog.Option("Ok,~I~will~pay.", 3);
                                        dialog.Option("I~would~rather~stay~here.", 255);
                                        dialog.Avatar(54);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        if (client.Entity.PKPoints < 100)
                                        {
                                            dialog.Text("You needn`t stay here any more. Let me help you out.");

                                            dialog.Option("Ok,~thanks.", 4);
                                            dialog.Option("Leave~me~alone.", 255);
                                            dialog.Avatar(54);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            if (client.Entity.Money >= 500000)
                                            {
                                                client.Entity.Teleport(1002, 388, 256);
                                                client.Entity.Money -= 500000;
                                            }
                                            else
                                            {
                                                dialog.Text("Hah! Are you sure you have enough money with you!.");

                                                dialog.Option("No!.", 255);
                                                dialog.Avatar(54);
                                                dialog.Send();
                                            }
                                        }
                                        break;
                                    }
                                case 4:
                                    {
                                        client.Entity.Teleport(1002, 388, 256);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Tinter
                    case 10064: //Tinter
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Select the item.");
                                        dialog.Option("Headgear.", 1);
                                        dialog.Option("Armor.", 3);
                                        dialog.Option("Shield.", 5);
                                        dialog.Option("I'm standing by.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                case 3:
                                case 5:
                                    {
                                        client.TinterItemSelect = npcRequest.OptionID;
                                        dialog.Text("Select the new color.");
                                        dialog.Option("Orange.", 13);
                                        dialog.Option("Light Blue.", 14);
                                        dialog.Option("Red.", 15);
                                        dialog.Option("Blue.", 16);
                                        dialog.Option("Yellow.", 17);
                                        dialog.Option("Purple.", 18);
                                        dialog.Option("White.", 19);
                                        dialog.Option("I'm standing by.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 13:
                                case 14:
                                case 15:
                                case 16:
                                case 17:
                                case 18:
                                case 19:
                                    {
                                        if (client.TinterItemSelect == 0)
                                            return;
                                        ConquerItem item = client.Equipment.TryGetItem(client.TinterItemSelect);
                                        if (item == null || item.ID == 0)
                                        {
                                            dialog.Text("You don't have a item like this one equiped.");
                                            dialog.Send();
                                            break;
                                        }
                                        item.Color = (Conquord.Game.Enums.Color)(npcRequest.OptionID % 10);
                                        Conquord.Database.ConquerItemTable.UpdateColor(item);
                                        client.TinterItemSelect = 0;
                                        item.Mode = Conquord.Game.Enums.ItemMode.Update;
                                        item.Send(client);
                                        item.Mode = Conquord.Game.Enums.ItemMode.Default;
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Lottery
                    #region JewlarLau
                    case 3953:
                    case 2065:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hello i can help you to compose your gems choose what you want.");
                                        dialog.Option("Compose Gems", 1);
                                        dialog.Option("Compose RTG with 7 Ref Gems.", 2);
                                        dialog.Option("Just PassingBy!", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        client.Send(new Data(true) { UID = client.Entity.UID, ID = Data.OpenWindow, dwParam = Data.WindowCommands.TortoiseGemComposing, wParam1 = client.Entity.X, wParam2 = client.Entity.Y });
                                        break;
                                    }
                                case 1:
                                    client.Send(new Data(true) { UID = client.Entity.UID, ID = Data.OpenWindow, dwParam = Data.WindowCommands.GemComposing, wParam1 = client.Entity.X, wParam2 = client.Entity.Y });
                                    break;

                            }
                            break;
                        }
                    #endregion
                    #endregion
                    #region Birth Villiage

                    #region RecruitMaster
                    case 1060:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("You are about to enter the wonderful world of Lucky Conquer!");
                                        dialog.Text("\n\nYou will have much to learn, to survive here. As the saying goes, if you know yourself and your enemy, you will never lose a battle!");
                                        dialog.Option("Got it!", 1);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        switch (client.Entity.Class)
                                        {
                                            case 50:
                                                {
                                                    dialog.Text("What the..! Oh.. It's just you, Ninja!");
                                                    dialog.Text("\n\nSuch a mysterious figures, cloaked in shadow.. Ninjas have the most devastating attacks");
                                                    dialog.Text(", but the lowest defence and health of all classes. Their speed and surprising skills are what make");
                                                    dialog.Text("are what make them such a dangerous force here!\n\nAlways be aware of your surroundings!\n");
                                                    dialog.Option("I am like a shadow!", 2);
                                                    dialog.Send();
                                                    break;
                                                }
                                            case 100:
                                                {
                                                    dialog.Text("Well hello there, young Taoist! Right now, you don't have any specialty in your magic skills.");
                                                    dialog.Text("Once you train enough, you can be promoted to a Fire or Water Taoist, and then continure on your path to glory!");
                                                    dialog.Option("Fire and Water Taoist?", 11);
                                                    dialog.Send();
                                                    break;
                                                }


                                        }
                                        break;
                                    }
                                case 11:
                                    {
                                        dialog.Text("Fire Taoists are able to smite their enemies at long range, as their spells cause much more damage than other Taoists.");
                                        dialog.Text("While the Water Taoists are adept at healing and reviving fallen comrades. Both paths offer their own choices.");
                                        dialog.Text("It's up to you to decide where your heart lies.");
                                        dialog.Option("I see.", 2);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("In Conquer Online, Path Finding is efficient in helping you locate shops and places of intrest. ");
                                        dialog.Text("You can check the current map's list by clicking the \"Path Finding\" button to the right. ");
                                        dialog.Text("Just highlight where you would like to go and click, and you're on your way!");
                                        dialog.Option("Anything else?", 3);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("If you click \"Status\" in the lower right corner of the screen you will be able to check your character level, status, and attributes.");
                                        dialog.Option("I see.", 4);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("You can also check your equipment, weapon proficiency, skills, and skill levels by click the tabs on the left side of the Status window.");
                                        if (client.Entity.Class == 100) { dialog.Option("Got it!", 55); } else { dialog.Option("Got it!", 5); }
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                    {
                                        dialog.Text("Now you should go speak with Old General Yang.\n I'm sure he will be able to teach you some more useful tips!");
                                        dialog.Option("Okay, thanks!", 6);
                                        dialog.Send();
                                        break;
                                    }
                                case 55:
                                    {
                                        dialog.Text("Now you should go speak with Taoist Star.\n I'm sure he will be able to teach you some more useful tips!");
                                        dialog.Option("Okay, thanks!", 66);
                                        dialog.Send();
                                        break;
                                    }
                                case 6:
                                    {
                                        new Message("You should follow the Recruit Master's advice!\nGo find Old General Yang.", System.Drawing.Color.Green, Message.PopUP);
                                        break;
                                    }
                                case 66:
                                    {
                                        new Message("You should follow the Recruit Master's advice!\nGo find Taoist Star.", System.Drawing.Color.Green, Message.PopUP);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion

                    #region Pharmacist
                    case 10008:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hi! I sell all sorts of potions and town scrolls in all the citys.\nI also sell fireworks and skill books in the market.");
                                        dialog.Option("What potions?", 1);
                                        dialog.Option("Consult others.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("Healing and mana potions.\nHealing potions make you healthy.\nMana potions will enable you to cast spells, If you have any.\n");
                                        dialog.Text("\nThat is all. If you have not talked to others NPCs...\nYou had better have a chat with them so that you can learn more.\n");
                                        dialog.Option("I see. Thanks.", 255);
                                        dialog.Send();
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion

                    #region WiseGuy
                    case 10004:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Well, if you want to talk to any NPCs, just click them. Easy, huh?");
                                        dialog.Option("About my class...", 1);
                                        dialog.Option("Ah, Forget about it.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        switch (client.Entity.Class)
                                        {
                                            case 50:
                                                {
                                                    dialog.Text("The Ninja is an expert in various oriental weapons, boasting swift and powerful melee attack skills. I know somebody. In Twin City there are merchants I know. you go talk to them, they'll sort you out. Got it?");
                                                    break;
                                                }
                                            case 10:
                                                {
                                                    dialog.Text("The Trojan is an expert in various oriental weapons, dual wield and a powerful melee attack skills. I know somebody. In Twin City there are merchants I know. you go talk to them, they'll sort you out. Got it?");
                                                    break;
                                                }
                                            case 40:
                                                {
                                                    dialog.Text("The Archer is an expert in Ranged oriental weapons, Ppowerful Ranged attack skills. I know somebody. In Twin City there are merchants I know. you go talk to them, they'll sort you out. Got it?");
                                                    break;
                                                }
                                            case 20:
                                                {
                                                    dialog.Text("The Warrior is an expert in various oriental weapons, two handed weapons, Sheald and a powerful melee attack skills. I know somebody. In Twin City there are merchants I know. you go talk to them, they'll sort you out. Got it?");
                                                    break;
                                                }
                                            case 100:
                                                {
                                                    dialog.Text("The Taoist is an expert in various Magic Spells, powerful melee Spells and skills. I know somebody. In Twin City there are merchants I know. you go talk to them, they'll sort you out. Got it?");
                                                    break;
                                                }
                                        }
                                        dialog.Option("I see, thanks.", 0);
                                        dialog.Send();
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion

                    #region VilliageIdiot
                    case 10009:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hello, new blood! Welcome! It is good that you selected This class!");
                                        dialog.Option("Thank you.", 1);
                                        dialog.Option("Not a chance. Leave me be!", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        switch (client.Entity.Class)
                                        {
                                            case 10:
                                                {
                                                    dialog.Text("Some handy weapons are essential for Trojans. But you'd never do that, Cause your're my friend now, right?");
                                                    break;
                                                }
                                            case 40:
                                                {
                                                    dialog.Text("Some handy weapons are essential for Archers. But you'd never do that, Cause your're my friend now, right?");
                                                    break;
                                                }
                                            case 20:
                                                {
                                                    dialog.Text("Some handy weapons are essential for Warriors. But you'd never do that, Cause your're my friend now, right?");
                                                    break;
                                                }
                                            case 100:
                                                {
                                                    dialog.Text("Some handy weapons are essential for Taoists. But you'd never do that, Cause your're my friend now, right?");
                                                    break;
                                                }
                                            case 50:
                                                {
                                                    dialog.Text("Some handy weapons are essential for Ninjas. But you'd never do that, Cause your're my friend now, right?");
                                                    break;
                                                }
                                        }
                                        dialog.Option("Sure.. I'll be back in my next life.", 255);
                                        dialog.Send();
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion

                    #region Armorer
                    case 10007:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Armorers swear only to provide the very best in defense.\nWhether it's robes or helmets, we have it all.");
                                        dialog.Option("I see. Where can I find an armorer?", 1);
                                        dialog.Option("Consult others.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {

                                        dialog.Text("Every city or major settlement has one.\nBut our armors very best from place to place.\nSome armorers have better helms, while others specialize in mail or helms.\n");
                                        dialog.Text("Just to be sure to buy armor without red text in the description.\nYou won't be able to wear those!\n");
                                        dialog.Option("I see. Thanks.", 255);
                                        dialog.Send();
                                        break;

                                    }
                            }
                            break;
                        }
                    #endregion

                    #region Warehouseman
                    case 10006:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Welcome! I run a warehouse in every city.\nYou can store your money and items in my warehouses, and retrieve them for free.");
                                        dialog.Option("Cool. How do I use them?", 1);
                                        dialog.Option("Consult others.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {

                                        dialog.Text("First, you find my warehouse men in your city..\nClick on him to see your storage box open up.\nTo deposit money, enter the amount in the bank field before clicking Deposit.\n");
                                        dialog.Text("Withdrawing money is the same.\n \nIf you want to put items in your storage space, just drag and drop.\nTaking them out only requires one click.\nAlso, your money is totalled from all warehouses.\n");
                                        dialog.Option("I see. Thanks.", 255);
                                        dialog.Send();
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion

                    #region Blacksmith
                    case 10005:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("We blacksmiths can be found from North to South, East to West.\nWe promise a fine selection of weapons for you to purchase!");
                                        dialog.Option("Tell me more.", 1);
                                        dialog.Option("Consult others.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {

                                        dialog.Text("Let me tell you how to choose a good weapon.\nHover your mouse pointer over the weapon, check its stats and find a weapon with all white writing.\nIf there's red text, you won't be able to use it.");
                                        dialog.Text("After you buy it, you open your backpack, find the right item and right-click it to equip.\nIt's as easy as that!\n \nOh, and to sell an item, you just drag and drop to my shop!\n");
                                        dialog.Option("What about repairs?", 2);
                                        dialog.Option("Consult others.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {

                                        dialog.Text("First, unequip the item by double-clicking it in your status window.\nThen find me, click my repair button and click the item.");
                                        dialog.Option("Any other tips?", 3);
                                        dialog.Option("Consult others.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {

                                        dialog.Text("Yeah, some items are high quality: Normal, Refined, Unique, Elite, Super.\nThat's specialist stuff, only found in the market.\nThat is all. If you have not talked to other NPCs...\nYou had better have a chat with them so that you can learn more.");
                                        dialog.Option("Thanks.", 255);
                                        dialog.Send();
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion



                    #region OldGeneralYang
                    case 425:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Oh, I so long for the glory of the field, but I'm too old to go back out and deal with these youngsters...\n");
                                        dialog.Text("I see a spark in your eye that reminds me of my younger days... What can I do for you young one?");
                                        dialog.Option("I'm ready for Initiation.", 1);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("It would be wise for you to learn alittle more about Conquer before you decide to head out on your own.");
                                        dialog.Option("Fill me in.", 2);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("There are two kinds of skills in Conquer.\nOne is the active skills, which are activated through the use of your magic or stamina.");
                                        dialog.Option("And the other?", 3);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("The other is known as a passive skill.\nPassive skills will automaticly activate if the situation warrants the passive skills use.");
                                        dialog.Option("Got it!", 4);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("Well that is all I can tell you for today. It's time to eat!\nYou can talk to the Village Gateman when you are ready to get started.");
                                        dialog.Option("Okay", 255);
                                        dialog.Send();
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion

                    #endregion
                    #region Warehousemen

                    case 8:
                    case 10012:
                    case 10028:
                    case 10011:
                    case 10027:
                    case 4101:
                    case 44:
                    case 30657:
                    case 30658:
                    case 30659:
                    case 10010:
                    case 1765:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.WarehouseOpen == true || client.WarehousePW == 0)
                                        {
                                            INpc npc = null;
                                            if (client.Map.Npcs.TryGetValue(client.ActiveNpc, out npc))
                                            {
                                                client.WarehouseOpen = true;
                                                Data data = new Data(true);
                                                data.ID = Data.OpenWindow;
                                                data.UID = client.Entity.UID;
                                                data.TimeStamp = Time32.Now;
                                                data.dwParam = 4;
                                                data.wParam1 = npc.X;
                                                data.wParam2 = npc.Y;
                                                client.Send(data);
                                            }
                                        }
                                        else
                                        {
                                            Data data = new Data(true);
                                            data.UID = client.Entity.UID;
                                            data.ID = Data.OpenWindow;
                                            data.TimeStamp = Time32.Now;
                                            data.dwParam = Data.WindowCommands.SecondaryPasswordVerification;
                                            data.wParam1 = client.Entity.X;
                                            data.wParam2 = client.Entity.Y;
                                            client.Send(data);
                                        }
                                        break;
                                    }
                            }
                            break;
                        }

                    #endregion
                    #region Boxers
                    case 180:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("If you want to leave just tell me when you are ready. It's free.\nYou will be teleported to the city you were in before coming here.");
                                        dialog.Option("I'm ready.", 1);
                                        dialog.Option("Wait a minute.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        int PrevMap = client.Entity.PreviousMapID;
                                        switch (PrevMap)
                                        {
                                            default:
                                                {
                                                    client.Entity.Teleport(1002, 300, 278);
                                                    break;
                                                }
                                            case 1000:
                                                {
                                                    client.Entity.Teleport(1000, 500, 650);
                                                    break;
                                                }
                                            case 1020:
                                                {
                                                    client.Entity.Teleport(1020, 565, 562);
                                                    break;
                                                }
                                            case 1011:
                                                {
                                                    client.Entity.Teleport(1011, 188, 264);
                                                    break;
                                                }
                                            case 1015:
                                                {
                                                    client.Entity.Teleport(1015, 717, 571);
                                                    break;
                                                }
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    case 1800:
                    case 182:
                    case 183:
                    case 184:
                    case 185:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("If~you~are~level~20~or~above,~you~may~train~in~the~training~ground.~Would~you~like~me~to~teleport~you~there~for~1000~silver.");
                                        dialog.Option("Yes,~please.", 1);
                                        dialog.Option("No,~thanks.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("In~the~training~ground,~you~will~not~lose~any~HP~or~MP.~And~no~items~nor~durability~will~be~consumed.");
                                        dialog.Option("Please~teleport~me~there.", 2);
                                        dialog.Option("No,~I~changed~my~mind.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        if (client.Entity.Level >= 20)
                                        {
                                            if (client.Entity.Money >= 1000)
                                            {
                                                client.Entity.Money -= 1000;
                                                client.Entity.Teleport(1039, 216, 214);
                                                dialog.Text("The~stake~or~scarecrow~is~level~20~or~above.~If~its~level~is~higher~than~yours,~you~cannot~attack~it.");
                                                dialog.Option("I~see.", 255);
                                                dialog.Send();
                                            }
                                            else
                                            {
                                                dialog.Text("You do not have 1000 silvers.");
                                                dialog.Option("Aww!", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Your level is not high enough.");
                                            dialog.Option("Aww!", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region OfflineTG
                    case 3836:
                        {
                            OfflineTGStats sts = new OfflineTGStats(true);
                            var T1 = new TimeSpan(DateTime.Now.Ticks);
                            var T2 = new TimeSpan(client.OfflineTGEnterTime.Ticks);
                            ushort minutes = (ushort)(T1.TotalMinutes - T2.TotalMinutes);
                            if (client.Entity.VIPLevel == 1)
                            {
                                minutes = (ushort)Math.Min((ushort)960, minutes);
                                sts.TotalTrainingMinutesLeft = (ushort)(960 - minutes);
                            }
                            if (client.Entity.VIPLevel == 2)
                            {
                                minutes = (ushort)Math.Min((ushort)1020, minutes);
                                sts.TotalTrainingMinutesLeft = (ushort)(1020 - minutes);
                            }
                            if (client.Entity.VIPLevel == 3)
                            {
                                minutes = (ushort)Math.Min((ushort)1080, minutes);
                                sts.TotalTrainingMinutesLeft = (ushort)(1080 - minutes);
                            }
                            if (client.Entity.VIPLevel == 4)
                            {
                                minutes = (ushort)Math.Min((ushort)1140, minutes);
                                sts.TotalTrainingMinutesLeft = (ushort)(1140 - minutes);
                            }
                            if (client.Entity.VIPLevel == 5)
                            {
                                minutes = (ushort)Math.Min((ushort)1260, minutes);
                                sts.TotalTrainingMinutesLeft = (ushort)(1260 - minutes);
                            }
                            if (client.Entity.VIPLevel == 6)
                            {
                                minutes = (ushort)Math.Min((ushort)1440, minutes);
                                sts.TotalTrainingMinutesLeft = (ushort)(1440 - minutes);
                            }
                            if (client.Entity.VIPLevel == 0)
                            {
                                minutes = (ushort)Math.Min((ushort)900, minutes);
                                sts.TotalTrainingMinutesLeft = (ushort)(900 - minutes);
                            }
                            sts.TrainedMinutes = minutes;
                            ulong exp = client.Entity.Experience;
                            byte level = client.Entity.Level;
                            double expballGain = (double)300 * (double)minutes / (double)900;
                            while (expballGain >= 100)
                            {
                                expballGain -= 100;
                                exp += client.ExpBall;
                            }
                            if (expballGain != 0)
                                exp += (uint)(client.ExpBall * (expballGain / 100));

                            while (exp >= Conquord.Database.DataHolder.LevelExperience(level))
                            {
                                exp -= Conquord.Database.DataHolder.LevelExperience(level);
                                level++;
                            }
                            double percent = (double)exp * (double)100 / (double)Conquord.Database.DataHolder.LevelExperience(level);

                            sts.Character_NewExp = (ulong)(percent * 100000);
                            sts.Character_AcquiredLevel = level;
                            sts.Send(client);
                            break;
                        }
                    #endregion
                    #region Adventure Zone
                    #region ConductressBack1
                    case 9994:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Do you want to back to the guild arena?");
                                        dialog.Option("Yes.", 1);
                                        dialog.Option("No.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Entity.Teleport(1038, 348, 339);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region ConductressBack1
                    case 9995:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Do you want to back to the guild arena?");
                                        dialog.Option("Yes.", 1);
                                        dialog.Option("No.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Entity.Teleport(1038, 348, 339);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region ConductressBack1
                    case 9996:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Do you want to back to the guild arena?");
                                        dialog.Option("Yes.", 1);
                                        dialog.Option("No.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Entity.Teleport(1038, 348, 339);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region ConductressBack1
                    case 9997:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Do you want to back to the guild arena?");
                                        dialog.Option("Yes.", 1);
                                        dialog.Option("No.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Entity.Teleport(1038, 348, 339);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Adv zone teleporter
                    case 300655:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("I have just discovered a new place, where the turtle doves are so big, that they drop awesome items when they die. It's free, do you want to see it?");
                                        dialog.Option("Yes please.", 1);
                                        dialog.Option("No thank you.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Entity.Teleport(1210, 1029, 714);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Adv zone mine supervisor
                    case 300652:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("In this mine, the minerals are very good. They are really expensive, would you like to enter?");
                                        dialog.Option("Yes please.", 1);
                                        dialog.Option("No thank you.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Entity.Teleport(1218, 30, 69);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Grandpa
                    case 300653:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Would you like to advance?");
                                        dialog.Option("Yes.", 1);
                                        dialog.Option("No.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Entity.Teleport(1219, 448, 272);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Boatman
                    case 300654:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Would you like to go in TwinCity?");
                                        dialog.Option("Yes.", 1);
                                        dialog.Option("No.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Entity.Teleport(1002, 302, 280);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #endregion

                    #region [Top] BlackName
                    case 1005:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to join the Top BlackName PKWar?.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (DateTime.Now.Minute >= 38 && DateTime.Now.Minute < 42)
                                        {
                                            Random R = new Random();
                                            int Nr = R.Next(1, 4);
                                            if (Nr == 1) client.Entity.Teleport(11, 34, 68);
                                            if (Nr == 2) client.Entity.Teleport(11, 33, 33);
                                            if (Nr == 3) client.Entity.Teleport(11, 50, 33);
                                            if (Nr == 4) client.Entity.Teleport(11, 50, 50);
                                            //if (Nr == 5) client.Entity.Teleport(1508, 98, 130);
                                            //if (Nr == 6) client.Entity.Teleport(1508, 96, 153);
                                            //if (Nr == 7) client.Entity.Teleport(1508, 112, 162);
                                            //if (Nr == 8) client.Entity.Teleport(1508, 130, 166);
                                            //if (Nr == 9) client.Entity.Teleport(1508, 139, 114);
                                            //if (Nr == 10) client.Entity.Teleport(1508, 156, 119);
                                        }
                                        else
                                        {
                                            dialog.Text("Top BlackName Pk War is held during xx:38 To xx:42 ");
                                            dialog.Option("I don't care.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region BlackName Winner
                    case 1006:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to claim your Prize?.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        int alive = 0;
                                        foreach (Client.GameClient Entitys in Kernel.GamePool.Values)
                                            if (Entitys.Entity.MapID == 11 && (!Entitys.Entity.Dead))
                                                alive++;
                                        if (DateTime.Now.Minute >= 43 && DateTime.Now.Minute <= 59)
                                        {
                                            if (alive == 1)
                                            {
                                                client.Entity.Update(_String.Effect, "break_start", true);
                                                client.Entity.ConquerPoints += 2150;
                                                Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " claimed the prize 2150 ConquerPoints for winning the [Top] BlackName Pk War and Receive New Wing In His WardRobe.", System.Drawing.Color.Black, Message.Talk), Program.GamePool);
                                                client.Entity.AddTopStatus(Update.Flags3.rygh_hglx, 3, DateTime.Now.AddMinutes(58));
                                                client.Entity.RemoveFlag((ulong)Update.Flags.Ride);
                                                client.Entity.SendSpawn(client, true);
                                                client.Entity.Teleport(1002, 301, 278);

                                            }
                                            else
                                            {
                                                dialog.Text("There are still " + alive + " Entitys in the map kill it first to claim prize!");
                                                dialog.Option("okay", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Hey there " + client.Entity.Name + "You can only claim the prize when the time on or after xx:43");
                                            dialog.Option("okay", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion

                    #region [Top] ChampionRace
                    case 1007:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to join the Top ChampionRace PKWar?.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (DateTime.Now.Minute >= 5 && DateTime.Now.Minute <= 7)
                                        {
                                            Random R = new Random();
                                            int Nr = R.Next(1, 4);
                                            if (Nr == 1) client.Entity.Teleport(12, 34, 68);
                                            if (Nr == 2) client.Entity.Teleport(12, 33, 33);
                                            if (Nr == 3) client.Entity.Teleport(12, 68, 33);
                                            if (Nr == 4) client.Entity.Teleport(12, 50, 50);
                                            //if (Nr == 5) client.Entity.Teleport(1508, 98, 130);
                                            //if (Nr == 6) client.Entity.Teleport(1508, 96, 153);
                                            //if (Nr == 7) client.Entity.Teleport(1508, 112, 162);
                                            //if (Nr == 8) client.Entity.Teleport(1508, 130, 166);
                                            //if (Nr == 9) client.Entity.Teleport(1508, 139, 114);
                                            //if (Nr == 10) client.Entity.Teleport(1508, 156, 119);
                                        }
                                        else
                                        {
                                            dialog.Text("Top ChampionRace Pk War is held during Saturday at 5To7 ");
                                            dialog.Option("I don't care.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region ChampionRace Winner
                    case 1008:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to claim your Prize?.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        int alive = 0;
                                        foreach (Client.GameClient Entitys in Kernel.GamePool.Values)
                                            if (Entitys.Entity.MapID == 12 && (!Entitys.Entity.Dead))
                                                alive++;
                                        if (DateTime.Now.Minute >= 9 && DateTime.Now.Minute <= 59)
                                        {
                                            if (alive == 1)
                                            {
                                                client.Entity.Update(_String.Effect, "break_start", true);
                                                client.Entity.ConquerPoints += 2150;
                                                Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " claimed the prize 2150 ConquerPoints for winning the [Top] ChampionRace Pk War and Receive New Title In His WardRobe.", System.Drawing.Color.Black, Message.Talk), Program.GamePool);
                                                client.Entity.AddTopStatus(Update.Flags3.rygh_syzs, 3, DateTime.Now.AddMinutes(58));
                                                client.Entity.RemoveFlag((ulong)Update.Flags.Ride);
                                                client.Entity.SendSpawn(client, true);
                                                client.Entity.Teleport(1002, 301, 278);

                                            }
                                            else
                                            {
                                                dialog.Text("There are still " + alive + " Entitys in the map kill it first to claim prize!");
                                                dialog.Option("okay", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Hey there " + client.Entity.Name + "You can only claim the prize when the time on or after x9");
                                            dialog.Option("okay", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion

                    #region [Top] RedName
                    case 1009:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to join the Top RedName PKWar?.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (DateTime.Now.Minute >= 13 && DateTime.Now.Minute <= 15)
                                        {
                                            Random R = new Random();
                                            int Nr = R.Next(1, 4);
                                            if (Nr == 1) client.Entity.Teleport(13, 34, 68);
                                            if (Nr == 2) client.Entity.Teleport(13, 33, 33);
                                            if (Nr == 3) client.Entity.Teleport(13, 68, 33);
                                            if (Nr == 4) client.Entity.Teleport(13, 50, 50);
                                            //if (Nr == 5) client.Entity.Teleport(1508, 98, 130);
                                            //if (Nr == 6) client.Entity.Teleport(1508, 96, 153);
                                            //if (Nr == 7) client.Entity.Teleport(1508, 112, 162);
                                            //if (Nr == 8) client.Entity.Teleport(1508, 130, 166);
                                            //if (Nr == 9) client.Entity.Teleport(1508, 139, 114);
                                            //if (Nr == 10) client.Entity.Teleport(1508, 156, 119);
                                        }
                                        else
                                        {
                                            dialog.Text("Top RedName Pk War is held during xx:13 To xx:15 ");
                                            dialog.Option("I don't care.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region RedName Winner
                    case 1010:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to claim your Prize?.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        int alive = 0;
                                        foreach (Client.GameClient Entitys in Kernel.GamePool.Values)
                                            if (Entitys.Entity.MapID == 13 && (!Entitys.Entity.Dead))
                                                alive++;
                                        if (DateTime.Now.Minute >= 16 && DateTime.Now.Minute <= 59)
                                        {
                                            if (alive == 1)
                                            {
                                                client.Entity.Update(_String.Effect, "break_start", true);
                                                client.Entity.ConquerPoints += 2150;
                                                Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " claimed the prize 2150 ConquerPoints for winning the [Top] RedName Pk War and Receive New Title In His WardRobe.", System.Drawing.Color.Black, Message.Talk), Program.GamePool);
                                                client.Entity.AddTopStatus(Update.Flags3.ConuqerSuperUnderBlue, 3, DateTime.Now.AddMinutes(58));
                                                client.Entity.RemoveFlag((ulong)Update.Flags.Ride);
                                                client.Entity.SendSpawn(client, true);
                                                client.Entity.Teleport(1002, 301, 278);

                                            }
                                            else
                                            {
                                                dialog.Text("There are still " + alive + " Entitys in the map kill it first to claim prize!");
                                                dialog.Option("okay", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Hey there " + client.Entity.Name + "You can only claim the prize when the time on or after x16");
                                            dialog.Option("okay", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion

                    #region [Top] DeadWorld
                    case 1011:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to join the Top DeadWorld PKWar?.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (DateTime.Now.Minute >= 18 && DateTime.Now.Minute <= 20)
                                        {
                                            Random R = new Random();
                                            int Nr = R.Next(1, 4);
                                            if (Nr == 1) client.Entity.Teleport(14, 34, 68);
                                            if (Nr == 2) client.Entity.Teleport(14, 33, 33);
                                            if (Nr == 3) client.Entity.Teleport(14, 68, 33);
                                            if (Nr == 4) client.Entity.Teleport(14, 50, 50);
                                            //if (Nr == 5) client.Entity.Teleport(1508, 98, 130);
                                            //if (Nr == 6) client.Entity.Teleport(1508, 96, 153);
                                            //if (Nr == 7) client.Entity.Teleport(1508, 112, 162);
                                            //if (Nr == 8) client.Entity.Teleport(1508, 130, 166);
                                            //if (Nr == 9) client.Entity.Teleport(1508, 139, 114);
                                            //if (Nr == 10) client.Entity.Teleport(1508, 156, 119);
                                        }
                                        else
                                        {
                                            dialog.Text("Top DeadWorld Pk War is held during xx:18 To xx:20 ");
                                            dialog.Option("I don't care.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region DeadWorld Winner
                    case 1012:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to claim your Prize?.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        int alive = 0;
                                        foreach (Client.GameClient Entitys in Kernel.GamePool.Values)
                                            if (Entitys.Entity.MapID == 14 && (!Entitys.Entity.Dead))
                                                alive++;
                                        if (DateTime.Now.Minute >= 21 && DateTime.Now.Minute <= 59)
                                        {
                                            if (alive == 1)
                                            {
                                                client.Entity.Update(_String.Effect, "break_start", true);
                                                client.Entity.ConquerPoints += 2150;
                                                Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " claimed the prize 2150 ConquerPoints for winning the [Top] DeadWorld Pk War and Receive New Title In His WardRobe.", System.Drawing.Color.Black, Message.Talk), Program.GamePool);
                                                client.Entity.AddTopStatus(Update.Flags3.DragonWarriorTop, 3, DateTime.Now.AddMinutes(58));
                                                client.Entity.RemoveFlag((ulong)Update.Flags.Ride);
                                                client.Entity.SendSpawn(client, true);
                                                client.Entity.Teleport(1002, 301, 278);

                                            }
                                            else
                                            {
                                                dialog.Text("There are still " + alive + " Entitys in the map kill it first to claim prize!");
                                                dialog.Option("okay", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Hey there " + client.Entity.Name + "You can only claim the prize when the time on or after xx:21");
                                            dialog.Option("okay", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion

                    #region [Top] Revenger
                    case 1013:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to join the Top Revenger PKWar?.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (DateTime.Now.Minute >= 25 && DateTime.Now.Minute <= 27)
                                        {
                                            Random R = new Random();
                                            int Nr = R.Next(1, 4);
                                            if (Nr == 1) client.Entity.Teleport(15, 34, 68);
                                            if (Nr == 2) client.Entity.Teleport(15, 33, 33);
                                            if (Nr == 3) client.Entity.Teleport(15, 68, 33);
                                            if (Nr == 4) client.Entity.Teleport(15, 50, 50);
                                            //if (Nr == 5) client.Entity.Teleport(1508, 98, 130);
                                            //if (Nr == 6) client.Entity.Teleport(1508, 96, 153);
                                            //if (Nr == 7) client.Entity.Teleport(1508, 112, 162);
                                            //if (Nr == 8) client.Entity.Teleport(1508, 130, 166);
                                            //if (Nr == 9) client.Entity.Teleport(1508, 139, 114);
                                            //if (Nr == 10) client.Entity.Teleport(1508, 156, 119);
                                        }
                                        else
                                        {
                                            dialog.Text("Top Revenger Pk War is held during xx:25 To xx:27 ");
                                            dialog.Option("I don't care.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Revenger Winner
                    case 1014:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to claim your Prize?.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        int alive = 0;
                                        foreach (Client.GameClient Entitys in Kernel.GamePool.Values)
                                            if (Entitys.Entity.MapID == 15 && (!Entitys.Entity.Dead))
                                                alive++;
                                        if (DateTime.Now.Minute >= 28 && DateTime.Now.Minute <= 59)
                                        {
                                            if (alive == 1)
                                            {
                                                client.Entity.Update(_String.Effect, "break_start", true);
                                                client.Entity.ConquerPoints += 2150;
                                                Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " claimed the prize 2150 ConquerPoints for winning the [Top] Revenger Pk War and Receive New Title In His WardRobe.", System.Drawing.Color.Black, Message.Talk), Program.GamePool);
                                                client.Entity.AddTopStatus(Update.Flags3.ConuqerSuperBlue, 3, DateTime.Now.AddMinutes(58));
                                                client.Entity.RemoveFlag((ulong)Update.Flags.Ride);
                                                client.Entity.SendSpawn(client, true);
                                                client.Entity.Teleport(1002, 301, 278);

                                            }
                                            else
                                            {
                                                dialog.Text("There are still " + alive + " Entitys in the map kill it first to claim prize!");
                                                dialog.Option("okay", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Hey there " + client.Entity.Name + "You can only claim the prize when the time on or after xx:02");
                                            dialog.Option("okay", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion              
      
                    #region [Top] OneHit
                    case 1841:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to join OneHit.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("Not now.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1://ShaDow 
                                    {
                                        if (DateTime.Now.Minute >= 50 && DateTime.Now.Minute <= 53)
                                        {
                                            client.Entity.Teleport(1811, 50, 50);
                                        }
                                        else
                                        {//ShaDow 
                                            dialog.Text("OneHit is held during xx:50 To xx:53 in every Hour");
                                            dialog.Option("I don't care.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Winner OneHit
                    case 18415250:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0://Conquord 
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to claim your Prize?.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        int alive = 0;
                                        foreach (Client.GameClient Entitys in Kernel.GamePool.Values)
                                            if (Entitys.Entity.MapID == 1811 && (!Entitys.Entity.Dead))
                                                alive++;

                                        if (DateTime.Now.Minute >= 54 && DateTime.Now.Minute <= 59)
                                        {
                                            if (alive == 1)
                                            {
                                                client.Entity.Update(_String.Effect, "break_start", true);
                                                client.Entity.ConquerPoints += 2150;
                                                client.Entity.AddTopStatus(Update.Flags2.Top2Weekly, 3, DateTime.Now.AddMinutes(58));
                                                client.Entity.RemoveFlag((ulong)Update.Flags.Ride);
                                                Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + "  You Win.", System.Drawing.Color.Black, Message.Talk), Program.GamePool);
                                                client.Entity.SendSpawn(client, true);
                                                client.Entity.Teleport(1002, 302, 278);
                                                EntityTable.SaveEntity(client);
                                            }
                                            else
                                            {
                                                dialog.Text("There are still " + alive + " players in the map kill it first to claim prize!");
                                                dialog.Option("okay", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Hey there " + client.Entity.Name + "You can only claim the prize when the time on or after xx:54 To xx:59 ");
                                            dialog.Option("okay", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion

                    #region [Top] Life Pk
                    case 741230:
                        {//ShaDow 
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to join Life~PK.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("Not now.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (DateTime.Now.Minute >= 21 && DateTime.Now.Minute <= 23)
                                        {
                                            client.Entity.Teleport(3214, 53, 41);
                                        }
                                        else
                                        {
                                            dialog.Text("OneHit is held during xx:21 To xx:23 in every Hour");
                                            dialog.Option("I don't care.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Winner LifePk
                    case 74130:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to claim your Prize?.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        int alive = 0;
                                        foreach (Client.GameClient Entitys in Kernel.GamePool.Values)
                                            if (Entitys.Entity.MapID == 3214 && (!Entitys.Entity.Dead))
                                                alive++;

                                        if (DateTime.Now.Minute >= 22 && DateTime.Now.Minute <= 24)
                                        {
                                            if (alive == 1)//ShaDow 
                                            {
                                                client.Entity.Update(_String.Effect, "break_start", true);
                                                client.Entity.ConquerPoints += 2150;
                                                client.Entity.AddTopStatus(Update.Flags2.TopPirate, 3, DateTime.Now.AddMinutes(58));
                                                client.Entity.RemoveFlag((ulong)Update.Flags.Ride);
                                                Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " claimed the prize 2,150 ConquerPoints for winning the [Top] Conquer Pk War and Receive New Wing In His WardRobe.", System.Drawing.Color.Black, Message.Talk), Program.GamePool);
                                                client.Entity.SendSpawn(client, true);
                                                client.Entity.Teleport(1002, 302, 278);
                                                EntityTable.SaveEntity(client);
                                            }
                                            else
                                            {
                                                dialog.Text("There are still " + alive + " players in the map kill it first to claim prize!");
                                                dialog.Option("okay", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Hey there " + client.Entity.Name + "You can only claim the prize when the time on or after xx:22 To xx:24 ");

                                            dialog.Option("okay", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion

                    #region [Top] BigBoss
                    case 789621:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to join BigBoss.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("Not now.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (DateTime.Now.Minute >= 10 && DateTime.Now.Minute <= 12)
                                        {
                                            client.Entity.Teleport(1707, 50, 50);
                                        }
                                        else
                                        {
                                            dialog.Text("BigBosses is held during xx:10 To xx:12 in every hour");
                                            dialog.Option("I don't care.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Winner BigBoss
                    case 789622:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to claim your Prize?.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        int alive = 0;
                                        foreach (Client.GameClient Entitys in Kernel.GamePool.Values)
                                            if (Entitys.Entity.MapID == 1707 && (!Entitys.Entity.Dead))
                                                alive++;

                                        if (DateTime.Now.Minute >= 12 && DateTime.Now.Minute <= 13)
                                        {
                                            if (alive == 1)
                                            {
                                                client.Entity.Update(_String.Effect, "break_start", true);
                                                client.Entity.ConquerPoints += 2150;
                                                client.Entity.AddTopStatus(Update.Flags.TopArcher, 3, DateTime.Now.AddMinutes(58));
                                                client.Entity.RemoveFlag((ulong)Update.Flags.Ride);
                                                Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " claimed the prize 2150 ConquerPoints for winning the [Top] Conquer Pk War and Receive New Wing In His WardRobe.", System.Drawing.Color.Black, Message.Talk), Program.GamePool);
                                                client.Entity.SendSpawn(client, true);
                                                client.Entity.Teleport(1002, 302, 278);
                                                EntityTable.SaveEntity(client);
                                            }
                                            else
                                            {
                                                dialog.Text("There are still " + alive + " players in the map kill it first to claim prize!");
                                                dialog.Option("okay", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Hey there " + client.Entity.Name + "You can only claim the prize when the time on or after xx:12 To xx:13 ");
                                            dialog.Option("okay", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion

                    #region [Top] GentleWar
                    case 333329:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to join the Gentlewar  ?.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("Not now.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (DateTime.Now.Minute >= 29 && DateTime.Now.Minute <= 31)
                                        {
                                            client.Entity.Teleport(9391, 50, 50);
                                        }
                                        else
                                        {
                                            dialog.Text("GentleWar is held during xx:29 To xx:31 in every Hour");
                                            dialog.Option("I don't care.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Winner GentleWar
                    case 333328:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + "Would you like to claim your Prize?.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("I don't care.", 255);//ShaDow 
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        int alive = 0;
                                        foreach (Client.GameClient Entitys in Kernel.GamePool.Values)
                                            if (Entitys.Entity.MapID == 9391 && (!Entitys.Entity.Dead))
                                                alive++;

                                        if (DateTime.Now.Minute >= 32 && DateTime.Now.Minute <= 34)
                                        {
                                            if (alive == 1)
                                            {
                                                client.Entity.Update(_String.Effect, ("break_start"), true);
                                                client.Entity.ConquerPoints += 2150;
                                                client.Entity.AddTopStatus(Update.Flags4.WindwalkerTop, 3, DateTime.Now.AddMinutes(58));
                                                client.Entity.RemoveFlag((ulong)Update.Flags.Ride);
                                                Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " claimed the prize 2150 ConquerPoints for winning the [Top] Conquer Pk War and Receive New Wing In His WardRobe.", System.Drawing.Color.Black, Message.Talk), Program.GamePool);
                                                client.Entity.SendSpawn(client, true);
                                                client.Entity.Teleport(1002, 302, 278);
                                                EntityTable.SaveEntity(client);
                                            }
                                            else
                                            {
                                                dialog.Text("There are still " + alive + " players in the map kill it first to claim prize!");
                                                dialog.Option("okay", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Hey there " + client.Entity.Name + "You can only claim the prize when the time on or after xx:32 To xx:34 ");
                                            dialog.Option("okay", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion

                    #region [Top] CrazyWar
                    case 333377:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to join the CrazyWar  ?.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("Not now.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (DateTime.Now.Minute >= 45 && DateTime.Now.Minute <= 49)
                                        {
                                            client.Entity.Teleport(9392, 50, 50);
                                        }
                                        else
                                        {
                                            dialog.Text("CrazyWar is held during xx:45 To xx:49 in every Hour");
                                            dialog.Option("I don't care.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Winner CrazyWar
                    case 333378:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + "Would you like to claim your Prize?.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("I don't care.", 255);//ShaDow 
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        int alive = 0;
                                        foreach (Client.GameClient Entitys in Kernel.GamePool.Values)
                                            if (Entitys.Entity.MapID == 9392&& (!Entitys.Entity.Dead))
                                                alive++;

                                        if (DateTime.Now.Minute >= 48 && DateTime.Now.Minute <= 50)
                                        {
                                            if (alive == 1)
                                            {
                                                client.Entity.Update(_String.Effect, ("break_start"), true);
                                                client.Entity.ConquerPoints += 2150;
                                                client.Entity.AddTopStatus(Update.Flags.TopNinja, 3, DateTime.Now.AddMinutes(58));
                                                client.Entity.RemoveFlag((ulong)Update.Flags.Ride);
                                                Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " claimed the prize 2150 ConquerPoints for winning the [Top] CrazyWar Pk and Receive New Wing In His WardRobe.", System.Drawing.Color.Black, Message.Talk), Program.GamePool);
                                                client.Entity.SendSpawn(client, true);
                                                client.Entity.Teleport(1002, 302, 278);
                                                EntityTable.SaveEntity(client);
                                            }
                                            else
                                            {
                                                dialog.Text("There are still " + alive + " players in the map kill it first to claim prize!");
                                                dialog.Option("okay", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Hey there " + client.Entity.Name + "You can only claim the prize when the time on or after xx:xx:48 To xx:50 ");
                                            dialog.Option("okay", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion

                    #region DragonBallChgangers
                    case 591700:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hello Guys.. I Can Help You For Exchange DragonBall For 115 Cps Or 8 M ?");
                                        dialog.Option("Change~For~10 M", 2);
                                        dialog.Option("Change~For~115 Cps", 4);
                                        dialog.Option("Thanks~aLot.", 255);
                                        dialog.Send();
                                        break;

                                    }
                                case 2:
                                    {
                                        if (client.Inventory.Contains(1088000, 1))
                                        {

                                            client.Inventory.Remove(1088000, 1);
                                            client.Entity.Money += 8000000;
                                            client.MessageBox("Grtz You Got 8.000.000 Money ");
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry .. You don't have Dragonball");
                                            dialog.Option("Ahh sorry.", 255);
                                            break;
                                        }
                                        break;
                                    }
                                case 4:
                                    {
                                        if (client.Inventory.Contains(1088000, 1))
                                        {

                                            client.Inventory.Remove(1088000, 1);
                                            client.Entity.ConquerPoints += 115;
                                            client.MessageBox("Grtz You Got 115 Cps ");
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry .. You don't have Dragonball");
                                            dialog.Option("Ahh sorry.", 255);
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion

                    #region [Top] ButchersWar
                    case 1843:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to join ButchersWar.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("Not now.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (DateTime.Now.Minute >= 32 && DateTime.Now.Minute <= 35)
                                        {
                                            client.Entity.Teleport(9393, 50, 50);
                                        }
                                        else
                                        {
                                            dialog.Text("ButchersWar is held during xx:32 To xx:35 in every Hour");
                                            dialog.Option("I don't care.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }//ShaDow 
                            break;
                        }
                    #endregion
                    #region Winner ButchersWar
                    case 1841525:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        client.Entity.Update(_String.Effect, "scene_app", true);
                                        dialog.Text("Hey there " + client.Entity.Name + "Would you like to claim your Prize?.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        int alive = 0;
                                        foreach (Client.GameClient Entitys in Kernel.GamePool.Values)
                                            if (Entitys.Entity.MapID == 9393 && (!Entitys.Entity.Dead))
                                                alive++;
                                        if (DateTime.Now.Minute >= 35 && DateTime.Now.Minute <= 37)
                                        {
                                            if (alive == 1)
                                            {
                                                client.Entity.Update(_String.Effect, "break_start", true);
                                                client.Entity.ConquerPoints += 2150;
                                                client.Entity.AddTopStatus(Update.Flags.TopTrojan, 3, DateTime.Now.AddMinutes(58));
                                                client.Entity.RemoveFlag((ulong)Update.Flags.Ride);
                                                Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " claimed the prize 2150 ConquerPoints for winning the [Top] Conquer Pk War and Receive New Wing In His WardRobe.", System.Drawing.Color.Black, Message.Talk), Program.GamePool);
                                                client.Entity.SendSpawn(client, true);
                                                client.Entity.Teleport(1002, 302, 278);
                                                EntityTable.SaveEntity(client);
                                            }
                                            else
                                            {
                                                dialog.Text("There are still " + alive + " players in the map kill it first to claim prize!");
                                                dialog.Option("okay", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Hey there " + client.Entity.Name + "You can only claim the prize when the time on or after xx:35 To xx:37 ");
                                            dialog.Option("okay", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }//ShaDow 
                            }
                            break;
                        }
                    #endregion 

                    #region OnlinePoints
                    case 155565:
                        {
                            dialog.Avatar(65);
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hi, I'm Online Points how can i help you.");
                                        dialog.Option("Check my Points.", 1);
                                        dialog.Option("Change my points for cps.", 2);
                                        dialog.Option("No thanks.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("You have " + client.Entity.OnlinePoints + " - OnlinePoints.");
                                        dialog.Option("Ok thanks.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("You have " + client.Entity.OnlinePoints + " - OnlinePoints, You can change it for " + (client.Entity.OnlinePoints * 100) + " Cps.");
                                        dialog.Option("Ok Change it.", 3);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        if (client.Entity.OnlinePoints > 0)
                                        {
                                            client.Entity.ConquerPoints += (client.Entity.OnlinePoints * 100);
                                            client.Send("You have recived " + (client.Entity.OnlinePoints * 100) + " Cps.");
                                            client.Entity.OnlinePoints = 0;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                        #endregion
                    #region Big Monsters
                    case 1017:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hello there. I can teleport you to have a real fight");
                                        dialog.Option("Banshee.", 1);
                                        dialog.Option("TeratoDragon.", 2);
                                        dialog.Option("SwordMaster.", 3);
                                        dialog.Option("LaveBest.", 4);
                                        dialog.Option("I'm standing by.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Entity.Teleport(1927, 535, 424);
                                        break;
                                    }
                                case 4:
                                    {
                                        client.Entity.Teleport(2055, 535, 424);
                                        break;
                                    }
                                case 3:
                                    {
                                        client.Entity.Teleport(1010, 90, 54);
                                        break;
                                    }
                                case 2:
                                    client.Entity.Teleport(2056, 417, 571);
                                    break;
                                    {



                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Booths Map
                    case 1015:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hey There " + client.Entity.Name + " Would You Like To Go Booths Map ..?");
                                        dialog.Option("Yes Please.", 1);
                                        dialog.Option("I Don't Care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                        { 
                                                client.Entity.Teleport(16, 61, 55);

                                        {

                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Leave Booths Map
                    case 1016:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hey there " + client.Entity.Name + " Would you like to leave Booths map ?.");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("No, i'll stay.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);

                                        {

                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region NPC Map
                    case 1021:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hey There " + client.Entity.Name + " Would You Like To Go NPC Map ..?");
                                        dialog.Option("Yes Please.", 1);
                                        dialog.Option("I Don't Care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Entity.Teleport(17, 61, 55);

                                        {

                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Leave NPC Map
                    case 1022:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hey There " + client.Entity.Name + " Would You Like To Leave NPC Map ..?");
                                        dialog.Option("Yes Please.", 1);
                                        dialog.Option("No, i'll Stay.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);

                                        {

                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Quests Map
                    case 1023:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hey There " + client.Entity.Name + " Would You Like To Go Quests Map ..?");
                                        dialog.Option("Yes Please.", 1);
                                        dialog.Option("I Don't Care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Entity.Teleport(18, 61, 55);

                                        {

                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Leave Quests Map
                    case 1024:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hey There " + client.Entity.Name + " Would You Like To Leave Quests Map ..?");
                                        dialog.Option("Yes Please.", 1);
                                        dialog.Option("No, i'll Stay.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);

                                        {

                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region InnerPower Points
                    case 1018:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hey There " + client.Entity.Name + " You Want To Buy 20k InnerPower Points For 2k Cps ..?");
                                        dialog.Option("Yes Please", 1);
                                        dialog.Option("No, Thanks.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Entity.ConquerPoints >= 2000)
                                        {
                                            client.Entity.ConquerPoints -= 2000;
                                            client.Entity.InnerPower.AddPotency(null, client, 20000);

                                        }
                                        else
                                        {
                                            dialog.Text("Sorry you don't have 2k cps");
                                            dialog.Option("Ah, Sorry.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Jiang Npc
                    case 88854:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.Entity.MyJiang == null)
                                        {
                                            dialog.Text("Sorry " + client.Entity.Name + " But You Don't Have Jiang Yet.");
                                            dialog.Option("I'll Think About it!", 255);
                                            dialog.Send();
                                            return;
                                        }
                                        dialog.Text("Hello " + client.Entity.Name + " I'M Conquord[GM] Jiang Epic Seller.");
                                        for (int i = 0; i < client.Entity.MyJiang.Stagers.Length; i++)
                                        {
                                            var stage = client.Entity.MyJiang.Stagers[i];
                                            if (stage.Activate)
                                                dialog.Option("Stage [" + (byte)(i + 1) + "]", (byte)(i + 1));

                                        }
                                        dialog.Option("I'll Think About it!", 255);
                                        dialog.Send();
                                        break;
                                    }
                                default:
                                    {
                                        int mStage = npcRequest.OptionID;
                                        if (mStage >= 1 && mStage <= 9)
                                        {
                                            foreach (var item in Database.JiangHu.CultivateStatus[(byte)mStage])
                                            {
                                                dialog.Option(((Game.JiangHu.JiangStages.AtributesType)item).ToString(), (byte)((item * 10) + mStage));
                                            }

                                        }
                                        else
                                        {
                                            if (client.Entity.ConquerPoints < 17000)
                                            {
                                                dialog.Text("Sorry But You Don't Have 17000 cps ");
                                                dialog.Option("I'll Think About it!", 255);
                                                dialog.Send();
                                                return;
                                            }
                                            client.Entity.ConquerPoints -= 17000;
                                            var typex = mStage / 10;
                                            mStage = mStage % 10;
                                            byte stageno = (byte)Math.Min(9, mStage);
                                            byte level = 6;
                                            var type = (Game.JiangHu.JiangStages.AtributesType)Math.Min(15, typex);
                                            if (client.Entity.MyJiang.Stagers.Length >= stageno)
                                            {
                                                var stage = client.Entity.MyJiang.Stagers[(stageno - 1)];
                                                for (byte i = 1; i < stage.Stars.Length + 1; i++)
                                                {
                                                    client.Entity.MyJiang.MyNewStart = new Game.JiangHu.GetNewStar();
                                                    client.Entity.MyJiang.MyNewStart.PositionStar = i;
                                                    client.Entity.MyJiang.MyNewStart.Stage = stageno;
                                                    client.Entity.MyJiang.MyNewStart.Star = new Game.JiangHu.JiangStages.Star();
                                                    client.Entity.MyJiang.MyNewStart.Star.Activate = true;
                                                    client.Entity.MyJiang.MyNewStart.Star.Level = level;
                                                    client.Entity.MyJiang.MyNewStart.Star.Typ = type;
                                                    client.Entity.MyJiang.MyNewStart.Star.UID = client.Entity.MyJiang.ValueToRoll(client.Entity.MyJiang.MyNewStart.Star.Typ, client.Entity.MyJiang.MyNewStart.Star.Level);
                                                    Network.GamePackets.JiangHuUpdate upd = new Network.GamePackets.JiangHuUpdate();
                                                    upd.Atribute = client.Entity.MyJiang.MyNewStart.Star.UID;
                                                    upd.FreeCourse = client.Entity.MyJiang.FreeCourse;
                                                    upd.Stage = stageno;
                                                    upd.Star = i;
                                                    upd.FreeTimeTodeyUsed = (byte)client.Entity.MyJiang.FreeTimeTodeyUsed;
                                                    upd.RoundBuyPoints = client.Entity.MyJiang.RoundBuyPoints;
                                                    client.Send(upd.ToArray());
                                                    client.Entity.MyJiang.ApplayNewStar(client);
                                                }
                                                if (client.Entity.MyJiang != null)
                                                    client.Entity.MyJiang.SendStatus(client, client);
                                            }

                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Chi Npc
                    case 8885401:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.ChiPowers.Count == 0)
                                        {
                                            dialog.Text("Sorry " + client.Entity.Name + " But You Don't Have Chi Yet.");
                                            dialog.Option("I'll Think About it!", 255);
                                            dialog.Send();
                                            return;
                                        }
                                        dialog.Text("Hello " + client.Entity.Name + " I'M Conquord[GM] Chi Seller.");
                                        for (int i = 0; i < client.ChiPowers.Count; i++)
                                        {
                                            var stage = client.ChiPowers[i];
                                            dialog.Option(((Game.Enums.ChiPowerType)(i + 1)).ToString(), (byte)(i + 1));
                                        }
                                        dialog.Option("I'll Think About it!", 255);
                                        dialog.Send();
                                        break;
                                    }
                                default:
                                    {
                                        int mStage = npcRequest.OptionID;
                                        if (mStage >= 1 && mStage <= 4)
                                        {
                                            client.Entity.SelectedStage = mStage;
                                            dialog.Text("You Choose " + ((Game.Enums.ChiPowerType)mStage).ToString() + " stage. please select Attribute you want to change ");
                                            for (int i = 0; i < 4; i++)
                                            {
                                                dialog.Option("Attribute [" + (byte)(i + 1) + "]", (byte)(i + 1 + 4));
                                            }
                                            dialog.Option("Back", 0);
                                            dialog.Option("I'll Think About it!", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        else if (mStage >= 4 && mStage <= 8)
                                        {
                                            client.Entity.SelectedAttribute = mStage - 4;
                                            var mychiattribute = new List<Enums.ChiAttribute>();
                                            var powers = client.ChiPowers[(int)client.Entity.SelectedStage - 1];
                                            for (int i = 0; i < powers.Attributes.Length; i++)
                                            {
                                                var Attribute = powers.Attributes[i];
                                                mychiattribute.Add(Attribute.Type);
                                            }
                                            dialog.Text("You Choose Attribute [" + client.Entity.SelectedAttribute + "] please select AttributeType you want to change ");
                                            for (int i = 0; i < (int)Enums.ChiAttribute.MagicDamageDecrease; i++)
                                            {
                                                var type = ((Enums.ChiAttribute)(i + 1));
                                                if (!mychiattribute.Contains(type))
                                                    dialog.Option(type.ToString(), (byte)(((i + 1) * 10)));
                                            }
                                            dialog.Option("Back", (byte)client.Entity.SelectedStage);
                                            dialog.Option("I'll Think About it!", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        else
                                        {
                                            if (client.Entity.ConquerPoints <= 15000)
                                            {
                                                dialog.Text("Sorry But You Don't Have [ 15000 ] cps ");
                                                dialog.Option("I'll Think About it!", 255);
                                                dialog.Send();
                                                return;
                                            }

                                            var typex = mStage / 10;
                                            var Mode = client.Entity.SelectedStage;
                                            var pos = client.Entity.SelectedAttribute - 1;
                                            var powers = client.ChiPowers[Mode - 1];
                                            var attributes = powers.Attributes;
                                            foreach (var attr in attributes)
                                            {
                                                //if (attr == null)
                                                   // continue;
                                                if (attr.Type == (Enums.ChiAttribute)typex)
                                                {
                                                    client.MessageBox("Sorry You Can't Muliplay Stats", null, null);
                                                    return;
                                                }
                                            }
                                            attributes[pos].Type = (Enums.ChiAttribute)typex;
                                            attributes[pos].Value = (ushort)Game.Enums.ChiMaxValues(attributes[pos].Type);
                                            powers.CalculatePoints();
                                            Database.ChiTable.Sort((Enums.ChiPowerType)Mode);
                                            powers.Power = (Enums.ChiPowerType)Mode;
                                            client.Entity.ConquerPoints -= 15000;
                                            client.Send(new ChiPowers(true).Query(client));
                                            #region update ranking
                                            Database.ChiTable.ChiData[] array = null;
                                            switch ((Enums.ChiPowerType)Mode)
                                            {
                                                case Game.Enums.ChiPowerType.Dragon:
                                                    array = Database.ChiTable.Dragon;
                                                    break;
                                                case Game.Enums.ChiPowerType.Phoenix:
                                                    array = Database.ChiTable.Phoenix;
                                                    break;
                                                case Game.Enums.ChiPowerType.Tiger:
                                                    array = Database.ChiTable.Tiger;
                                                    break;
                                                case Game.Enums.ChiPowerType.Turtle:
                                                    array = Database.ChiTable.Turtle;
                                                    break;
                                            }
                                            foreach (var chiData in array)
                                            {
                                                if (Kernel.GamePool.ContainsKey(chiData.UID))
                                                {
                                                    var pClient = Kernel.GamePool[chiData.UID];
                                                    if (pClient == null) continue;
                                                    if (pClient.ChiData == null) continue;
                                                    // make it public instead of private 
                                                    Network.PacketHandler.SendChiRankings
                                                     (new GenericRanking(true) { Mode = GenericRanking.QueryCount }, pClient);
                                                    if (pClient.Entity.UID == client.Entity.UID || pClient.ChiData.SelectRank((Enums.ChiPowerType)Mode) < 50)
                                                        pClient.LoadItemStats();
                                                }
                                            }
                                            #endregion
                                            Database.ChiTable.Save(client);
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Stuff[P7]
                    case 5005010:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hey There " + client.Entity.Name + " I sell stuff for all classes choose yours");
                                        dialog.Option("Stuff Dragon Warrior", 1);
                                        dialog.Option("Stuff Ninja", 3);
                                        dialog.Option("Stuff Monk", 4);
                                        dialog.Option("Stuff Taoist", 5);
                                        dialog.Option("Stuff Trojan", 6);
                                        dialog.Option("Stuff Pirate", 7);
                                        dialog.Option("Stuff Warrior", 8);
                                        dialog.Option("Stuff Archer", 9);
                                        dialog.Option("Fan-Tower-Wing-Crop-Steed", 10);
                                        dialog.Send();
                                        break;
                                    }
                                #region Steed > tower > fan > wing > Crop
                                case 10:
                                    {
                                        uint itemid1 = 300000;//Steed     
                                        uint itemid2 = 202009;//Tower    
                                        uint itemid3 = 201009;//Fan     
                                        uint itemid4 = 204009;//Wing    
                                        uint itemid5 = 203009;//Crop        

                                        ConquerItem item1 = new ConquerItem(true);
                                        item1.ID = itemid1;
                                        item1.Color = Game.Enums.Color.White;
                                        item1.Plus = 12;
                                        item1.Stars = 54;
                                        item1.Owner = client.Entity.Name;
                                        item1.OwnerUID = client.Entity.UID;
                                        item1.Durability = item1.MaximDurability = Database.ConquerItemInformation.BaseInformations[itemid1].Durability;
                                        client.Inventory.Add(item1, Game.Enums.ItemUse.CreateAndAdd);
                                        Database.ConquerItemTable.UpdatePerfection(item1);

                                        ConquerItem item2 = new ConquerItem(true);
                                        item2.ID = itemid2;
                                        item2.Color = Game.Enums.Color.White;
                                        item2.Plus = 12;
                                        item2.Bless = 1;
                                        item2.Stars = 54;
                                        item2.Owner = client.Entity.Name;
                                        item2.OwnerUID = client.Entity.UID;
                                        item2.SocketOne = Game.Enums.Gem.SuperGloryGem;
                                        item2.SocketTwo = Game.Enums.Gem.SuperGloryGem;
                                        item2.Durability = item2.MaximDurability = Database.ConquerItemInformation.BaseInformations[itemid2].Durability;
                                        client.Inventory.Add(item2, Game.Enums.ItemUse.CreateAndAdd);
                                        Database.ConquerItemTable.UpdatePerfection(item2);

                                        ConquerItem item3 = new ConquerItem(true);
                                        item3.ID = itemid3;
                                        item3.Color = Game.Enums.Color.White;
                                        item3.Plus = 12;
                                        item3.Bless = 1;
                                        item3.Stars = 54;
                                        item3.Owner = client.Entity.Name;
                                        item3.OwnerUID = client.Entity.UID;
                                        item3.SocketOne = Game.Enums.Gem.SuperThunderGem;
                                        item3.SocketTwo = Game.Enums.Gem.SuperThunderGem;
                                        item3.Durability = item3.MaximDurability = Database.ConquerItemInformation.BaseInformations[itemid3].Durability;
                                        client.Inventory.Add(item3, Game.Enums.ItemUse.CreateAndAdd);
                                        Database.ConquerItemTable.UpdatePerfection(item3);

                                        ConquerItem item4 = new ConquerItem(true);
                                        item4.ID = itemid4;
                                        item4.Color = Game.Enums.Color.White;
                                        item4.Plus = 12;
                                        item4.Bless = 0;
                                        item4.Stars = 54;
                                        item4.Owner = client.Entity.Name;
                                        item4.OwnerUID = client.Entity.UID;
                                        item4.SocketOne = Game.Enums.Gem.SuperThunderGem;
                                        item4.SocketTwo = Game.Enums.Gem.SuperGloryGem;
                                        item4.Durability = item4.MaximDurability = Database.ConquerItemInformation.BaseInformations[itemid4].Durability;
                                        client.Inventory.Add(item4, Game.Enums.ItemUse.CreateAndAdd);
                                        Database.ConquerItemTable.UpdatePerfection(item4);

                                        ConquerItem item5 = new ConquerItem(true);
                                        item5.ID = itemid5;
                                        item5.Color = Game.Enums.Color.White;
                                        item5.Plus = 12;
                                        item5.Bless = 1;
                                        item5.Stars = 54;
                                        item5.Owner = client.Entity.Name;
                                        item5.OwnerUID = client.Entity.UID;
                                        item5.Durability = item5.MaximDurability = Database.ConquerItemInformation.BaseInformations[itemid5].Durability;
                                        client.Inventory.Add(item5, Game.Enums.ItemUse.CreateAndAdd);
                                        Database.ConquerItemTable.UpdatePerfection(item5);
                                        break;
                                    }
                                #endregion
                                case 1://Bruce_Lee        
                                    {
                                        client.Entity.ConquerPoints -= 50000;




                                        client.Inventory.AddPer(617439, 801004, 6, 12, 12, 1, true, false);//SkyNunchaku       
                                        client.Inventory.AddPer(617439, 801004, 6, 12, 12, 1, true, false);//SkyNunchaku        
                                        client.Inventory.AddPer(138309, 822071, 6, 12, 12, 1, true, false);//Bruce_LeeArmor        
                                        client.Inventory.AddPer(148309, 820073, 6, 12, 12, 1, true, false);//Bruce_LeeHood        
                                        client.Inventory.AddPer(120269, 821033, 6, 12, 12, 1, true, false);//Necklace        
                                        client.Inventory.AddPer(150269, 823058, 6, 12, 12, 1, true, false);//Ring        
                                        client.Inventory.AddPer(160249, 824018, 6, 12, 12, 1, true, false);//Boot        
                                        // client.Entity.Teleport(1002, 310, 277);     
                                        dialog.Text("thanks for this gift you have got item soul stablized forever By ZConquer[GM] ");
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;

                                    }

                                case 3://ninja        
                                    {
                                        client.Entity.ConquerPoints -= 50000;


                                        client.Inventory.AddPer(511439, 800255, 6, 12, 12, 1, true, false);//Scythe      
                                        client.Inventory.AddPer(511439, 800255, 6, 12, 12, 1, true, false);//Scythe      
                                        client.Inventory.AddPer(616439, 800111, 6, 12, 12, 1, true, false);//Katana      
                                        client.Inventory.AddPer(616439, 800111, 6, 12, 12, 1, true, false);//Katana      
                                        client.Inventory.AddPer(601439, 800111, 6, 12, 12, 1, true, false);//Katana      
                                        client.Inventory.AddPer(601439, 800111, 6, 12, 12, 1, true, false);//Katana      
                                        client.Inventory.AddPer(601439, 800142, 6, 12, 12, 1, true, false);//Katana        
                                        client.Inventory.AddPer(601439, 800142, 6, 12, 12, 1, true, false);//Katana        
                                        client.Inventory.AddPer(135309, 822071, 6, 12, 12, 1, true, false);//ArmorNinja        
                                        client.Inventory.AddPer(123309, 820073, 6, 12, 12, 1, true, false);//NinjaHood        
                                        client.Inventory.AddPer(120269, 821033, 6, 12, 12, 1, true, false);//Necklace        
                                        client.Inventory.AddPer(150269, 823058, 6, 12, 12, 1, true, false);//Ring        
                                        client.Inventory.AddPer(160249, 824018, 6, 12, 12, 1, true, false);//Boot        
                                        // client.Entity.Teleport(1002, 310, 277);     
                                        dialog.Text("thanks for this gift you have got item soul stablized forever By ZConquer[GM] ");
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;

                                    }
                                case 4://Monk        
                                    {
                                        client.Entity.ConquerPoints -= 50000;

                                        client.Inventory.AddPer(622439, 800725, 6, 12, 12, 1, true, false);//Beads        
                                        client.Inventory.AddPer(622439, 800725, 6, 12, 12, 1, true, false);//Beads   
                                        client.Inventory.AddPer(610439, 800725, 6, 12, 12, 1, true, false);//Beads        
                                        client.Inventory.AddPer(610439, 800725, 6, 12, 12, 1, true, false);//Beads        
                                        client.Inventory.AddPer(136309, 822071, 6, 12, 12, 1, true, false);//ArmorMonk        
                                        client.Inventory.AddPer(143309, 820073, 6, 12, 12, 1, true, false);//CapMonk        
                                        client.Inventory.AddPer(120269, 821033, 6, 12, 12, 1, true, false);//Necklace        
                                        client.Inventory.AddPer(150269, 823058, 6, 12, 12, 1, true, false);//Ring        
                                        client.Inventory.AddPer(160249, 824018, 6, 12, 12, 1, true, false);//Boot        
                                        // client.Entity.Teleport(1002, 310, 277);     
                                        dialog.Text("thanks for this gift you have got item soul stablized forever By ZConquer[GM] ");
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;

                                    }
                                case 5://Fire And Water        
                                    {
                                        client.Entity.ConquerPoints -= 50000;

                                        client.Inventory.AddPer(421439, 800522, 6, 12, 12, 1, true, false);//BackSword        
                                        client.Inventory.AddPer(620439, 800522, 6, 12, 12, 1, true, false);//ImperialBacksword      
                                        client.Inventory.AddPer(619439, 801104, 6, 12, 12, 1, true, false);
                                        client.Inventory.AddPer(134309, 822071, 6, 12, 12, 1, true, false);//ArmorFire        
                                        client.Inventory.AddPer(114309, 820076, 6, 12, 12, 1, true, false);//CapFire        
                                        client.Inventory.AddPer(152279, 823060, 6, 12, 12, 1, true, false);//Bracelet        
                                        client.Inventory.AddPer(121269, 821034, 6, 12, 12, 1, true, false);//Bag        
                                        client.Inventory.AddPer(160249, 824018, 6, 12, 12, 1, true, false);//Boot        
                                        //client.Entity.Teleport(1002, 310, 277);     
                                        dialog.Text("thanks for this gift you have got item soul stablized forever By ZConquer[GM] ");
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;

                                    }
                                case 6://Trojan        
                                    {
                                        client.Entity.ConquerPoints -= 50000;



                                        client.Inventory.AddPer(480439, 800111, 6, 12, 12, 1, true, false);//Clup      
                                        client.Inventory.AddPer(614429, 800111, 6, 12, 12, 1, true, false);//ShadowCrossSaber      
                                        client.Inventory.AddPer(614429, 800111, 6, 12, 12, 1, true, false);//ShadowCrossSaber      
                                        client.Inventory.AddPer(410439, 800111, 6, 12, 12, 1, true, false);//Blade        
                                        client.Inventory.AddPer(420439, 800111, 6, 12, 12, 1, true, false);//Sword        
                                        client.Inventory.AddPer(130309, 822071, 6, 12, 12, 1, true, false);//ArmorTrojan        
                                        client.Inventory.AddPer(118309, 820073, 6, 12, 12, 1, true, false);//CapTrojan        
                                        client.Inventory.AddPer(120269, 821033, 6, 12, 12, 1, true, false);//Necklace        
                                        client.Inventory.AddPer(150269, 823058, 6, 12, 12, 1, true, false);//Ring        
                                        client.Inventory.AddPer(160249, 824018, 6, 12, 12, 1, true, false);//Boot       
                                        //client.Entity.Teleport(1002, 310, 277);     
                                        dialog.Text("thanks for this gift you have got item soul stablized forever By ZConquer[GM] ");
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;

                                    }
                                case 7://Pirate        
                                    {
                                        client.Entity.ConquerPoints -= 50000;



                                        client.Inventory.AddPer(611439, 800811, 6, 12, 12, 1, true, false);//Rapier        
                                        client.Inventory.AddPer(612439, 800810, 6, 12, 12, 1, true, false);//Pistol        
                                        client.Inventory.AddPer(139309, 822071, 6, 12, 12, 1, true, false);//ArmorPirate        
                                        client.Inventory.AddPer(144309, 820073, 6, 12, 12, 1, true, false);//CapPirate        
                                        client.Inventory.AddPer(120269, 821033, 6, 12, 12, 1, true, false);//Necklace        
                                        client.Inventory.AddPer(150269, 823058, 6, 12, 12, 1, true, false);//Ring        
                                        client.Inventory.AddPer(160249, 824018, 6, 12, 12, 1, true, false);//Boot        
                                        // client.Entity.Teleport(1002, 310, 277);     
                                        dialog.Text("thanks for this gift you have got item soul stablized forever By ZConquer[GM] ");
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;

                                    }
                                case 8://Warrior        
                                    {
                                        client.Entity.ConquerPoints -= 50000;


                                        client.Inventory.AddPer(560439, 800215, 6, 12, 12, 1, true, false);//Spear        
                                        client.Inventory.AddPer(900309, 800422, 6, 12, 12, 1, true, false);//Shield        
                                        client.Inventory.AddPer(131309, 822071, 6, 12, 12, 1, true, false);//ArmorWarrior        
                                        client.Inventory.AddPer(111309, 820073, 6, 12, 12, 1, true, false);//CapWarrior        
                                        client.Inventory.AddPer(120269, 821033, 6, 12, 12, 1, true, false);//Necklace        
                                        client.Inventory.AddPer(150269, 823058, 6, 12, 12, 1, true, false);//Ring        
                                        client.Inventory.AddPer(160249, 824018, 6, 12, 12, 1, true, false);//Boot 
                                        client.Inventory.AddPer(624439, 801218, 6, 12, 12, 1, true, false);//Epicwepon 
                                        client.Inventory.AddPer(624439, 801218, 6, 12, 12, 1, true, false);//Epicwepon 
                                        // client.Entity.Teleport(1002, 310, 277);     
                                        dialog.Text("thanks for this gift you have got item soul stablized forever By ZConquer[GM] ");
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;

                                    }
                                case 9://Archer        
                                    {
                                        client.Entity.ConquerPoints -= 50000;


                                        client.Inventory.AddPer(613429, 800917, 6, 12, 12, 1, true, false);//Knife        
                                        client.Inventory.AddPer(613429, 800917, 6, 12, 12, 1, true, false);//Knife        
                                        client.Inventory.AddPer(500429, 800618, 6, 12, 12, 1, true, false);//Bow        
                                        client.Inventory.AddPer(133309, 822071, 6, 12, 12, 1, true, false);//ArmorArcher        
                                        client.Inventory.AddPer(113309, 820073, 6, 12, 12, 1, true, false);//CapArcher        
                                        client.Inventory.AddPer(120269, 821033, 6, 12, 12, 1, true, false);//Necklace        
                                        client.Inventory.AddPer(150269, 823058, 6, 12, 12, 1, true, false);//Ring        
                                        client.Inventory.AddPer(160249, 824018, 6, 12, 12, 1, true, false);//Boot       
                                        //client.Entity.Teleport(1002, 310, 277);     
                                        dialog.Text("thanks for this gift you have got item soul stablized forever By ZConquer[GM] ");
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;

                                    }
                            }
                            break;
                        }
                    #endregion
                    #region SnyZer Begin Stuff
                    case 225584:
                        //SnyZer 
                        {
                            //Conquord 
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hey There " + client.Entity.Name + " I Am The Server Owner, i Can Help You To Claim Begin Gears iF U Need ..? ");
                                        dialog.Text("Chose What Pack You Want To Claim !");
                                        dialog.Option("Ninja Pack.", 1);
                                        dialog.Option("Trojan Pack.", 2);
                                        dialog.Option("Monk Pack.", 3);
                                        dialog.Option("Archer Pack.", 4);
                                        dialog.Option("FireTaoist Pack.", 5);
                                        dialog.Option("WaterTaoist Pack.", 6);
                                        dialog.Option("Warrior Pack.", 7);
                                        dialog.Option("Pirate Pack.", 8);
                                        dialog.Option("Lee-Long Pack.", 9);
                                        dialog.Option("WindWalker Pack", 10);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Entity.ConquerPoints >= 0)
                                        {
                                            //(720356, 0, 1);//MerryPack 
                                            dialog.Text("Are You Sure You Want This Ninja Pack ?");
                                            dialog.Option("Sure.", 55);
                                            dialog.Option("Wait a minute.", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("ZConquer.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        if (client.Entity.ConquerPoints >= 0)
                                        {
                                            //(720356, 0, 1);//MerryPack 
                                            dialog.Text("Are You Sure You Want This Trojan Pack ?");
                                            dialog.Option("Sure.", 15);
                                            dialog.Option("Wait a minute.", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("ZConquer.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 3:
                                    {
                                        if (client.Entity.ConquerPoints >= 0)
                                        {
                                            //(720356, 0, 1);//MerryPack 
                                            dialog.Text("Are You Sure You Want This Monk Pack ?");
                                            dialog.Option("Sure.", 65);
                                            dialog.Option("Wait a minute.", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("ZConquer.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 4:
                                    {
                                        if (client.Entity.ConquerPoints >= 0)
                                        {
                                            //(720356, 0, 1);//MerryPack 
                                            dialog.Text("Are You Sure You Want This Archer Pack ?");
                                            dialog.Option("Sure.", 45);
                                            dialog.Option("Wait a minute.", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("ZConquer.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 5:
                                    {
                                        if (client.Entity.ConquerPoints >= 0)
                                        {
                                            //(720356, 0, 1);//MerryPack 
                                            dialog.Text("Are You Sure You Want This FireTaoist Pack ?");
                                            dialog.Option("Sure.", 145);
                                            dialog.Option("Wait a minute.", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("ZConquer.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 6:
                                    {
                                        if (client.Entity.ConquerPoints >= 0)
                                        {
                                            //(720356, 0, 1);//MerryPack 
                                            dialog.Text("Are You Sure You Want This WaterTaoist Pack ?");
                                            dialog.Option("Sure.", 135);
                                            dialog.Option("Wait a minute.", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("ZConquer.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 7:
                                    {
                                        if (client.Entity.ConquerPoints >= 0)
                                        {
                                            //(720356, 0, 1);//MerryPack 
                                            dialog.Text("Are You Sure You Want This Warrior Pack ?");
                                            dialog.Option("Sure.", 25);
                                            dialog.Option("Wait a minute.", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("ZConquer.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 8:
                                    {
                                        if (client.Entity.ConquerPoints >= 0)
                                        {
                                            //(720356, 0, 1);//MerryPack 
                                            dialog.Text("Are You Sure You Want This Pirate Pack ?");
                                            dialog.Option("Sure.", 75);
                                            dialog.Option("Wait a minute.", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("ZConquer.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 9:
                                    {
                                        if (client.Entity.ConquerPoints >= 0)
                                        {
                                            //(720356, 0, 1);//MerryPack 
                                            dialog.Text("Are You Sure You Want This Lee-Long Pack ?");
                                            dialog.Option("Sure.", 85);
                                            dialog.Option("Wait a minute.", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("ZConquer.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 10:
                                    {
                                        if (client.Entity.ConquerPoints >= 0)
                                        {
                                            //(720356, 0, 1);//MerryPack 
                                            dialog.Text("Are You Sure You Want This WindWalker Pack ?");
                                            dialog.Option("Sure.", 165);
                                            dialog.Option("Wait a minute.", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("ZConquer.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                #region Items Trojan
                                case 15:
                                    {
                                        uint itemid = 202009;//Tower 
                                        uint itemid2 = 201009;//Fan 
                                        uint itemid3 = 160019;//Boot 
                                        uint itemid4 = 120029;//Necklace 
                                        uint itemid5 = 150019;//Ring 
                                        uint itemid6 = 117009;//Earrings 
                                        uint itemid7 = 130009;//Armor 
                                        uint itemid8 = 480019;//Club 
                                        uint itemid9 = 410019;//Blade 
                                        if (client.Inventory.Count <= 30)
                                        {
                                            if (client.Entity.ConquerPoints >= 0)
                                            {
                                                client.Entity.Teleport(1002, 303, 278);
                                                ConquerItem item2 = new ConquerItem(true);
                                                item2.ID = itemid2;
                                                item2.Bound = true;
                                                item2.Color = Conquord.Game.Enums.Color.White;

                                                item2.Plus = 3;
                                                item2.Durability = item2.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid2].Durability;
                                                client.Inventory.Add(item2, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item3 = new ConquerItem(true);
                                                item3.ID = itemid3;
                                                item3.Bound = true;
                                                item3.Color = Conquord.Game.Enums.Color.White;

                                                item3.Plus = 3;
                                                item3.Durability = item3.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid3].Durability;
                                                client.Inventory.Add(item3, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item4 = new ConquerItem(true);
                                                item4.ID = itemid4;
                                                item4.Bound = true;
                                                item4.Color = Conquord.Game.Enums.Color.White;

                                                item4.Plus = 3;
                                                item4.Durability = item4.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid4].Durability;
                                                client.Inventory.Add(item4, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item5 = new ConquerItem(true);
                                                item5.ID = itemid5;
                                                item5.Bound = true;
                                                item5.Color = Conquord.Game.Enums.Color.White;

                                                item5.Plus = 3;
                                                item5.Durability = item5.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid5].Durability;
                                                client.Inventory.Add(item5, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item6 = new ConquerItem(true);
                                                item6.ID = itemid6;
                                                item6.Bound = true;
                                                item6.Color = Conquord.Game.Enums.Color.White;

                                                item6.Plus = 3;
                                                item6.Durability = item6.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid6].Durability;
                                                client.Inventory.Add(item6, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item7 = new ConquerItem(true);
                                                item7.ID = itemid7;
                                                item7.Bound = true;
                                                item7.Color = Conquord.Game.Enums.Color.White;

                                                item7.Plus = 3;
                                                item7.Durability = item7.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid7].Durability;
                                                client.Inventory.Add(item7, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item8 = new ConquerItem(true);
                                                item8.ID = itemid8;
                                                item8.Color = Conquord.Game.Enums.Color.White;

                                                item8.Plus = 3;
                                                item8.Bound = true;
                                                item8.Durability = item8.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid8].Durability;
                                                client.Inventory.Add(item8, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item9 = new ConquerItem(true);
                                                item9.ID = itemid9;
                                                item9.Bound = true;
                                                item9.Color = Conquord.Game.Enums.Color.White;

                                                item9.Plus = 3;
                                                item9.Durability = item9.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid9].Durability;
                                                client.Inventory.Add(item9, Conquord.Game.Enums.ItemUse.CreateAndAdd);



                                                ConquerItem item = new ConquerItem(true);
                                                item.ID = itemid;
                                                item.Bound = true;
                                                item.Color = Conquord.Game.Enums.Color.White;

                                                item.Plus = 3;
                                                item.Durability = item.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                                if (client.Inventory.Add(item, Conquord.Game.Enums.ItemUse.CreateAndAdd))
                                                {
                                                    client.Inventory.Remove(720356, 1);
                                                    Network.GamePackets.NpcReply npc = new Network.GamePackets.NpcReply(6, "You Have Obtained Trojan Pack HaveFun in Server ZConquer");
                                                    npc.OptionID = 255;
                                                    client.Send(npc.ToArray());
                                                }
                                                else
                                                {
                                                    dialog.Text("You need atleast one free slot in your inventory.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text("sorry you dont have MerryPack in your Bag .");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("You need to make atleast 10 free spots in your inventory.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                #endregion
                                #region Items Warrior
                                case 25:
                                    {
                                        uint itemid = 202009;//Tower 
                                        uint itemid2 = 201009;//Fan 
                                        uint itemid3 = 160019;//Boot 
                                        uint itemid4 = 120029;//Necklace 
                                        uint itemid5 = 150019;//Ring 
                                        uint itemid6 = 117009;//Earrings 
                                        uint itemid7 = 131009;//Armor 
                                        uint itemid8 = 561019;//Wand 
                                        uint itemid9 = 624019;//EpicWeapon 
                                        if (client.Inventory.Count <= 30)
                                        {
                                            if (client.Entity.ConquerPoints >= 0)
                                            {
                                                client.Entity.Teleport(1002, 303, 278);
                                                ConquerItem item2 = new ConquerItem(true);
                                                item2.ID = itemid2;
                                                item2.Bound = true;
                                                item2.Color = Conquord.Game.Enums.Color.White;

                                                item2.Plus = 3;
                                                item2.Durability = item2.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid2].Durability;
                                                client.Inventory.Add(item2, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item3 = new ConquerItem(true);
                                                item3.ID = itemid3;
                                                item3.Bound = true;
                                                item3.Color = Conquord.Game.Enums.Color.White;

                                                item3.Plus = 3;
                                                item3.Durability = item3.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid3].Durability;
                                                client.Inventory.Add(item3, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item4 = new ConquerItem(true);
                                                item4.ID = itemid4;
                                                item4.Bound = true;
                                                item4.Color = Conquord.Game.Enums.Color.White;

                                                item4.Plus = 3;
                                                item4.Durability = item4.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid4].Durability;
                                                client.Inventory.Add(item4, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item5 = new ConquerItem(true);
                                                item5.ID = itemid5;
                                                item5.Bound = true;
                                                item5.Color = Conquord.Game.Enums.Color.White;

                                                item5.Plus = 3;
                                                item5.Durability = item5.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid5].Durability;
                                                client.Inventory.Add(item5, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item6 = new ConquerItem(true);
                                                item6.ID = itemid6;
                                                item6.Bound = true;
                                                item6.Color = Conquord.Game.Enums.Color.White;

                                                item6.Plus = 3;
                                                item6.Durability = item6.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid6].Durability;
                                                client.Inventory.Add(item6, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item7 = new ConquerItem(true);
                                                item7.ID = itemid7;
                                                item7.Bound = true;
                                                item7.Color = Conquord.Game.Enums.Color.White;

                                                item7.Plus = 3;
                                                item7.Durability = item7.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid7].Durability;
                                                client.Inventory.Add(item7, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item8 = new ConquerItem(true);
                                                item8.ID = itemid8;
                                                item8.Bound = true;
                                                item8.Color = Conquord.Game.Enums.Color.White;

                                                item8.Plus = 3;
                                                item8.Durability = item8.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid8].Durability;
                                                client.Inventory.Add(item8, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item9 = new ConquerItem(true);
                                                item9.ID = itemid9;
                                                item9.Bound = true;
                                                item9.Color = Conquord.Game.Enums.Color.White;

                                                item9.Plus = 3;
                                                item9.Durability = item9.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid9].Durability;
                                                client.Inventory.Add(item9, Conquord.Game.Enums.ItemUse.CreateAndAdd);



                                                ConquerItem item = new ConquerItem(true);
                                                item.ID = itemid;
                                                item.Bound = true;
                                                item.Color = Conquord.Game.Enums.Color.White;

                                                item.Plus = 3;
                                                item.Durability = item.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                                if (client.Inventory.Add(item, Conquord.Game.Enums.ItemUse.CreateAndAdd))
                                                {
                                                    client.Inventory.Remove(720356, 1);
                                                    Network.GamePackets.NpcReply npc = new Network.GamePackets.NpcReply(6, "You Have Obtained Warrior Pack HaveFun in Server ZConquer");
                                                    npc.OptionID = 255;
                                                    client.Send(npc.ToArray());
                                                }
                                                else
                                                {
                                                    dialog.Text("You need atleast one free slot in your inventory.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text("sorry you dont have MerryPack in your Bag .");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("You need to make atleast 10 free spots in your inventory.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                #endregion
                                #region Items Archer
                                case 45:
                                    {
                                        uint itemid = 202009;//Tower 
                                        uint itemid2 = 201009;//Fan 
                                        uint itemid3 = 160019;//Boot 
                                        uint itemid4 = 120029;//Necklace 
                                        uint itemid5 = 150019;//Ring 
                                        uint itemid6 = 117009;//Earrings 
                                        uint itemid7 = 133009;//Armor 
                                        uint itemid8 = 500009;//Bow 
                                        if (client.Inventory.Count <= 30)
                                        {
                                            if (client.Entity.ConquerPoints >= 0)
                                            {
                                                client.Entity.Teleport(1002, 303, 278);
                                                ConquerItem item2 = new ConquerItem(true);
                                                item2.ID = itemid2;
                                                item2.Bound = true;
                                                item2.Color = Conquord.Game.Enums.Color.White;

                                                item2.Plus = 3;
                                                item2.Durability = item2.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid2].Durability;
                                                client.Inventory.Add(item2, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item3 = new ConquerItem(true);
                                                item3.ID = itemid3;
                                                item3.Bound = true;
                                                item3.Color = Conquord.Game.Enums.Color.White;

                                                item3.Plus = 3;
                                                item3.Durability = item3.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid3].Durability;
                                                client.Inventory.Add(item3, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item4 = new ConquerItem(true);
                                                item4.ID = itemid4;
                                                item4.Bound = true;
                                                item4.Color = Conquord.Game.Enums.Color.White;

                                                item4.Plus = 3;
                                                item4.Durability = item4.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid4].Durability;
                                                client.Inventory.Add(item4, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item5 = new ConquerItem(true);
                                                item5.ID = itemid5;
                                                item5.Bound = true;
                                                item5.Color = Conquord.Game.Enums.Color.White;

                                                item5.Plus = 3;
                                                item5.Durability = item5.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid5].Durability;
                                                client.Inventory.Add(item5, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item6 = new ConquerItem(true);
                                                item6.ID = itemid6;
                                                item6.Bound = true;
                                                item6.Color = Conquord.Game.Enums.Color.White;

                                                item6.Plus = 3;
                                                item6.Durability = item6.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid6].Durability;
                                                client.Inventory.Add(item6, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item7 = new ConquerItem(true);
                                                item7.ID = itemid7;
                                                item7.Bound = true;
                                                item7.Color = Conquord.Game.Enums.Color.White;

                                                item7.Plus = 3;
                                                item7.Durability = item7.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid7].Durability;
                                                client.Inventory.Add(item7, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item8 = new ConquerItem(true);
                                                item8.ID = itemid8;
                                                item8.Bound = true;
                                                item8.Color = Conquord.Game.Enums.Color.White;

                                                item8.Plus = 3;
                                                item8.Durability = item8.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid8].Durability;
                                                client.Inventory.Add(item8, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item = new ConquerItem(true);
                                                item.ID = itemid;
                                                item.Bound = true;
                                                item.Color = Conquord.Game.Enums.Color.White;

                                                item.Plus = 3;
                                                item.Durability = item.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                                if (client.Inventory.Add(item, Conquord.Game.Enums.ItemUse.CreateAndAdd))
                                                {
                                                    client.Inventory.Remove(720356, 1);
                                                    Network.GamePackets.NpcReply npc = new Network.GamePackets.NpcReply(6, "You Have Obtained Archer Pack HaveFun in Server ZConquer");
                                                    npc.OptionID = 255;
                                                    client.Send(npc.ToArray());
                                                }
                                                else
                                                {
                                                    dialog.Text("You need atleast one free slot in your inventory.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text("sorry you dont have MerryPack in your Bag .");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("You need to make atleast 10 free spots in your inventory.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                #endregion
                                #region Items Ninja
                                case 55:
                                    {
                                        uint itemid = 202009;//Tower 
                                        uint itemid2 = 201009;//Fan 
                                        uint itemid3 = 160019;//Boot 
                                        uint itemid4 = 120029;//Necklace 
                                        uint itemid5 = 150019;//Ring 
                                        uint itemid6 = 117009;//Earrings 
                                        uint itemid7 = 135009;//Armor 
                                        uint itemid8 = 601019;//Katana 
                                        uint itemid9 = 601019;//Katana 
                                        if (client.Inventory.Count <= 30)
                                        {
                                            if (client.Entity.ConquerPoints >= 0)
                                            {
                                                client.Entity.Teleport(1002, 303, 278);
                                                ConquerItem item2 = new ConquerItem(true);
                                                item2.ID = itemid2;
                                                item2.Bound = true;
                                                item2.Color = Conquord.Game.Enums.Color.White;

                                                item2.Plus = 3;
                                                item2.Durability = item2.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid2].Durability;
                                                client.Inventory.Add(item2, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item3 = new ConquerItem(true);
                                                item3.ID = itemid3;
                                                item3.Bound = true;
                                                item3.Color = Conquord.Game.Enums.Color.White;

                                                item3.Plus = 3;
                                                item3.Durability = item3.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid3].Durability;
                                                client.Inventory.Add(item3, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item4 = new ConquerItem(true);
                                                item4.ID = itemid4;
                                                item4.Bound = true;
                                                item4.Color = Conquord.Game.Enums.Color.White;

                                                item4.Plus = 3;
                                                item4.Durability = item4.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid4].Durability;
                                                client.Inventory.Add(item4, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item5 = new ConquerItem(true);
                                                item5.ID = itemid5;
                                                item5.Bound = true;
                                                item5.Color = Conquord.Game.Enums.Color.White;

                                                item5.Plus = 3;
                                                item5.Durability = item5.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid5].Durability;
                                                client.Inventory.Add(item5, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item6 = new ConquerItem(true);
                                                item6.ID = itemid6;
                                                item6.Bound = true;
                                                item6.Color = Conquord.Game.Enums.Color.White;

                                                item6.Plus = 3;
                                                item6.Durability = item6.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid6].Durability;
                                                client.Inventory.Add(item6, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item7 = new ConquerItem(true);
                                                item7.ID = itemid7;
                                                item7.Bound = true;
                                                item7.Color = Conquord.Game.Enums.Color.White;

                                                item7.Plus = 3;
                                                item7.Durability = item7.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid7].Durability;
                                                client.Inventory.Add(item7, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item8 = new ConquerItem(true);
                                                item8.ID = itemid8;
                                                item8.Bound = true;
                                                item8.Color = Conquord.Game.Enums.Color.White;

                                                item8.Plus = 3;
                                                item8.Durability = item8.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid8].Durability;
                                                client.Inventory.Add(item8, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item9 = new ConquerItem(true);
                                                item9.ID = itemid9;
                                                item9.Bound = true;
                                                item9.Color = Conquord.Game.Enums.Color.White;

                                                item9.Plus = 3;
                                                item9.Durability = item9.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid9].Durability;
                                                client.Inventory.Add(item9, Conquord.Game.Enums.ItemUse.CreateAndAdd);



                                                ConquerItem item = new ConquerItem(true);
                                                item.ID = itemid;
                                                item.Bound = true;
                                                item.Color = Conquord.Game.Enums.Color.White;

                                                item.Plus = 3;
                                                item.Durability = item.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                                if (client.Inventory.Add(item, Conquord.Game.Enums.ItemUse.CreateAndAdd))
                                                {
                                                    client.Inventory.Remove(720356, 1);
                                                    Network.GamePackets.NpcReply npc = new Network.GamePackets.NpcReply(6, "You Have Obtained Ninja Pack HaveFun in Server ZConquer");
                                                    npc.OptionID = 255;
                                                    client.Send(npc.ToArray());
                                                }
                                                else
                                                {
                                                    dialog.Text("You need atleast one free slot in your inventory.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text("sorry you dont have MerryPack in your Bag .");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("You need to make atleast 10 free spots in your inventory.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                #endregion
                                #region Items Monk
                                case 65:
                                    {
                                        uint itemid = 202009;//Tower 
                                        uint itemid2 = 201009;//Fan 
                                        uint itemid3 = 160019;//Boot 
                                        uint itemid4 = 120029;//Necklace 
                                        uint itemid5 = 150019;//Ring 
                                        uint itemid6 = 117009;//Earrings 
                                        uint itemid7 = 136009;//Armor 
                                        uint itemid8 = 610019;//Weapon 
                                        uint itemid9 = 610019;//Weapon 
                                        if (client.Inventory.Count <= 30)
                                        {
                                            if (client.Entity.ConquerPoints >= 0)
                                            {
                                                client.Entity.Teleport(1002, 303, 278);
                                                ConquerItem item2 = new ConquerItem(true);
                                                item2.ID = itemid2;
                                                item2.Bound = true;
                                                item2.Color = Conquord.Game.Enums.Color.White;

                                                item2.Plus = 3;
                                                item2.Durability = item2.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid2].Durability;
                                                client.Inventory.Add(item2, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item3 = new ConquerItem(true);
                                                item3.ID = itemid3;
                                                item3.Bound = true;
                                                item3.Color = Conquord.Game.Enums.Color.White;

                                                item3.Plus = 3;
                                                item3.Durability = item3.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid3].Durability;
                                                client.Inventory.Add(item3, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item4 = new ConquerItem(true);
                                                item4.ID = itemid4;
                                                item4.Bound = true;
                                                item4.Color = Conquord.Game.Enums.Color.White;

                                                item4.Plus = 3;
                                                item4.Durability = item4.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid4].Durability;
                                                client.Inventory.Add(item4, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item5 = new ConquerItem(true);
                                                item5.ID = itemid5;
                                                item5.Bound = true;
                                                item5.Color = Conquord.Game.Enums.Color.White;

                                                item5.Plus = 3;
                                                item5.Durability = item5.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid5].Durability;
                                                client.Inventory.Add(item5, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item6 = new ConquerItem(true);
                                                item6.ID = itemid6;
                                                item6.Bound = true;
                                                item6.Color = Conquord.Game.Enums.Color.White;

                                                item6.Plus = 3;
                                                item6.Durability = item6.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid6].Durability;
                                                client.Inventory.Add(item6, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item7 = new ConquerItem(true);
                                                item7.ID = itemid7;
                                                item7.Bound = true;
                                                item7.Color = Conquord.Game.Enums.Color.White;

                                                item7.Plus = 3;
                                                item7.Durability = item7.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid7].Durability;
                                                client.Inventory.Add(item7, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item8 = new ConquerItem(true);
                                                item8.ID = itemid8;
                                                item8.Bound = true;
                                                item8.Color = Conquord.Game.Enums.Color.White;

                                                item8.Plus = 3;
                                                item8.Durability = item8.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid8].Durability;
                                                client.Inventory.Add(item8, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item9 = new ConquerItem(true);
                                                item9.ID = itemid9;
                                                item9.Bound = true;
                                                item9.Color = Conquord.Game.Enums.Color.White;

                                                item9.Plus = 3;
                                                item9.Durability = item9.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid9].Durability;
                                                client.Inventory.Add(item9, Conquord.Game.Enums.ItemUse.CreateAndAdd);



                                                ConquerItem item = new ConquerItem(true);
                                                item.ID = itemid;
                                                item.Bound = true;
                                                item.Color = Conquord.Game.Enums.Color.White;

                                                item.Plus = 3;
                                                item.Durability = item.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                                if (client.Inventory.Add(item, Conquord.Game.Enums.ItemUse.CreateAndAdd))
                                                {
                                                    client.Inventory.Remove(720356, 1);
                                                    Network.GamePackets.NpcReply npc = new Network.GamePackets.NpcReply(6, "You Have Obtained Monk Pack HaveFun in Server ZConquer");
                                                    npc.OptionID = 255;
                                                    client.Send(npc.ToArray());
                                                }
                                                else
                                                {
                                                    dialog.Text("You need atleast one free slot in your inventory.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text("sorry you dont have MerryPack in your Bag .");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("You need to make atleast 10 free spots in your inventory.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                #endregion
                                #region Items WaterTaoist
                                case 135:
                                    {
                                        uint itemid = 202009;//Tower 
                                        uint itemid2 = 201009;//Fan 
                                        uint itemid3 = 160019;//Boot 
                                        uint itemid4 = 120029;//Necklace 
                                        uint itemid5 = 150019;//Ring 
                                        uint itemid6 = 114009;//Cap 
                                        uint itemid7 = 134009;//Armor 
                                        uint itemid8 = 560019;//Spear 
                                        uint itemid9 = 421009;//BackSword 
                                        if (client.Inventory.Count <= 30)
                                        {
                                            if (client.Entity.ConquerPoints >= 0)
                                            {
                                                client.Entity.Teleport(1002, 303, 278);
                                                ConquerItem item2 = new ConquerItem(true);
                                                item2.ID = itemid2;
                                                item2.Bound = true;
                                                item2.Color = Conquord.Game.Enums.Color.White;

                                                item2.Plus = 3;
                                                item2.Durability = item2.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid2].Durability;
                                                client.Inventory.Add(item2, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item3 = new ConquerItem(true);
                                                item3.ID = itemid3;
                                                item3.Bound = true;
                                                item3.Color = Conquord.Game.Enums.Color.White;

                                                item3.Plus = 3;
                                                item3.Durability = item3.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid3].Durability;
                                                client.Inventory.Add(item3, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item4 = new ConquerItem(true);
                                                item4.ID = itemid4;
                                                item4.Bound = true;
                                                item4.Color = Conquord.Game.Enums.Color.White;

                                                item4.Plus = 3;
                                                item4.Durability = item4.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid4].Durability;
                                                client.Inventory.Add(item4, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item5 = new ConquerItem(true);
                                                item5.ID = itemid5;
                                                item5.Bound = true;
                                                item5.Color = Conquord.Game.Enums.Color.White;

                                                item5.Plus = 3;
                                                item5.Durability = item5.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid5].Durability;
                                                client.Inventory.Add(item5, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item6 = new ConquerItem(true);
                                                item6.ID = itemid6;
                                                item6.Bound = true;
                                                item6.Color = Conquord.Game.Enums.Color.White;

                                                item6.Plus = 3;
                                                item6.Durability = item6.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid6].Durability;
                                                client.Inventory.Add(item6, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item7 = new ConquerItem(true);
                                                item7.ID = itemid7;
                                                item7.Bound = true;
                                                item7.Color = Conquord.Game.Enums.Color.White;

                                                item7.Plus = 3;
                                                item7.Durability = item7.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid7].Durability;
                                                client.Inventory.Add(item7, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item8 = new ConquerItem(true);
                                                item8.ID = itemid8;
                                                item8.Bound = true;
                                                item8.Color = Conquord.Game.Enums.Color.White;

                                                item8.Plus = 3;
                                                item8.Durability = item8.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid8].Durability;
                                                client.Inventory.Add(item8, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item9 = new ConquerItem(true);
                                                item9.ID = itemid9;
                                                item9.Bound = true;
                                                item9.Color = Conquord.Game.Enums.Color.White;

                                                item9.Plus = 3;
                                                item9.Durability = item9.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid9].Durability;
                                                client.Inventory.Add(item9, Conquord.Game.Enums.ItemUse.CreateAndAdd);



                                                ConquerItem item = new ConquerItem(true);
                                                item.ID = itemid;
                                                item.Bound = true;
                                                item.Color = Conquord.Game.Enums.Color.White;

                                                item.Plus = 3;
                                                item.Durability = item.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                                if (client.Inventory.Add(item, Conquord.Game.Enums.ItemUse.CreateAndAdd))
                                                {
                                                    client.Inventory.Remove(720356, 1);
                                                    Network.GamePackets.NpcReply npc = new Network.GamePackets.NpcReply(6, "You Have Obtained WaterTaoist Pack HaveFun in Server ZConquer");
                                                    npc.OptionID = 255;
                                                    client.Send(npc.ToArray());
                                                }
                                                else
                                                {
                                                    dialog.Text("You need atleast one free slot in your inventory.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text("sorry you dont have MerryPack in your Bag .");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("You need to make atleast 10 free spots in your inventory.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                #endregion
                                #region Items FireTaoist
                                case 145:
                                    {
                                        uint itemid = 202009;//Tower 
                                        uint itemid2 = 201009;//Fan 
                                        uint itemid3 = 160019;//Boot 
                                        uint itemid4 = 121029;//Bag 
                                        uint itemid5 = 152019;//Bracelet 
                                        uint itemid6 = 114009;//Cap 
                                        uint itemid7 = 134009;//Armor 
                                        uint itemid8 = 560019;//Spear 
                                        uint itemid9 = 421009;//BackSword 
                                        if (client.Inventory.Count <= 30)
                                        {
                                            if (client.Entity.ConquerPoints >= 0)
                                            {
                                                client.Entity.Teleport(1002, 303, 278);
                                                ConquerItem item2 = new ConquerItem(true);
                                                item2.ID = itemid2;
                                                item2.Bound = true;
                                                item2.Color = Conquord.Game.Enums.Color.White;

                                                item2.Plus = 3;
                                                item2.Durability = item2.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid2].Durability;
                                                client.Inventory.Add(item2, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item3 = new ConquerItem(true);
                                                item3.ID = itemid3;
                                                item3.Bound = true;
                                                item3.Color = Conquord.Game.Enums.Color.White;

                                                item3.Plus = 3;
                                                item3.Durability = item3.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid3].Durability;
                                                client.Inventory.Add(item3, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item4 = new ConquerItem(true);
                                                item4.ID = itemid4;
                                                item4.Bound = true;
                                                item4.Color = Conquord.Game.Enums.Color.White;

                                                item4.Plus = 3;
                                                item4.Durability = item4.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid4].Durability;
                                                client.Inventory.Add(item4, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item5 = new ConquerItem(true);
                                                item5.ID = itemid5;
                                                item5.Bound = true;
                                                item5.Color = Conquord.Game.Enums.Color.White;

                                                item5.Plus = 3;
                                                item5.Durability = item5.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid5].Durability;
                                                client.Inventory.Add(item5, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item6 = new ConquerItem(true);
                                                item6.ID = itemid6;
                                                item6.Bound = true;
                                                item6.Color = Conquord.Game.Enums.Color.White;

                                                item6.Plus = 3;
                                                item6.Durability = item6.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid6].Durability;
                                                client.Inventory.Add(item6, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item7 = new ConquerItem(true);
                                                item7.ID = itemid7;
                                                item7.Bound = true;
                                                item7.Color = Conquord.Game.Enums.Color.White;

                                                item7.Plus = 3;
                                                item7.Durability = item7.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid7].Durability;
                                                client.Inventory.Add(item7, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item8 = new ConquerItem(true);
                                                item8.ID = itemid8;
                                                item8.Bound = true;
                                                item8.Color = Conquord.Game.Enums.Color.White;

                                                item8.Plus = 3;
                                                item8.Durability = item8.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid8].Durability;
                                                client.Inventory.Add(item8, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item9 = new ConquerItem(true);
                                                item9.ID = itemid9;
                                                item9.Bound = true;
                                                item9.Color = Conquord.Game.Enums.Color.White;

                                                item9.Plus = 3;
                                                item9.Durability = item9.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid9].Durability;
                                                client.Inventory.Add(item9, Conquord.Game.Enums.ItemUse.CreateAndAdd);



                                                ConquerItem item = new ConquerItem(true);
                                                item.ID = itemid;
                                                item.Bound = true;
                                                item.Color = Conquord.Game.Enums.Color.White;

                                                item.Plus = 3;
                                                item.Durability = item.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                                if (client.Inventory.Add(item, Conquord.Game.Enums.ItemUse.CreateAndAdd))
                                                {
                                                    client.Inventory.Remove(720356, 1);
                                                    Network.GamePackets.NpcReply npc = new Network.GamePackets.NpcReply(6, "You Have Obtained FireTaoist Pack HaveFun in Server ZConquer");
                                                    npc.OptionID = 255;
                                                    client.Send(npc.ToArray());
                                                }
                                                else
                                                {
                                                    dialog.Text("You need atleast one free slot in your inventory.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text("sorry you dont have MerryPack in your Bag .");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("You need to make atleast 10 free spots in your inventory.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                #endregion
                                #region Items Pirate
                                case 75:
                                    {
                                        uint itemid = 202009;//Tower 
                                        uint itemid2 = 201009;//Fan 
                                        uint itemid3 = 160019;//Boot 
                                        uint itemid4 = 120029;//Necklace 
                                        uint itemid5 = 150019;//Ring 
                                        uint itemid6 = 117009;//Earrings 
                                        uint itemid7 = 139009;//Armor 
                                        uint itemid8 = 611019;//Rapier 
                                        uint itemid9 = 612019;//Pistol 
                                        if (client.Inventory.Count <= 30)
                                        {
                                            if (client.Entity.ConquerPoints >= 0)
                                            {
                                                client.Entity.Teleport(1002, 303, 278);
                                                ConquerItem item2 = new ConquerItem(true);
                                                item2.ID = itemid2;
                                                item2.Bound = true;
                                                item2.Color = Conquord.Game.Enums.Color.White;

                                                item2.Plus = 3;
                                                item2.Durability = item2.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid2].Durability;
                                                client.Inventory.Add(item2, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item3 = new ConquerItem(true);
                                                item3.ID = itemid3;
                                                item3.Bound = true;
                                                item3.Color = Conquord.Game.Enums.Color.White;

                                                item3.Plus = 3;
                                                item3.Durability = item3.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid3].Durability;
                                                client.Inventory.Add(item3, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item4 = new ConquerItem(true);
                                                item4.ID = itemid4;
                                                item4.Bound = true;
                                                item4.Color = Conquord.Game.Enums.Color.White;

                                                item4.Plus = 3;
                                                item4.Durability = item4.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid4].Durability;
                                                client.Inventory.Add(item4, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item5 = new ConquerItem(true);
                                                item5.ID = itemid5;
                                                item5.Bound = true;
                                                item5.Color = Conquord.Game.Enums.Color.White;

                                                item5.Plus = 3;
                                                item5.Durability = item5.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid5].Durability;
                                                client.Inventory.Add(item5, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item6 = new ConquerItem(true);
                                                item6.ID = itemid6;
                                                item6.Bound = true;
                                                item6.Color = Conquord.Game.Enums.Color.White;

                                                item6.Plus = 3;
                                                item6.Durability = item6.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid6].Durability;
                                                client.Inventory.Add(item6, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item7 = new ConquerItem(true);
                                                item7.ID = itemid7;
                                                item7.Bound = true;
                                                item7.Color = Conquord.Game.Enums.Color.White;

                                                item7.Plus = 3;
                                                item7.Durability = item7.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid7].Durability;
                                                client.Inventory.Add(item7, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item8 = new ConquerItem(true);
                                                item8.ID = itemid8;
                                                item8.Bound = true;
                                                item8.Color = Conquord.Game.Enums.Color.White;

                                                item8.Plus = 3;
                                                item8.Durability = item8.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid8].Durability;
                                                client.Inventory.Add(item8, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item9 = new ConquerItem(true);
                                                item9.ID = itemid9;
                                                item9.Bound = true;
                                                item9.Color = Conquord.Game.Enums.Color.White;

                                                item9.Plus = 3;
                                                item9.Durability = item9.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid9].Durability;
                                                client.Inventory.Add(item9, Conquord.Game.Enums.ItemUse.CreateAndAdd);



                                                ConquerItem item = new ConquerItem(true);
                                                item.ID = itemid;
                                                item.Bound = true;
                                                item.Color = Conquord.Game.Enums.Color.White;

                                                item.Plus = 3;
                                                item.Durability = item.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                                if (client.Inventory.Add(item, Conquord.Game.Enums.ItemUse.CreateAndAdd))
                                                {
                                                    client.Inventory.Remove(720356, 1);
                                                    Network.GamePackets.NpcReply npc = new Network.GamePackets.NpcReply(6, "You Have Obtained Pirate Pack HaveFun in Server ZConquer");
                                                    npc.OptionID = 255;
                                                    client.Send(npc.ToArray());
                                                }
                                                else
                                                {
                                                    dialog.Text("You need atleast one free slot in your inventory.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text("sorry you dont have MerryPack in your Bag .");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("You need to make atleast 10 free spots in your inventory.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                #endregion
                                #region Items Lee-Long
                                case 85:
                                    {
                                        uint itemid = 202009;//Tower 
                                        uint itemid2 = 201009;//Fan 
                                        uint itemid3 = 160019;//Boot 
                                        uint itemid4 = 120029;//Necklace 
                                        uint itemid5 = 150019;//Ring 
                                        uint itemid6 = 148009;//Lee-Long-Head 
                                        uint itemid7 = 138009;//Lee-Long-Armor 
                                        uint itemid8 = 617029;//Lee-Long-Weapon 
                                        uint itemid9 = 617029;//Lee-Long-Weapon 
                                        if (client.Inventory.Count <= 30)
                                        {
                                            if (client.Entity.ConquerPoints >= 0)
                                            {
                                                client.Entity.Teleport(1002, 303, 278);
                                                ConquerItem item2 = new ConquerItem(true);
                                                item2.ID = itemid2;
                                                item2.Bound = true;
                                                item2.Color = Conquord.Game.Enums.Color.White;

                                                item2.Plus = 3;
                                                item2.Durability = item2.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid2].Durability;
                                                client.Inventory.Add(item2, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item3 = new ConquerItem(true);
                                                item3.ID = itemid3;
                                                item3.Bound = true;
                                                item3.Color = Conquord.Game.Enums.Color.White;

                                                item3.Plus = 3;
                                                item3.Durability = item3.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid3].Durability;
                                                client.Inventory.Add(item3, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item4 = new ConquerItem(true);
                                                item4.ID = itemid4;
                                                item4.Bound = true;
                                                item4.Color = Conquord.Game.Enums.Color.White;

                                                item4.Plus = 3;
                                                item4.Durability = item4.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid4].Durability;
                                                client.Inventory.Add(item4, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item5 = new ConquerItem(true);
                                                item5.ID = itemid5;
                                                item5.Bound = true;
                                                item5.Color = Conquord.Game.Enums.Color.White;

                                                item5.Plus = 3;
                                                item5.Durability = item5.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid5].Durability;
                                                client.Inventory.Add(item5, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item6 = new ConquerItem(true);
                                                item6.ID = itemid6;
                                                item6.Bound = true;
                                                item6.Color = Conquord.Game.Enums.Color.White;

                                                item6.Plus = 3;
                                                item6.Durability = item6.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid6].Durability;
                                                client.Inventory.Add(item6, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item7 = new ConquerItem(true);
                                                item7.ID = itemid7;
                                                item7.Bound = true;
                                                item7.Color = Conquord.Game.Enums.Color.White;

                                                item7.Plus = 3;
                                                item7.Durability = item7.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid7].Durability;
                                                client.Inventory.Add(item7, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item8 = new ConquerItem(true);
                                                item8.ID = itemid8;
                                                item8.Bound = true;
                                                item8.Color = Conquord.Game.Enums.Color.White;

                                                item8.Plus = 3;
                                                item8.Durability = item8.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid8].Durability;
                                                client.Inventory.Add(item8, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item9 = new ConquerItem(true);
                                                item9.ID = itemid9;
                                                item9.Bound = true;
                                                item9.Color = Conquord.Game.Enums.Color.White;

                                                item9.Plus = 3;
                                                item9.Durability = item9.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid9].Durability;
                                                client.Inventory.Add(item9, Conquord.Game.Enums.ItemUse.CreateAndAdd);



                                                ConquerItem item = new ConquerItem(true);
                                                item.ID = itemid;
                                                item.Bound = true;
                                                item.Color = Conquord.Game.Enums.Color.White;

                                                item.Plus = 3;
                                                item.Durability = item.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                                if (client.Inventory.Add(item, Conquord.Game.Enums.ItemUse.CreateAndAdd))
                                                {
                                                    client.Inventory.Remove(720356, 1);
                                                    Network.GamePackets.NpcReply npc = new Network.GamePackets.NpcReply(6, "You Have Obtained Lee-Long Pack HaveFun in Server ZConquer");
                                                    npc.OptionID = 255;
                                                    client.Send(npc.ToArray());
                                                }
                                                else
                                                {
                                                    dialog.Text("You need atleast one free slot in your inventory.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text("sorry you dont have MerryPack in your Bag .");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("You need to make atleast 10 free spots in your inventory.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                #endregion
                                #region Items Windwalker
                                case 165:
                                    {
                                        uint itemid = 202009;//Tower 
                                        uint itemid2 = 201009;//Fan 
                                        uint itemid3 = 160019;//Boot 
                                        uint itemid4 = 120029;//Necklace 
                                        uint itemid5 = 150019;//Ring 
                                        uint itemid6 = 170009;//Windwalker-Head 
                                        uint itemid7 = 101009;//Windwalker-Armor 
                                        uint itemid8 = 626029;//Windwalker-Weapon 
                                        uint itemid9 = 626029;//Windwalker-Weapon 
                                        if (client.Inventory.Count <= 30)
                                        {
                                            if (client.Entity.ConquerPoints >= 0)
                                            {
                                                client.Entity.Teleport(1002, 303, 278);
                                                ConquerItem item2 = new ConquerItem(true);
                                                item2.ID = itemid2;
                                                item2.Bound = true;
                                                item2.Color = Conquord.Game.Enums.Color.White;

                                                item2.Plus = 3;
                                                item2.Durability = item2.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid2].Durability;
                                                client.Inventory.Add(item2, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item3 = new ConquerItem(true);
                                                item3.ID = itemid3;
                                                item3.Bound = true;
                                                item3.Color = Conquord.Game.Enums.Color.White;

                                                item3.Plus = 3;
                                                item3.Durability = item3.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid3].Durability;
                                                client.Inventory.Add(item3, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item4 = new ConquerItem(true);
                                                item4.ID = itemid4;
                                                item4.Bound = true;
                                                item4.Color = Conquord.Game.Enums.Color.White;

                                                item4.Plus = 3;
                                                item4.Durability = item4.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid4].Durability;
                                                client.Inventory.Add(item4, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item5 = new ConquerItem(true);
                                                item5.ID = itemid5;
                                                item5.Bound = true;
                                                item5.Color = Conquord.Game.Enums.Color.White;

                                                item5.Plus = 3;
                                                item5.Durability = item5.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid5].Durability;
                                                client.Inventory.Add(item5, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item6 = new ConquerItem(true);
                                                item6.ID = itemid6;
                                                item6.Bound = true;
                                                item6.Color = Conquord.Game.Enums.Color.White;

                                                item6.Plus = 3;
                                                item6.Durability = item6.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid6].Durability;
                                                client.Inventory.Add(item6, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item7 = new ConquerItem(true);
                                                item7.ID = itemid7;
                                                item7.Bound = true;
                                                item7.Color = Conquord.Game.Enums.Color.White;

                                                item7.Plus = 3;
                                                item7.Durability = item7.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid7].Durability;
                                                client.Inventory.Add(item7, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item8 = new ConquerItem(true);
                                                item8.ID = itemid8;
                                                item8.Bound = true;
                                                item8.Color = Conquord.Game.Enums.Color.White;

                                                item8.Plus = 3;
                                                item8.Durability = item8.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid8].Durability;
                                                client.Inventory.Add(item8, Conquord.Game.Enums.ItemUse.CreateAndAdd);

                                                ConquerItem item9 = new ConquerItem(true);
                                                item9.ID = itemid9;
                                                item9.Bound = true;
                                                item9.Color = Conquord.Game.Enums.Color.White;

                                                item9.Plus = 3;
                                                item9.Durability = item9.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid9].Durability;
                                                client.Inventory.Add(item9, Conquord.Game.Enums.ItemUse.CreateAndAdd);



                                                ConquerItem item = new ConquerItem(true);
                                                item.ID = itemid;
                                                item.Bound = true;
                                                item.Color = Conquord.Game.Enums.Color.White;

                                                item.Plus = 3;
                                                item.Durability = item.MaximDurability = Conquord.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                                if (client.Inventory.Add(item, Conquord.Game.Enums.ItemUse.CreateAndAdd))
                                                {
                                                    client.Inventory.Remove(720356, 1);
                                                    Network.GamePackets.NpcReply npc = new Network.GamePackets.NpcReply(6, "You Have Obtained Lee-Long Pack HaveFun in Server ZConquer");
                                                    npc.OptionID = 255;
                                                    client.Send(npc.ToArray());
                                                }
                                                else
                                                {
                                                    dialog.Text("You need atleast one free slot in your inventory.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text("sorry you dont have MerryPack in your Bag .");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("You need to make atleast 10 free spots in your inventory.");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                #endregion
                            }
                            break;
                        }
                    #endregion 
                    #region Nobility Donor
                    case 7611237:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hello friend. I can help you get on the top faster! Instead of donating gold, you can give me your cps and I will automatically do the hard work for you. The exchange ratio is 1:50000. That means you give me 1 CPs, I donate for you 50000 gold. The minimum amount is 6,000,000 CPs.");
                                        dialog.Input("Insert amount:", 1, 10);
                                        dialog.Option("No thank you.", 255);
                                        break;
                                    }
                                case 1:
                                    {
                                        uint input;
                                        if (uint.TryParse(npcRequest.Input, out input))
                                        {
                                            if (input < 6000000)
                                            {
                                                dialog.Text("You need to input more or atleast 6,000,000 CPs..");
                                                dialog.Input("Insert amount:", 1, 9);
                                                dialog.Option("No thank you.", 255);
                                                return;
                                            }
                                            if (client.Entity.ConquerPoints >= input)
                                            {
                                                client.NpcCpsInput = input;
                                                dialog.Text("Are you sure you want to donate " + input + " CPs? That means I will donate for you " + (((ulong)input) * 50000ul) + " gold.");
                                                dialog.Option("Yes", 2);
                                                dialog.Option("No thank you.", 255);
                                            }
                                            else
                                            {
                                                dialog.Text("You don't have that much CPs. Try again. \nThe exchange ratio is 1:50000. That means you give me 1 CPs, I donate for you 50000 gold. The minimum amount is 6,000,000 CPs.");
                                                dialog.Input("Insert amount:", 1, 9);
                                                dialog.Option("No thank you.", 255);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Try again. \nThe exchange ratio is 1:50000. That means you give me 1 CPs, I donate for you 50000 gold. The minimum amount is 6,000,000 CPs.");
                                            dialog.Input("Insert amount:", 1, 9);
                                            dialog.Option("No thank you.", 255);
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        if (client.Entity.ConquerPoints >= client.NpcCpsInput && client.NpcCpsInput != 0)
                                        {
                                            client.Entity.ConquerPoints -= client.NpcCpsInput;
                                            Game.ConquerStructures.Nobility.Donate((ulong)client.NpcCpsInput * 50000ul, client);
                                            client.NpcCpsInput = 0;
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Clear
                    case 34227:
                        {

                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {

                                        dialog.Text("Hello My Bro . I Can Clear Your items For 100 Cps.");
                                        dialog.Option("Okay Clear !", 51);
                                        dialog.Option("Just passing by.", 255);
                                        dialog.Avatar(80);
                                        dialog.Send();
                                        break;
                                    }
                                case 51:
                                    {
                                        dialog.Text("Are You Sure ?");
                                        dialog.Option("Yes,Clear", 1);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        {
                                            if (client.Entity.ConquerPoints >= 100)
                                            {
                                                client.Entity.ConquerPoints -= 100;
                                                ConquerItem[] inventory = new ConquerItem[client.Inventory.Objects.Length];
                                                client.Inventory.Objects.CopyTo(inventory, 0);

                                                foreach (ConquerItem item in inventory)
                                                {
                                                    client.Inventory.Remove(item, Conquord.Game.Enums.ItemUse.Remove);
                                                }

                                            }
                                            else
                                            {
                                                dialog.Text("Sorry You Don't Have 100 Cps.");
                                                dialog.Option("I see.", 255);
                                                dialog.Avatar(116);
                                                dialog.Send();
                                            }
                                        }

                                        break;
                                    }

                            }
                            break;
                        }
                    #endregion 
                    #region Npc Format Points
                    case 34237:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hello " + client.Entity.Name + " I will help you to add your points in the Strength , Vitality , Agility , Spirit");
                                        dialog.Text("you have to be level 140 and 2nd Reborn and Please chose your own class and leave the rest for me");
                                        dialog.Option("Monk", 1);
                                        dialog.Option("Ninja", 2);
                                        dialog.Option("Taoist (Water/Fire)", 3);
                                        dialog.Option("Archer", 4);
                                        dialog.Option("Wariorr", 5);
                                        dialog.Option("Trojan", 6);
                                        dialog.Option("Pirate", 7);
                                        dialog.Option("Full HP", 8);
                                        dialog.Option("Wait a minute.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Entity.Level == 140 && client.Entity.Reborn == 2)
                                        {
                                            client.Entity.Strength = 0;
                                            client.Entity.Vitality = 502;
                                            client.Entity.Agility = 36;
                                            client.Entity.Spirit = 0;
                                            client.Entity.Atributes = 0;
                                        }
                                        else
                                        {

                                            dialog.Text("you have to be level 140 and 2nd Reborn ");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        if (client.Entity.Level == 140 && client.Entity.Reborn == 2)
                                        {
                                            client.Entity.Strength = 0;
                                            client.Entity.Vitality = 262;
                                            client.Entity.Agility = 276;
                                            client.Entity.Spirit = 0;
                                            client.Entity.Atributes = 0;
                                        }
                                        else
                                        {

                                            dialog.Text("you have to be level 140 and 2nd Reborn ");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 3:
                                    {
                                        if (client.Entity.Level == 140 && client.Entity.Reborn == 2)
                                        {
                                            client.Entity.Strength = 0;
                                            client.Entity.Vitality = 438;
                                            client.Entity.Agility = 0;
                                            client.Entity.Spirit = 100;
                                            client.Entity.Atributes = 0;
                                        }
                                        else
                                        {

                                            dialog.Text("you have to be level 140 and 2nd Reborn ");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                        break;
                                    }

                                case 4:
                                    {
                                        if (client.Entity.Level == 140 && client.Entity.Reborn == 2)
                                        {
                                            client.Entity.Strength = 0;
                                            client.Entity.Vitality = 418;
                                            client.Entity.Agility = 120;
                                            client.Entity.Spirit = 0;
                                            client.Entity.Atributes = 0;
                                        }
                                        else
                                        {

                                            dialog.Text("you have to be level 140 and 2nd Reborn ");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 5:
                                    {
                                        if (client.Entity.Level == 140 && client.Entity.Reborn == 2)
                                        {
                                            client.Entity.Strength = 176;
                                            client.Entity.Vitality = 362;
                                            client.Entity.Agility = 0;
                                            client.Entity.Spirit = 0;
                                            client.Entity.Atributes = 0;
                                        }
                                        else
                                        {

                                            dialog.Text("you have to be level 140 and 2nd Reborn ");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 6:
                                    {
                                        if (client.Entity.Level == 140 && client.Entity.Reborn == 2)
                                        {
                                            client.Entity.Strength = 176;
                                            client.Entity.Vitality = 362;
                                            client.Entity.Agility = 0;
                                            client.Entity.Spirit = 0;
                                            client.Entity.Atributes = 0;
                                        }
                                        else
                                        {

                                            dialog.Text("you have to be level 140 and 2nd Reborn ");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 7:
                                    {
                                        if (client.Entity.Level == 140 && client.Entity.Reborn == 2)
                                        {
                                            client.Entity.Strength = 0;
                                            client.Entity.Vitality = 502;
                                            client.Entity.Agility = 36;
                                            client.Entity.Spirit = 0;
                                            client.Entity.Atributes = 0;
                                        }
                                        else
                                        {

                                            dialog.Text("you have to be level 140 and 2nd Reborn ");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 8:
                                    {
                                        if (client.Entity.Level == 140 && client.Entity.Reborn == 2)
                                        {
                                            client.Entity.Strength = 0;
                                            client.Entity.Vitality = 538;
                                            client.Entity.Agility = 0;
                                            client.Entity.Spirit = 0;
                                            client.Entity.Atributes = 0;
                                        }
                                        else
                                        {

                                            dialog.Text("you have to be level 140 and 2nd Reborn ");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion Npc Format Points  
                    #region Study Points Seller By ShaDow
                    case 34225:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Hello " + client.Entity.Name + " I Sell 10000 Study Points For 2k Cps !");
                                        dialog.Option("Yes I Need.", 1);
                                        dialog.Option("No Thx Ya ShaDow.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();

                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Entity.ConquerPoints >= 2000)
                                        {
                                            client.Entity.ConquerPoints -= 2000;
                                            client.Entity.SubClasses.StudyPoints += 10000;
                                        }
                                        else
                                        {

                                            dialog.Text("Please Take 2k Cps To Get The Study Point.");
                                            dialog.Option("I See.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();

                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion  
                    #region KitMerchant
                    case KitMerchant.NPCID:
                        {
                            dialog.Avatar(31);
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("Well, hello there! I`m here selling special kits for all of the different classes. See anything you like?");
                                        dialog.Text("~We`ve got Elite kits, cheap and sturdy, or Super kits for the more affluent adventurer. Which kind of kit");
                                        dialog.Text("~were you interested in? The Super or Elite kits?");

                                        dialog.Option("Super~kits.", 1);
                                        dialog.Option("Let~me~think...", 255);
                                        dialog.Avatar(31);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        dialog.Text("The Super kit is the best choice for you, if you can afford it. I have 3 choices for your particular class. Which one do you like?");
                                        dialog.Option("" + KitMerchant.SuperWeapon(1, client.Entity.Class, client) + "", 2);
                                        dialog.Option("" + KitMerchant.SuperKitA(1, 1, client) + "", 4);
                                        dialog.Option("" + KitMerchant.SuperKitB(1, 1, client) + "", 6);
                                        dialog.Option("Check~others", 3);
                                        dialog.Avatar(31);
                                        dialog.Send();
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("The " + KitMerchant.SuperWeapon(2, client.Entity.Class, client) + "");
                                        dialog.Text("~It costs only " + Program.Weapon + " CPs! Do you want to buy one?");

                                        dialog.Option("Yeah!", 3);
                                        dialog.Option("Check~others", 1);
                                        dialog.Avatar(31);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        dialog.Text("The " + KitMerchant.SuperKitA(1, 1, client) + " contains a Super L90 Crystal Ring, a Super L82 Basalt Necklace, Super L90 Leopard Boots and 3 +2 Stones.");
                                        dialog.Text("~It costs " + Program.KitA + " CPs, and is an incredible bargain! Would you like to buy one?");

                                        dialog.Option("Yeah!", 5);
                                        dialog.Option("Check~others", 255);
                                        dialog.Avatar(31);
                                        dialog.Send();
                                        break;
                                    }
                                case 6:
                                    {
                                        dialog.Text("The " + KitMerchant.SuperKitB(1, 1, client) + " contains a~Super~L85~Jade~Bracelet,~a~Super~L82~Jade~Bag,~Super~L90~Leopard~Boots~and~3~+2~Stones.");
                                        dialog.Text("~It costs " + Program.KitB + " CPs, and is an incredible bargain! Would you like to buy one?");

                                        dialog.Option("Yeah!", 7);
                                        dialog.Option("Check~others", 255);
                                        dialog.Avatar(31);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        if (client.Entity.ConquerPoints >= Program.Weapon)
                                        {
                                            KitMerchant.SuperWeapon(0, client.Entity.Class, client);
                                            client.Entity.ConquerPoints -= Program.Weapon;
                                        }
                                        else
                                        {
                                            dialog.Text("I`m sorry, but you don`t have enough CPs to buy the Super Archer Kit. Perhaps you should come back when you have the money...");

                                            dialog.Option("Alright.", 255);
                                            dialog.Avatar(31);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 5:
                                    {
                                        if (client.Entity.ConquerPoints >= Program.KitA)
                                        {
                                            KitMerchant.SuperKitA(0, 1, client);
                                            client.Entity.ConquerPoints -= Program.KitA;
                                        }
                                        else
                                        {
                                            dialog.Text("I`m sorry, but you don`t have enough CPs to buy the Super Universal Kit A. Perhaps you should come back when you have the money...");

                                            dialog.Option("Alright.", 255);
                                            dialog.Avatar(31);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 7:
                                    {
                                        if (client.Entity.ConquerPoints >= Program.KitB)
                                        {
                                            KitMerchant.SuperKitB(0, 1, client);
                                            client.Entity.ConquerPoints -= Program.KitB;
                                        }
                                        else
                                        {
                                            dialog.Text("I`m sorry, but you don`t have enough CPs to buy the Super Universal Kit B. Perhaps you should come back when you have the money...");

                                            dialog.Option("Alright.", 255);
                                            dialog.Avatar(31);
                                            dialog.Avatar(31);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion  
                    #region PK Less Than
                    case 100252:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.Entity.PKPoints < 30)
                                        {
                                            dialog.Text("i cant less your pk any more you are safe Now");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                            break;
                                        }
                                        dialog.Text("Hay I am Pkpoints lesser i can less your pk from 30 or higher");
                                        dialog.Option("-[30] PKponits 100 cps.", 1);
                                        dialog.Option("-[60] PKponits 150 cps", 2);
                                        dialog.Option("-[90] PKponits 200 cps", 3);
                                        dialog.Option("-[120] PKponits 250 cps", 4);
                                        dialog.Option("-[150] PKponits 300 cps", 5);
                                        dialog.Option("-[200] PKponits 350 cps", 6);
                                        dialog.Option("-[250] PKponits 400 cps", 7);
                                        dialog.Option("Just passing by.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                        break;

                                    }
                                case 1:
                                    {
                                        if (client.Entity.PKPoints >= 30)
                                        {
                                            if (client.Entity.ConquerPoints >= 100)
                                            {
                                                client.Entity.ConquerPoints -= 100;
                                                client.Entity.PKPoints -= 30;
                                            }
                                            else
                                            {
                                                dialog.Text("Please take 100 cps.");
                                                dialog.Option("I see.", 255);
                                                dialog.Avatar(116);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("your pk points is low must higher than." + client.Entity.PKPoints);
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        if (client.Entity.PKPoints >= 60)
                                        {
                                            if (client.Entity.ConquerPoints >= 150)
                                            {
                                                client.Entity.ConquerPoints -= 150;
                                                client.Entity.PKPoints -= 60;
                                            }
                                            else
                                            {
                                                dialog.Text("Please take 15000 cps.");
                                                dialog.Option("I see.", 255);
                                                dialog.Avatar(116);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("your pk points is low must higher than." + client.Entity.PKPoints);
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 3:
                                    {
                                        if (client.Entity.PKPoints >= 90)
                                        {
                                            if (client.Entity.ConquerPoints >= 200)
                                            {
                                                client.Entity.ConquerPoints -= 200;
                                                client.Entity.PKPoints -= 90;
                                            }
                                            else
                                            {
                                                dialog.Text("Please take 200 cps.");
                                                dialog.Option("I see.", 255);
                                                dialog.Avatar(116);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("your pk points is low must higher than." + client.Entity.PKPoints);
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 4:
                                    {
                                        if (client.Entity.PKPoints >= 120)
                                        {
                                            if (client.Entity.ConquerPoints >= 250)
                                            {
                                                client.Entity.ConquerPoints -= 250;
                                                client.Entity.PKPoints -= 120;
                                            }
                                            else
                                            {
                                                dialog.Text("Please take 250 cps.");
                                                dialog.Option("I see.", 255);
                                                dialog.Avatar(116);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("your pk points is low must higher than." + client.Entity.PKPoints);
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 5:
                                    {
                                        if (client.Entity.PKPoints >= 150)
                                        {
                                            if (client.Entity.ConquerPoints >= 300)
                                            {
                                                client.Entity.ConquerPoints -= 300;
                                                client.Entity.PKPoints -= 150;
                                            }
                                            else
                                            {
                                                dialog.Text("Please take 300 cps.");
                                                dialog.Option("I see.", 255);
                                                dialog.Avatar(116);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("your pk points is low must higher than." + client.Entity.PKPoints);
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 6:
                                    {
                                        if (client.Entity.PKPoints >= 200)
                                        {
                                            if (client.Entity.ConquerPoints >= 350)
                                            {
                                                client.Entity.ConquerPoints -= 350;
                                                client.Entity.PKPoints -= 200;
                                            }
                                            else
                                            {
                                                dialog.Text("Please take 350 cps.");
                                                dialog.Option("I see.", 255);
                                                dialog.Avatar(116);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("your pk points is low must higher than." + client.Entity.PKPoints);
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 7:
                                    {
                                        if (client.Entity.PKPoints >= 250)
                                        {
                                            if (client.Entity.ConquerPoints >= 400)
                                            {
                                                client.Entity.ConquerPoints -= 400;
                                                client.Entity.PKPoints -= 250;
                                            }
                                            else
                                            {
                                                dialog.Text("Please take 400 cps.");
                                                dialog.Option("I see.", 255);
                                                dialog.Avatar(116);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("your pk points is low must higher than." + client.Entity.PKPoints);
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region Shop
                    case 99998881:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("I Can Sell Health For You.");
                                        dialog.Option("Yes Please.", 1);
                                        dialog.Option("Just Passing By!", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        Conquord.Network.GamePackets.Data Data = new Conquord.Network.GamePackets.Data(true);
                                        Data.UID = client.Entity.UID;
                                        Data.ID = 4100;
                                        Data.dwParam = 502;
                                        Data.wParam1 = client.Entity.X;
                                        Data.wParam2 = client.Entity.Y;
                                        client.Send(Data);
                                        break;
                                    }

                            }
                            break;
                        }
                    #endregion
                    #region PowerArena
                    #region JoinNPc
                    case 500010:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {

                                        dialog.Text("Want to test your power and skill? Power Arena has now provided you such a chance. Come to Arena Manager Wang between 13:00 pm and 14:00pm or 20:00 pm and 20:59 pm to accept the challenge!");
                                        if (DateTime.Now.Hour == 13 && DateTime.Now.Minute >= 00 && DateTime.Now.Minute <= 39 || DateTime.Now.Hour == 20 && DateTime.Now.Minute >= 00 && DateTime.Now.Minute <= 39)
                                        {
                                            dialog.Option("Enter~Arena.", 1);
                                        }
                                        else
                                        {
                                            dialog.Option("I~will~be~there!", 255);
                                        }
                                        dialog.Option("Exchange~for~refinery~packs.", 3);
                                        dialog.Option("Rules?", 2);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        dialog.Text("Well, you can exchange Refinery Badges you get in the Arena for refinery packs here! There are 1 kind of refinery packs: "); dialog.Text("~superior refinery pack. The items in different kinds of packs are different. Obviously, the items in the superior refinery packs are of the best quality!"); dialog.Text("~Now which kind of refinery pack do you want to exchange your Refinery Badges for? (The required number of Refinery Badges is marked behind the choice.)");
                                        dialog.Option("Sacred~refinery~pack.~(12)", 6);
                                        dialog.Send();
                                        break;
                                    }
                                case 6:
                                    {
                                        if (client.Inventory.Contains(720148, 12))
                                        {
                                            client.Inventory.Remove(720148, 12);
                                            client.Inventory.Add(3004249, 0, 1);
                                        }
                                        else
                                        {
                                            dialog.Text("You don`t have enough Refinery Badges! You should prepare 12 Refinery Badges if you want to get a superior refinery pack!");
                                            dialog.Option("I~see.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("The Power Arena has 7 stages. The guardians in higher stages of the Power Arena will be more powerful. If you are knocked down in a stage, you will be sent to a lower stage to restart your challenge. However, if you are knocked down in stage 7, you"); dialog.Text("~will be knocked out of the Power Arena. You have to wait for 5 minutes to enter the Arena again. You will find an Agate in each stage of the Arena. If you flattened enough guardians in that stage, you can click the Agate to claim your reward, or to"); dialog.Text("~proceed to an advanced stage. Of course, you can choose to withdraw to a lower stage or to quit the Arena.");
                                        dialog.Option("I~see!", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        var coord = Kernel.Maps[1730].RandomCoordinates(43, 47, 20);
                                        client.Entity.Teleport(1730, coord.Item1, coord.Item2);
                                        client.Send(new Message("You have entered the Power arena. Go defeat the guradians now and test your power!", Color.Red, Message.System));
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region PowerArena1
                    case 3956:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("You can claim experience from the Agate for every 30 guardians you have defeated. You can also use the Agate to enter a lower stage or to return to Twin City.");
                                        dialog.Option("Claim~Experience.", 1);
                                        dialog.Option("Withdraw~to~Stage~2.", 2);
                                        dialog.Option("Quit~Arena.", 3);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                case 6:
                                    {
                                        if (npcRequest.OptionID == 5) client.IncreaseExperience(client.ExpBall, false);
                                        else client.Inventory.Add(720148, 0, 1);
                                        var coord = Kernel.Maps[1731].RandomCoordinates(47, 37, 10);
                                        client.Entity.Teleport(1731, coord.Item1, coord.Item2);
                                        client.Entity.KillArena1 = 0;
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Entity.KillArena1 >= 30)
                                        {
                                            dialog.Text("You`ve defeated 30 Arena Guardians! Which reward would you like, EXP or 1 Refinery Badge?");
                                            dialog.Option("EXP~worth~1~EXP~Ball.", 5);
                                            dialog.Option("1~Refinery~Badge.", 6);
                                            dialog.Option("Let~me~think...", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("You need to defeat 30 guardians first to claim experience from the Agate.");
                                            dialog.Option("Okay.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("After you enter a lower stage, there will be some requirements for you to meet before advancing a stage. Are you sure you want to enter a lower stage?");
                                        dialog.Option("Yes,~enter~a~lower~stage.", 4);
                                        dialog.Option("Let~me~think~about~it!", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 3:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        client.Entity.KillArena1 = 0;
                                        break;
                                    }
                                case 4:
                                    {
                                        var coord = Kernel.Maps[1731].RandomCoordinates(47, 37, 10);
                                        client.Entity.Teleport(1731, coord.Item1, coord.Item2);
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region PowerArena2
                    case 3957:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("You can claim experience from the Agate for every 45 guardians you have defeated. Also, you can use the Agate to proceed to an advanced stage, to withdraw to a lower stage or to return to Twin City.");
                                        dialog.Option("Claim~Experience~and~proceed.", 1);
                                        dialog.Option("Claim~Experience.", 1);
                                        dialog.Option("Withdraw~to~Stage~3.", 2);
                                        dialog.Option("Quit~Arena.", 3);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                case 6:
                                    {
                                        if (npcRequest.OptionID == 5) client.IncreaseExperience(client.ExpBall, false);
                                        else client.Inventory.Add(720148, 0, 1);
                                        var coord = Kernel.Maps[1732].RandomCoordinates(49, 45, 10);
                                        client.Entity.Teleport(1732, coord.Item1, coord.Item2);
                                        client.Entity.KillArena2 = 0;
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Entity.KillArena2 >= 45)
                                        {
                                            dialog.Text("You`ve defeated 45 Arena Guardians! Which reward would you like, EXP or 1 Refinery Badge?");
                                            dialog.Option("EXP~worth~1~EXP~Ball.", 5);
                                            dialog.Option("1~Refinery~Badge.", 6);
                                            dialog.Option("Let~me~think...", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("You need to defeat 45 guardians first to claim experience from the Agate and proceed to an advanced stage.");
                                            dialog.Option("Okay.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("After you enter a lower stage, there will be some requirements for you to meet before advancing a stage. Are you sure you want to enter a lower stage?");
                                        dialog.Option("Enter~a~lower~stage.", 4);
                                        dialog.Option("Let~me~think~about~it!", 255);
                                        dialog.Send();

                                        break;
                                    }
                                case 4:
                                    {
                                        var coord = Kernel.Maps[1732].RandomCoordinates(49, 45, 10);
                                        client.Entity.Teleport(1732, coord.Item1, coord.Item2);
                                        break;
                                    }
                                case 3:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        client.Entity.KillArena2 = 0;
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region PowerArena3
                    case 3958:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("You can claim experience from the Agate for every 60 guardians you have defeated. Also, you can use the Agate to proceed to an advanced stage, to withdraw to a lower stage or to return to Twin City.");
                                        dialog.Option("Claim~Experience~and~proceed.", 1);
                                        dialog.Option("Claim~Experience.", 1);
                                        dialog.Option("Withdraw~to~Stage~4.", 2);
                                        dialog.Option("Quit~Arena.", 3);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                case 6:
                                    {
                                        if (npcRequest.OptionID == 5) client.IncreaseExperience(client.ExpBall, false);
                                        else client.Inventory.Add(720148, 0, 1);
                                        var coord = Kernel.Maps[1733].RandomCoordinates(53, 43, 10);
                                        client.Entity.Teleport(1733, coord.Item1, coord.Item2);
                                        client.Entity.KillArena3 = 0;
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Entity.KillArena3 >= 60)
                                        {
                                            dialog.Text("You`ve defeated 60 Arena Guardians! Which reward would you like, EXP or 1 Refinery Badge?");
                                            dialog.Option("EXP~worth~1~EXP~Ball.", 5);
                                            dialog.Option("1~Refinery~Badge.", 6);
                                            dialog.Option("Let~me~think...", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("You need to defeat 60 guardians first to claim experience from the Agate and proceed to an advanced stage.");
                                            dialog.Option("Okay.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("After you enter a lower stage, there will be some requirements for you to meet before advancing a stage. Are you sure you want to enter a lower stage?");
                                        dialog.Option("Enter~a~lower~stage.", 4);
                                        dialog.Option("Let~me~think~about~it!", 255);
                                        dialog.Send();

                                        break;
                                    }
                                case 4:
                                    {
                                        var coord = Kernel.Maps[1733].RandomCoordinates(53, 43, 10);
                                        client.Entity.Teleport(1733, coord.Item1, coord.Item2);
                                        break;
                                    }
                                case 3:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        client.Entity.KillArena3 = 0;
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region PowerArena4
                    case 3959:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("You can claim experience from the Agate for every 35 guardians you have defeated. Also, you can use the Agate to proceed to an advanced stage, to withdraw to a lower stage or to return to Twin City.");
                                        dialog.Option("Claim~Experience~and~proceed.", 1);
                                        dialog.Option("Claim~Experience.", 1);
                                        dialog.Option("Withdraw~to~Stage~5.", 2);
                                        dialog.Option("Quit~Arena.", 3);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                case 6:
                                    {
                                        if (npcRequest.OptionID == 5) client.IncreaseExperience(client.ExpBall, false);
                                        else client.Inventory.Add(720148, 0, 1);
                                        var coord = Kernel.Maps[1734].RandomCoordinates(42, 32, 10);
                                        client.Entity.Teleport(1734, coord.Item1, coord.Item2);
                                        client.Entity.KillArena4 = 0;
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Entity.KillArena4 >= 35)
                                        {
                                            dialog.Text("You`ve defeated 35 Arena Guardians! Which reward would you like, EXP or 1 Refinery Badge?");
                                            dialog.Option("EXP~worth~1~EXP~Ball.", 5);
                                            dialog.Option("1~Refinery~Badge.", 6);
                                            dialog.Option("Let~me~think...", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("You need to defeat 35 guardians first to claim experience from the Agate and proceed to an advanced stage.");
                                            dialog.Option("Okay.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("After you enter a lower stage, there will be some requirements for you to return to the next stage. Are you sure you want to enter a lower stage?");
                                        dialog.Option("Enter~a~lower~stage.", 4);
                                        dialog.Option("Let~me~think~about~it!", 255);
                                        dialog.Send();


                                        break;
                                    }
                                case 4:
                                    {
                                        var coord = Kernel.Maps[1734].RandomCoordinates(42, 32, 10);
                                        client.Entity.Teleport(1734, coord.Item1, coord.Item2);
                                        break;
                                    }
                                case 3:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        client.Entity.KillArena4 = 0;
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region PowerArena5
                    case 3960:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("You can claim experience from the Agate for every 45 guardians you have defeated. Also, you can use the Agate to proceed to an advanced stage, to withdraw to a lower stage or to return to Twin City.");
                                        dialog.Option("Claim~Experience~and~proceed.", 1);
                                        dialog.Option("Claim~Experience.", 1);
                                        dialog.Option("Withdraw~to~Stage~6.", 2);
                                        dialog.Option("Quit~Arena.", 3);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                case 6:
                                    {
                                        if (npcRequest.OptionID == 5) client.IncreaseExperience(client.ExpBall, false);
                                        else client.Inventory.Add(720148, 0, 1);
                                        var coord = Kernel.Maps[1735].RandomCoordinates(49, 42, 10);
                                        client.Entity.Teleport(1735, coord.Item1, coord.Item2);
                                        client.Entity.KillArena5 = 0;
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Entity.KillArena5 >= 45)
                                        {
                                            dialog.Text("You`ve defeated 45 Arena Guardians! Which reward would you like, EXP or 1 Refinery Badge?");
                                            dialog.Option("EXP~worth~1~EXP~Ball.", 5);
                                            dialog.Option("1~Refinery~Badge.", 6);
                                            dialog.Option("Let~me~think...", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("You need to defeat 45 guardians first to claim experience from the Agate and proceed to an advanced stage.");
                                            dialog.Option("Okay.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("After you enter a lower stage, there will be some requirements for you to return to the next stage. Are you sure you want to enter a lower stage?");
                                        dialog.Option("Enter~a~lower~stage.", 4);
                                        dialog.Option("Let~me~think~about~it!", 255);
                                        dialog.Send();

                                        break;
                                    }
                                case 4:
                                    {
                                        var coord = Kernel.Maps[1735].RandomCoordinates(49, 42, 10);
                                        client.Entity.Teleport(1735, coord.Item1, coord.Item2);
                                        break;
                                    }
                                case 3:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        client.Entity.KillArena5 = 0;
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region PowerArena6
                    case 3961:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("You can claim experience from the Agate for every 60 guardians you have defeated. Also, you can use the Agate to proceed to an advanced stage, to withdraw to a lower stage or to return to Twin City.");
                                        dialog.Option("Claim~Experience~and~proceed.", 1);
                                        dialog.Option("Claim~Experience.", 1);
                                        dialog.Option("Withdraw~to~Stage~7.", 2);
                                        dialog.Option("Quit~Arena.", 3);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                case 6:
                                    {
                                        if (npcRequest.OptionID == 5) client.IncreaseExperience(client.ExpBall, false);
                                        else client.Inventory.Add(720148, 0, 1);
                                        var coord = Kernel.Maps[1736].RandomCoordinates(54, 48, 10);
                                        client.Entity.Teleport(1736, coord.Item1, coord.Item2);
                                        client.Entity.KillArena6 = 0;
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Entity.KillArena6 >= 60)
                                        {
                                            dialog.Text("You`ve defeated 60 Arena Guardians! Which reward would you like, EXP or 1 Refinery Badge?");
                                            dialog.Option("EXP~worth~1~EXP~Ball.", 5);
                                            dialog.Option("1~Refinery~Badge.", 6);
                                            dialog.Option("Let~me~think...", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("You need to defeat 60 guardians first to claim experience from the Agate.");
                                            dialog.Option("Okay.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 2:
                                    {
                                        dialog.Text("After you enter a lower stage, there will be some requirements for you to return to the next stage. Are you sure you want to enter a lower stage?");
                                        dialog.Option("Enter~a~lower~stage.", 4);
                                        dialog.Option("Let~me~think~about~it!", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 4:
                                    {
                                        var coord = Kernel.Maps[1737].RandomCoordinates(54, 50, 10);
                                        client.Entity.Teleport(1737, coord.Item1, coord.Item2);
                                        break;
                                    }
                                case 3:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        client.Entity.KillArena6 = 0;
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #region PowerArena7
                    case 3962:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        dialog.Text("You can claim experience from the Agate for every 90 guardians you have defeated. Also, you can use the Agate to proceed to an advanced stage, to withdraw to a lower stage or to return to Twin City.");
                                        dialog.Option("Claim~Experience~and~proceed.", 1);
                                        dialog.Option("Claim~Experience.", 1);
                                        dialog.Option("Quit~Arena.", 3);
                                        dialog.Send();
                                        break;
                                    }
                                case 5:
                                case 6:
                                    {
                                        if (npcRequest.OptionID == 5) client.IncreaseExperience(client.ExpBall, false);
                                        else client.Inventory.Add(720148, 0, 1);

                                        client.Entity.Teleport(1002, 300, 278);
                                        client.Entity.KillArena7 = 0;
                                        break;
                                    }
                                case 1:
                                    {
                                        if (client.Entity.KillArena7 >= 90)
                                        {
                                            dialog.Text("You`ve defeated 90 Arena Guardians! Which reward would you like, EXP or 1 Refinery Badge?");
                                            dialog.Option("EXP~worth~1~EXP~Ball.", 5);
                                            dialog.Option("1~Refinery~Badge.", 6);
                                            dialog.Option("Let~me~think...", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("You need to defeat 90 guardians first to claim experience from the Agate.");
                                            dialog.Option("Okay.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                case 3:
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                        client.Entity.KillArena7 = 0;
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    #endregion
                        #region Wardrobe
                    case 5005011:
                        {
                            switch (npcRequest.OptionID)
                            {
                                case 0:
                                    {
                                        if (client.Entity.ConquerPoints < 5000)
                                        {
                                            dialog.Text("Sorry But You Don't Have 5k Cps.");
                                            dialog.Option("I'll think about it!", 255);
                                            dialog.Send();
                                            return;
                                        }
                                        dialog.Text("Do You Want All Wings And Titles ..?");
                                        dialog.Text("But its For 5k Cps.");
                                        dialog.Option("Yes please.", 1);
                                        dialog.Option("Not now.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                case 1:
                                    {
                                        client.Entity.ConquerPoints -= 20000;
                                        new TitleStorage().AddTitle(client, 4001, 1000, false);
                                        new TitleStorage().AddTitle(client, 6001, 20, false);
                                        new TitleStorage().AddTitle(client, 6002, 21, false);
                                        new TitleStorage().AddTitle(client, 6003, 22, false);
                                        new TitleStorage().AddTitle(client, 6004, 23, false);
                                        new TitleStorage().AddTitle(client, 6005, 6005, false);
                                        new TitleStorage().AddTitle(client, 1, 1000, false);
                                        new TitleStorage().AddTitle(client, 2018, 1, false);
                                        new TitleStorage().AddTitle(client, 2001, 2, false);
                                        new TitleStorage().AddTitle(client, 2002, 3, false);
                                        new TitleStorage().AddTitle(client, 2003, 4, false);
                                        new TitleStorage().AddTitle(client, 2004, 5, false);
                                        new TitleStorage().AddTitle(client, 2005, 6, false);
                                        new TitleStorage().AddTitle(client, 2006, 7, false);
                                        new TitleStorage().AddTitle(client, 2020, 2020, false);
                                        new TitleStorage().AddTitle(client, 2021, 2021, false);
                                        new TitleStorage().AddTitle(client, 2022, 2022, false);
                                        new TitleStorage().AddTitle(client, 2023, 2023, false);
                                        new TitleStorage().AddTitle(client, 2024, 2024, false);
                                        new TitleStorage().AddTitle(client, 2025, 2025, false);
                                        new TitleStorage().AddTitle(client, 2028, 2028, false);
                                        new TitleStorage().AddTitle(client, 2029, 2029, false);
                                        new TitleStorage().AddTitle(client, 2030, 2030, false);
                                        new TitleStorage().AddTitle(client, 2031, 2031, false);
                                        new TitleStorage().AddTitle(client, 6009, 6009, false);
                                        new TitleStorage().AddTitle(client, 6007, 6007, false);
                                        new TitleStorage().AddTitle(client, 6008, 6008, false);
                                        new TitleStorage().AddTitle(client, 2026, 2026, false);
                                        new TitleStorage().AddTitle(client, 2027, 2027, false);
                                        new TitleStorage().AddTitle(client, 2032, 2032, false);
                                        new TitleStorage().AddTitle(client, 2033, 2033, false);
                                        new TitleStorage().AddTitle(client, 6011, 6011, false);
                                        new TitleStorage().AddTitle(client, 2034, 2034, false);
                                        new TitleStorage().AddTitle(client, 2013, 14, false);
                                        new TitleStorage().AddTitle(client, 2014, 15, false);
                                        new TitleStorage().AddTitle(client, 2015, 16, false);
                                        new TitleStorage().AddTitle(client, 2016, 17, false);
                                        new TitleStorage().AddTitle(client, 2035, 2035, false);
                                        new TitleStorage().AddTitle(client, 2036, 2036, false);
                                        new TitleStorage().AddTitle(client, 2037, 2037, false);
                                        new TitleStorage().AddTitle(client, 2038, 2038, false);
                                        new TitleStorage().AddTitle(client, 2039, 2039, false);
                                        new TitleStorage().AddTitle(client, 2040, 2040, false);
                                        new TitleStorage().AddTitle(client, 2041, 2041, false);
                                        new TitleStorage().AddTitle(client, 2044, 2044, false);
                                        new TitleStorage().AddTitle(client, 2045, 2045, false);
                                        new TitleStorage().AddTitle(client, 6012, 6012, false);
                                        new TitleStorage().AddTitle(client, 2050, 2050, false);
                                        new TitleStorage().AddTitle(client, 2051, 2051, false);
                                        new TitleStorage().AddTitle(client, 2052, 2052, false);
                                        new TitleStorage().AddTitle(client, 2053, 2053, false);
                                        new TitleStorage().AddTitle(client, 2054, 2054, false);
                                        new TitleStorage().AddTitle(client, 2057, 2057, false);
                                        new TitleStorage().AddTitle(client, 2056, 2056, false);
                                        new TitleStorage().AddTitle(client, 2046, 2046, false);
                                        new TitleStorage().AddTitle(client, 2047, 2047, false);
                                        new TitleStorage().AddTitle(client, 2048, 2048, false);
                                        new TitleStorage().AddTitle(client, 2049, 2049, false);
                                        client.Entity.WTitles.Points += 8000;
                                        dialog.Text("You Got System Wardrobe Full By Mr-Eslam");
                                        dialog.Option("Thanks.", 255);
                                        dialog.Send();
                                        break;
                                    }
                            }
                            break;
                        }
                    #endregion
                    default:
                        {
                            #region Itembox(Furniture)

                            if (Kernel.Furnitures.ContainsKey(client.ActiveNpc))
                            {
                                if (client.Entity.MapID != (ushort)client.Entity.UID && client.Entity.Spouse != Kernel.Furnitures[client.ActiveNpc])
                                {
                                    client.MessageBox("Only The Owner Of The House And Her Spouse Can Only Open ItemBox!");
                                    return;
                                }
                                if (client.WarehouseOpen == true || client.WarehousePW == 0)
                                {
                                    INpc npc = null;
                                    if (client.Map.Npcs.TryGetValue(client.ActiveNpc, out npc))
                                    {
                                        client.WarehouseOpen = true;
                                        Data data = new Data(true);
                                        data.ID = Data.OpenWindow;
                                        data.UID = client.Entity.UID;
                                        data.TimeStamp = Time32.Now;
                                        data.dwParam = 4;
                                        data.wParam1 = npc.X;
                                        data.wParam2 = npc.Y;
                                        client.Send(data);
                                        return;
                                    }
                                }
                                else
                                {
                                    Data data = new Data(true);
                                    data.UID = client.Entity.UID;
                                    data.ID = Data.OpenWindow;
                                    data.TimeStamp = Time32.Now;
                                    data.dwParam = Data.WindowCommands.SecondaryPasswordVerification;
                                    data.wParam1 = client.Entity.X;
                                    data.wParam2 = client.Entity.Y;
                                    client.Send(data);
                                    return;
                                }
                            }
                            #endregion
                            break;
                        }
                }
                if (client.Account.State == Database.AccountTable.AccountState.GameMaster)
                    client.Send(new Message("NpcID[" + client.ActiveNpc + "]", System.Drawing.Color.Red, Message.TopLeft));  
                if (!dialog.Sent)
                    if (dialog.Replies.Count > 1)
                        dialog.Send();
            }
        }
    }
}